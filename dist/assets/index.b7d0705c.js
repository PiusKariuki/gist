import{j as I,a as V,R as O,b as P,r as o,u as F,L as q,F as k,f as Z,c as K,d as W,e as Q,g as X,h as Y,i as B,k as E,l as ee,m as re,n as te,B as se}from"./vendor.ae730482.js";const ae=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function l(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=l(s);fetch(s.href,a)}};ae();const e=I.exports.jsx,m=I.exports.jsxs,U=I.exports.Fragment,T=()=>({renderSpinner:t=>e("div",{className:`${t?"flex justify-center items-center":"hidden"}`,children:e("div",{className:"animate-spin rounded-full h-[4rem] w-[4rem] border-b-[0.2rem] \r border-green-40"})})}),le="http://localhost:5000",A=V.create({baseURL:le}),oe=r=>({setSelf:t,onSet:l})=>{const n=localStorage.getItem(r);n!==null&&t(JSON.parse(n)),l((s,a,c)=>{c?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(s))})},z=O({key:"user",default:{},effects_UNSTABLE:[oe("gist_user"),({onSet:r})=>r(t=>console.log("current user",t))]}),G=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ne=/^[a-zA-Z0-9]{6,}$/,me=()=>{const r=P(z),[t,l]=o.exports.useState(""),[n,s]=o.exports.useState(""),[a,c]=o.exports.useState(!1),[d,i]=o.exports.useState({}),[u,p]=o.exports.useState(""),[h,g]=o.exports.useState("");let N=F();return{errors:d,email:t,password:n,handleChange:f=>{switch(i(""),f.target.name){case"email":l(f.target.value),f.target.value.toLowerCase().match(G)?g(""):g("Invalid email");break;case"pass":s(f.target.value);break}},login:async f=>{var y;f.preventDefault(),c(!0),i({});try{const{data:b}=await A.post("/login",{email:t,password:n});r(b),c(!1),i(""),N("/")}catch(b){i((y=b==null?void 0:b.response)==null?void 0:y.data),c(!1)}},load:a,mailErrors:h,passErrors:u}},ce=()=>{const{errors:r,email:t,password:l,handleChange:n,login:s,load:a,mailErrors:c,passErrors:d}=me(),{renderSpinner:i}=T();return m("div",{className:"flex flex-col bg-transparent w-full items-center",children:[e("p",{className:"text-[1.6rem] text-green-80 font-semibold mb-[6rem]",children:"GIST SHOP"}),m("form",{className:"flex flex-col gap-y-[0.5rem] pt-[3rem] w-[75vw] md:w-[50vw] lg:w-[30vw]",onSubmit:s,children:[e("input",{onChange:n,type:"text",id:"email",name:"email",value:t,placeholder:"Email",className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:c||(r==null?void 0:r.emailErr)}),e("input",{onChange:n,type:"password",id:"pass",name:"pass",placeholder:"password",value:l,className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:d||(r==null?void 0:r.passErr)}),i(a),m("div",{className:"flex flex-col  mt-[4rem] md:gap-y-[2rem] ",children:[e("button",{disabled:d.length>1||c.length>1,type:"submit",className:"w-full btn bg-red-20  hover:bg-red-20 text-[1.2rem]\r text-white h-[2.8125rem] ",children:"Sign in"}),m("p",{className:"text-[1.2rem] text-center self-center font-semibold tracking-[0.02rem]\r mt-[2rem] md:mt-[0rem]",children:["Need an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(q,{to:"/register",children:"Signup"})})]})]})]})]})},de=()=>{const[r,t]=o.exports.useState(""),[l,n]=o.exports.useState(""),[s,a]=o.exports.useState(""),[c,d]=o.exports.useState(""),[i,u]=o.exports.useState(""),[p,h]=o.exports.useState(""),[g,N]=o.exports.useState(""),[v,S]=o.exports.useState(""),[f,y]=o.exports.useState(""),[b,L]=o.exports.useState(!1),[D,C]=o.exports.useState({}),J=P(z);return{mailError:r,passError:l,email:s,password:c,fname:i,lname:p,bio:g,userName:v,handleChange:x=>{switch(C(""),x.target.id){case"email":a(x.target.value),x.target.value.toLowerCase().match(G)?t(""):t("Invalid email");break;case"pass":d(x.target.value),x.target.value.match(ne)?n(""):n("Password should be atleast six characters long");break;case"fname":u(x.target.value);break;case"lname":h(x.target.value);break;case"userName":S(x.target.value);break;case"bio":N(x.target.value);break;case"phone":y(x.target.value);break}},register:async x=>{var _,j;x.preventDefault(),L(!0),C({});let $={email:s,password:c,firstName:i,lastName:p,userName:v,bio:g,phonenumber:f};try{const{data:w}=await A.post("/register",$);J(w),L(!1),C("")}catch(w){((_=w.response.data)==null?void 0:_.code)===11e3&&t("This email is already registered"),C((j=w==null?void 0:w.response)==null?void 0:j.data),L(!1)}},load:b,errors:D,phone:f}},ie=()=>{var v,S;const{mailError:r,passError:t,email:l,password:n,fname:s,lname:a,bio:c,userName:d,handleChange:i,register:u,load:p,errors:h,phone:g}=de(),{renderSpinner:N}=T();return m("div",{className:"flex flex-col md:flex-row gap-x-[2.5rem]",children:[e("div",{className:"hidden lg:flex lg:min-w-[25%] bg-green-60 lg:min-h-screen"}),m("form",{className:"flex flex-col gap-y-[0.1rem] w-full lg:w-[50%] py-[3rem] px-[1rem]",onSubmit:u,children:[e("p",{className:"text-[2.2rem] text-blue-20 font-semibold mb-[1.5rem] justify-center",children:"GIST SHOP"}),e("p",{className:"text-[1rem] font-medium",children:"Create your account"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Email Address"}),e("input",{onChange:i,value:l,required:!0,type:"text",id:"email",name:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:r||((v=h==null?void 0:h.email)==null?void 0:v.message)||h.length>1&&h}),e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"First Name"}),e("input",{onChange:i,value:s,required:!0,type:"text",id:"fname",name:"fname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Last Name"}),e("input",{onChange:i,value:a,required:!0,type:"text",id:"lname",name:"lname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"userName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"userName"}),e("input",{onChange:i,value:d,required:!0,type:"text",id:"userName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Bio"}),e("input",{onChange:i,value:c,required:!0,id:"bio",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Phone Number"}),e("input",{onChange:i,value:g,required:!0,id:"phone",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Password"}),e("input",{onChange:i,value:n,required:!0,type:"password",id:"pass",name:"pass",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:t||((S=h==null?void 0:h.password)==null?void 0:S.message)}),e("div",{className:"mt-[1rem]",children:N(p)}),e("button",{disabled:t.length>1||r.length>1||p,type:"submit",className:"btn py-[0.5rem] mt-[3rem] md:max-w-[7rem] text-white text-[1.2rem]\r font-bold ",children:"Submit"}),m("p",{className:"text-[1rem] text-center md:text-left  font-semibold mt-[2rem]\r tracking-[0.02rem]",children:["Already have an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(q,{to:"/",children:"Login"})})]})]})]})},ue=()=>m("div",{className:"flex flex-col md:flex-row py-[2.5rem] px-[2rem] md:gap-x-[2rem]",children:[m("div",{className:"flex flex-col order-2 md:order-1 self-center",children:[m("p",{className:"uppercase text-blue-20 font-[900] text-[2rem]",children:["Welcome to GIST-SHOP.",e("br",{}),e("span",{className:"text-black-40",children:"Social Shopping Platform."})]}),e("p",{className:"text-[1.2rem] mt-[1.5rem]",children:"An always live social shopping network, with your favorite brands and shops."}),e("button",{className:"bg-red-20 w-[9rem] rounded-md py-[1rem] px-[1rem] text-white\r font-[900] self-center mt-[1.4rem] hover:bg-red-600 hover:scale-110 trasition ease-in-out\r duration-300",children:"Join For Free"})]}),e("div",{className:"flex  bg-hero w-[80vw] h-[30vh] bg-center bg-cover bg-no-repeat order-1\r md:order-2 md:min-w-[55vw] md:h-[45vh] lg:h-[55vh] self-center rounded-xl"})]}),H=()=>{const[r,t]=o.exports.useState([]),[l,n]=o.exports.useState(""),[s,a]=o.exports.useState(!1);return{getProducts:async()=>{a(!0);try{let{data:d}=await A.get("/products");t(d),a(!1)}catch(d){a(!1),n(d)}},products:r,errors:l,load:s}},he=({name:r,price:t,img:l,userName:n})=>m("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl border-white hover:shadow-2xl relative",children:[m("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:[r,e("br",{}),e(k,{icon:Z,size:"1x",color:"blue"}),"\xA0\xA0\xA0",e("span",{className:"",children:n})]}),e("div",{className:"flex relative w-[70vw] h-[40vh] md:w-[25rem] bg-no-repeat bg-center bg-cover rounded-xl\r border-[0.1rem]",style:{backgroundImage:`url(/img/${l})`},children:m("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",t]})})]}),xe=()=>{var s,a,c,d,i;const{getProducts:r,products:t,errors:l,load:n}=H();return o.exports.useEffect(()=>{r()},[]),console.log(t[0]),m("div",{className:"flex flex-col py-[3rem] px-[2rem] h-full w-screen",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Recommended products"}),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto w-screen",children:e(he,{name:(s=t[0])==null?void 0:s.name,userName:(c=(a=t[0])==null?void 0:a.ownerId)==null?void 0:c.userName,img:(d=t[0])==null?void 0:d.images[0],price:(i=t[0])==null?void 0:i.price})})]})},M=()=>{const[r,t]=o.exports.useState([]),[l,n]=o.exports.useState(""),[s,a]=o.exports.useState(!1);return{shops:r,getShops:async()=>{a(!0);try{let{data:d}=await A.get("/shop");t(d),a(!1)}catch(d){a(!1),n(d)}},errors:l,load:s}},pe=({name:r,userName:t,img:l})=>m("div",{className:"flex relative w-[25rem] h-[40vh] bg-no-repeat bg-center bg-cover flex-shrink-0\r border-2 rounded-2xl hover:shadow-2xl",style:{backgroundImage:`url(/img/${l})`},children:[m("p",{className:"absolute top-[4%] right-[80%] text-black-20 font-[600] text-[1.2rem]",children:[e("span",{className:"text-black-40",children:"by"}),"\xA0\xA0",t]}),e("p",{className:"absolute bottom-[4%] right-[40%] text-blue-20 font-[900] text-[1.4rem]",children:r})]});const fe=()=>{const{shops:r,getShops:t,errors:l,load:n}=M();return o.exports.useEffect(()=>{t()},[]),m("div",{className:"flex flex-col py-[3rem] px-[2rem] bg-teal-50",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Popular shops"}),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto ",children:r.length>0&&r.map((s,a)=>e(pe,{name:s.name,userName:s.userId.userName,img:s.image},a))})]})},R=O({key:"search",default:""}),ge=()=>{const[r,t]=o.exports.useState(""),l=P(R);return{handleChange:s=>{t(s.target.value),l(s.target.value)},input:r,setInput:t}},be=()=>{const[r,t]=o.exports.useState(!1);let l=F();const n=P(R),{handleChange:s,input:a,setInput:c}=ge();return o.exports.useEffect(()=>{r===!1&&l("/")},[r]),m("div",{className:"flex flex-row flex-nowrap w-screen py-[1rem] px-[0.5rem] md:px-[2rem] \r gap-x-[1rem]",children:[e("p",{className:"hidden md:flex text-blue-20 text-[1.6rem] font-semibold",children:"Gist-Shop"}),m("div",{className:"relative",children:[e("input",{onFocus:()=>{t(!0),l("/search")},onBlur:()=>{},onChange:s,className:`${r?"w-[90vw] md:w-[35vw] lg:w-[45vw] xl:w-[55vw] border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none":" border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none md:w-[35vw] lg:w-[45vw] xl:w-[55vw]"}`,placeholder:"Search Gist-Shop",value:a}),e(k,{icon:K,size:"1x",color:"red",className:`${r?"absolute right-[17%] top-[30%]":"hidden"}`,onClick:()=>{n(""),c(""),t(!1)}}),e(k,{icon:W,size:"1x",color:"blue",className:`${r?"absolute right-[5%] top-[30%]":"hidden md:absolute right-[5%] top-[30%]"}`})]}),e("button",{className:"hidden md:flex w-[8rem] self-center border-2 border-blue-20 text-[1.2rem]\r hover:bg-blue-400 rounded-md text-center hover:text-white justify-around py-[0.3rem] \r font-[600] ml-auto",children:"Sign in"}),e(k,{icon:Q,color:"blue",className:`${r?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem]  fa-lg md:fa-3x"}`}),e(k,{icon:X,color:"blue",className:`${r?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem] fa-lg md:fa-3x"}`})]})},ve=({name:r,img:t,price:l,userName:n})=>m("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] px-[0.3rem] py-[0.4rem]",children:[e("div",{style:{backgroundImage:`url(/img/${t})`},className:"bg-cover bg-center bg-no-repeat w-[14rem] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem] max-w-[10rem]",children:r}),m("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",n]}),m("p",{className:"text-red-20 font-[900] text-[1.4rem] mb-[1rem]",children:["$:\xA0\xA0\xA0",l]})]}),we=({name:r,img:t,userName:l})=>m("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] p-[2rem]\r flex-shrink-0",children:[e("div",{style:{backgroundImage:`url(/img/${t})`},className:"bg-contain bg-center bg-no-repeat w-[80vw] md:w-[40vw] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:r}),m("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",l]})]}),Ne=()=>{const[r,t]=o.exports.useState([]),[l,n]=o.exports.useState([]),s=Y(R);F();const{getProducts:a,products:c}=H(),{shops:d,getShops:i}=M();return o.exports.useEffect(()=>{a(),i()},[]),o.exports.useEffect(()=>{c.length>0&&t(c.filter(u=>u.name.toLowerCase().includes(s.toLowerCase()))),d.length>0&&n(d.filter(u=>u.name.toLowerCase().includes(s.toLowerCase())))},[s]),m("div",{className:"flex flex-col px-[2rem] md:px-[3rem]",children:[r.length>0?e("p",{className:"text-black-40 font-[800] text-[1.6rem] md:text-[2rem] my-[2rem]",children:"Products"}):null,e("div",{className:"scroller flex flex-row overflow-x-auto gap-x-[2rem]",children:r.length>0&&r.map((u,p)=>e(ve,{price:u.price,img:u.images[0],userName:u.ownerId.userName,name:u.name},p))}),l.length>0?e("p",{className:"text-black-40 font-[800] text-[1.6rem] md:text-[2rem] my-[2rem]",children:"Shops"}):null,e("div",{className:"flex flex-row flex-wrap items-center gap-[2rem]\r ",children:l.length>0&&l.map((u,p)=>e(we,{img:u.image,name:u.name,userName:u.userId.userName},p))})]})},Se=()=>m(U,{children:[e(ue,{}),e(fe,{}),e(xe,{})]}),ye=()=>m("div",{className:"flex flex-col flex-nowrap overflow-x-clip",children:[e(be,{}),m(B,{children:[e(E,{path:"/*",element:e(Se,{})}),e(E,{path:"/search/*",element:e(Ne,{})})]})]}),ke=()=>e(U,{children:m(B,{children:[e(E,{path:"/*",element:e(ye,{})}),e(E,{path:"/login",element:e(ce,{})}),e(E,{path:"/register",element:e(ie,{})})]})});ee.render(e(re.StrictMode,{children:e(te,{children:e(se,{children:e(ke,{})})})}),document.getElementById("root"));
