import{j as T,a as Q,R,b as C,r as m,u as A,L as X,F as v,f as ee,c as oe,d as ce,e as me,g as ie,h as de,i as I,S as D,k as ue,l as xe,O as he,N as U,m as ge,n as fe,o as pe,p as be,q as Ne,s as re,v as we,t as ve,w as ye,x as Se,y as ke,z as Ce,A as Ie,B as E,C as Ae,D as Ee,E as Pe,G as Fe}from"./vendor.3b3eeed0.js";const Le=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}};Le();const e=T.exports.jsx,o=T.exports.jsxs,te=T.exports.Fragment,F=()=>({renderSpinner:s=>e("div",{className:`${s?"flex justify-center items-center":"hidden"}`,children:e("div",{className:"animate-spin rounded-full h-[4rem] w-[4rem] border-b-[0.2rem] \r border-green-40"})})}),ae="http://localhost:5000",$=Q.create({baseURL:ae}),$e=t=>({setSelf:s,onSet:n})=>{const l=localStorage.getItem(t);l!==null&&s(JSON.parse(l)),n((a,r,c)=>{c?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(a))})},B=R({key:"user",default:{},effects_UNSTABLE:[$e("gist_user"),({onSet:t})=>t(s=>console.log("current user",s))]}),M=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Be=/^[a-zA-Z0-9]{6,}$/,Oe=()=>{const t=C(B),[s,n]=m.exports.useState(""),[l,a]=m.exports.useState(""),[r,c]=m.exports.useState(!1),[i,x]=m.exports.useState({}),[u,h]=m.exports.useState(""),[d,p]=m.exports.useState("");let b=A();return{errors:i,email:s,password:l,handleChange:g=>{switch(x(""),g.target.name){case"email":n(g.target.value),g.target.value.toLowerCase().match(M)?p(""):p("Invalid email");break;case"pass":a(g.target.value);break}},login:async g=>{var k;g.preventDefault(),c(!0),x({});try{const{data:f}=await $.post("/login",{email:s,password:l});t(f),c(!1),x(""),b("/")}catch(f){x((k=f==null?void 0:f.response)==null?void 0:k.data),c(!1)}},load:r,mailErrors:d,passErrors:u}},qe=()=>{const{errors:t,email:s,password:n,handleChange:l,login:a,load:r,mailErrors:c,passErrors:i}=Oe(),{renderSpinner:x}=F();return o("div",{className:"flex flex-col bg-transparent w-full items-center",children:[e("p",{className:"text-[1.6rem] text-green-80 font-semibold mb-[6rem]",children:"GIST SHOP"}),o("form",{className:"flex flex-col gap-y-[0.5rem] pt-[3rem] w-[75vw] md:w-[50vw] lg:w-[30vw]",onSubmit:a,children:[e("input",{onChange:l,type:"text",id:"email",name:"email",value:s,placeholder:"Email",className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:c||(t==null?void 0:t.emailErr)}),e("input",{onChange:l,type:"password",id:"pass",name:"pass",placeholder:"password",value:n,className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:i||(t==null?void 0:t.passErr)}),x(r),o("div",{className:"flex flex-col  mt-[4rem] md:gap-y-[2rem] ",children:[e("button",{disabled:i.length>1||c.length>1,type:"submit",className:"w-full btn bg-red-20  hover:bg-red-20 text-[1.2rem]\r text-white h-[2.8125rem] ",children:"Sign in"}),o("p",{className:"text-[1.2rem] text-center self-center font-semibold tracking-[0.02rem]\r mt-[2rem] md:mt-[0rem]",children:["Need an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(X,{to:"/register",children:"Signup"})})]})]})]})]})},Re=()=>{const[t,s]=m.exports.useState(""),[n,l]=m.exports.useState(""),[a,r]=m.exports.useState(""),[c,i]=m.exports.useState(""),[x,u]=m.exports.useState(""),[h,d]=m.exports.useState(""),[p,b]=m.exports.useState(""),[w,S]=m.exports.useState(""),[g,k]=m.exports.useState(""),[f,P]=m.exports.useState(!1),[O,q]=m.exports.useState({}),Y=C(B);return{mailError:t,passError:n,email:a,password:c,fname:x,lname:h,bio:p,userName:w,handleChange:N=>{switch(q(""),N.target.id){case"email":r(N.target.value),N.target.value.toLowerCase().match(M)?s(""):s("Invalid email");break;case"pass":i(N.target.value),N.target.value.match(Be)?l(""):l("Password should be atleast six characters long");break;case"fname":u(N.target.value);break;case"lname":d(N.target.value);break;case"userName":S(N.target.value);break;case"bio":b(N.target.value);break;case"phone":k(N.target.value);break}},register:async N=>{var K,W;N.preventDefault(),P(!0),q({});let Z={email:a,password:c,firstName:x,lastName:h,userName:w,bio:p,phonenumber:g};try{const{data:L}=await $.post("/register",Z);Y(L),P(!1),q("")}catch(L){((K=L.response.data)==null?void 0:K.code)===11e3&&s("This email is already registered"),q((W=L==null?void 0:L.response)==null?void 0:W.data),P(!1)}},load:f,errors:O,phone:g}},_e=()=>{var w,S;const{mailError:t,passError:s,email:n,password:l,fname:a,lname:r,bio:c,userName:i,handleChange:x,register:u,load:h,errors:d,phone:p}=Re(),{renderSpinner:b}=F();return o("div",{className:"flex flex-col md:flex-row gap-x-[2.5rem]",children:[e("div",{className:"hidden lg:flex lg:min-w-[25%] bg-green-60 lg:min-h-screen"}),o("form",{className:"flex flex-col gap-y-[0.1rem] w-full lg:w-[50%] py-[3rem] px-[1rem]",onSubmit:u,children:[e("p",{className:"text-[2.2rem] text-blue-20 font-semibold mb-[1.5rem] justify-center",children:"GIST SHOP"}),e("p",{className:"text-[1rem] font-medium",children:"Create your account"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Email Address"}),e("input",{onChange:x,value:n,required:!0,type:"text",id:"email",name:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:t||((w=d==null?void 0:d.email)==null?void 0:w.message)||d.length>1&&d}),e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"First Name"}),e("input",{onChange:x,value:a,required:!0,type:"text",id:"fname",name:"fname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Last Name"}),e("input",{onChange:x,value:r,required:!0,type:"text",id:"lname",name:"lname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"userName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"userName"}),e("input",{onChange:x,value:i,required:!0,type:"text",id:"userName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Bio"}),e("input",{onChange:x,value:c,required:!0,id:"bio",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Phone Number"}),e("input",{onChange:x,value:p,required:!0,id:"phone",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Password"}),e("input",{onChange:x,value:l,required:!0,type:"password",id:"pass",name:"pass",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:s||((S=d==null?void 0:d.password)==null?void 0:S.message)}),e("div",{className:"mt-[1rem]",children:b(h)}),e("button",{disabled:s.length>1||t.length>1||h,type:"submit",className:"btn py-[0.5rem] mt-[3rem] md:max-w-[7rem] text-white text-[1.2rem]\r font-bold ",children:"Submit"}),o("p",{className:"text-[1rem] text-center md:text-left  font-semibold mt-[2rem]\r tracking-[0.02rem]",children:["Already have an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(X,{to:"/",children:"Login"})})]})]})]})},Ue=()=>o("div",{className:"flex flex-col md:flex-row py-[2.5rem] px-[2rem] md:gap-x-[2rem]",children:[o("div",{className:"flex flex-col order-2 md:order-1 self-center",children:[o("p",{className:"uppercase text-blue-20 font-[900] text-[2rem]",children:["Welcome to GIST-SHOP.",e("br",{}),e("span",{className:"text-black-40",children:"Social Shopping Platform."})]}),e("p",{className:"text-[1.2rem] mt-[1.5rem]",children:"An always live social shopping network, with your favorite brands and shops."}),e("button",{className:"bg-red-20 w-[9rem] rounded-md py-[1rem] px-[1rem] text-white\r font-[900] self-center mt-[1.4rem] hover:bg-red-600 hover:scale-110 trasition ease-in-out\r duration-300",children:"Join For Free"})]}),e("div",{className:"flex  bg-hero w-[80vw] h-[30vh] bg-center bg-cover bg-no-repeat order-1\r md:order-2 md:min-w-[55vw] md:h-[45vh] lg:h-[55vh] self-center rounded-xl"})]}),G=()=>{const[t,s]=m.exports.useState([]),[n,l]=m.exports.useState({}),[a,r]=m.exports.useState(""),[c,i]=m.exports.useState(!1);return{getProducts:async()=>{i(!0);try{let{data:h}=await $.get("/products");s(h),i(!1)}catch(h){i(!1),r(h)}},products:t,errors:a,load:c,getProductById:async h=>{i(!0);try{let{data:d}=await $.get(`/products/products/${h}`);l(d),i(!1)}catch(d){i(!1),r(d)}},product:n}},se=({name:t,price:s,img:n,userName:l,id:a})=>{let r=A();return o("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl border-white hover:shadow-2xl relative",onClick:()=>r(`/product/${a}`),children:[o("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:[t,e("br",{}),e(v,{icon:ee,size:"1x",color:"blue"}),"\xA0\xA0\xA0",e("span",{className:"",children:l})]}),e("div",{className:"flex relative w-[70vw] h-[40vh] md:w-[25rem] bg-no-repeat bg-center bg-cover rounded-xl\r border-[0.1rem]",style:{backgroundImage:`url(/img/${n})`},children:o("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",s]})})]})},ze=()=>{const{getProducts:t,products:s,errors:n,load:l}=G();return m.exports.useEffect(()=>{t()},[]),o("div",{className:"flex flex-col py-[3rem] px-[2rem] h-full w-screen",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Recommended products"}),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto w-screen",children:s.map((a,r)=>{var c;return e(se,{name:a==null?void 0:a.name,userName:(c=a==null?void 0:a.ownerId)==null?void 0:c.userName,img:a==null?void 0:a.images[0],price:a==null?void 0:a.price,id:a==null?void 0:a._id},r)})})]})},le=()=>{const[t,s]=m.exports.useState([]),[n,l]=m.exports.useState(""),[a,r]=m.exports.useState(!1);return{shops:t,getShops:async()=>{r(!0);try{let{data:i}=await $.get("/shop");s(i),r(!1)}catch(i){r(!1),l(i)}},errors:n,load:a}},je=({name:t,userName:s,img:n,id:l})=>{let a=A();return o("div",{className:"flex relative w-[25rem] h-[40vh] bg-no-repeat bg-center bg-cover flex-shrink-0\r border-2 rounded-2xl hover:shadow-2xl",style:{backgroundImage:`url(/img/${n})`},onClick:()=>a(`/shop/${l}`),children:[o("p",{className:"absolute top-[4%] right-[80%] text-black-20 font-[600] text-[1.2rem]",children:[e("span",{className:"text-black-40",children:"by"}),"\xA0\xA0",s]}),e("p",{className:"absolute bottom-[4%] right-[40%] text-blue-20 font-[900] text-[1.4rem]",children:t})]})};const Te=()=>{const{shops:t,getShops:s,errors:n,load:l}=le();return m.exports.useEffect(()=>{s()},[]),o("div",{className:"flex flex-col py-[3rem] px-[2rem] bg-teal-50",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Popular shops"}),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto ",children:t.length>0&&t.map((a,r)=>e(je,{name:a.name,userName:a.userId.userName,img:a.image,id:a._id},r))})]})},De=()=>o(te,{children:[e(Ue,{}),e(Te,{}),e(ze,{})]}),Me=t=>({setSelf:s,onSet:n})=>{const l=localStorage.getItem(t);l!==null&&s(JSON.parse(l)),n((a,r,c)=>{c?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(a))})},z=R({key:"cartAtom",default:[],effects_UNSTABLE:[Me("gist-cart"),({onSet:t})=>t(s=>console.log("cart",s))]}),j=R({key:"cartOpen",default:!1}),Ge=oe({key:"cartSelector",get:({get:t})=>{const s=t(z);let n=0;return s.length>0&&s.forEach(l=>n+=l.price*l.quantity),n}}),H=R({key:"menuOpen",default:!1}),V=R({key:"search",default:""}),He=()=>{const[t,s]=m.exports.useState(""),n=C(V);let l=A();return{handleChange:r=>{s(r.target.value),n(r.target.value),r.target.value.length>0&&l("/searching")},input:t,setInput:s}},Ve=()=>{const[t,s]=m.exports.useState(!1);let n=A();const l=C(V),a=C(j),r=C(H),{handleChange:c,input:i,setInput:x}=He();return o("div",{className:"flex flex-row flex-nowrap  py-[1rem] px-[0.5rem] md:px-[2rem] \r gap-x-[1rem]",children:[e("p",{className:"hidden md:flex text-blue-20 text-[1.6rem] font-semibold",children:"Gist-Shop"}),o("div",{className:"relative",children:[e("input",{onFocus:()=>{s(!0),n("/searching")},onBlur:()=>{x("")},onChange:c,className:`${t?"w-[90vw] md:w-[35vw] lg:w-[45vw] xl:w-[55vw] border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none":" border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none md:w-[35vw] lg:w-[45vw] xl:w-[55vw]"}`,placeholder:"Search Gist-Shop",value:i}),e(v,{icon:ce,size:"1x",color:"red",className:`${t?"absolute right-[17%] top-[30%]":"hidden"}`,onClick:()=>{l(""),x(""),s(!1),n("/")}}),e(v,{icon:me,size:"1x",color:"blue",className:`${t?"absolute right-[5%] top-[30%]":"hidden md:absolute right-[5%] top-[30%]"}`,onClick:()=>{n("/searching")}})]}),e("button",{className:`${t?"hidden":"flex w-[8rem] ml-auto  py-[0.3rem] self-center border-2 border-blue-20 text-[1.2rem] hover:bg-blue-400 rounded-md text-center hover:text-white justify-around  font-[600] "}
             
             `,onClick:()=>n("/login"),children:"Sign in"}),e(v,{onClick:()=>{a(u=>!u),r(u=>u&&!u)},icon:ie,color:"blue",className:`${t?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem]  fa-lg md:fa-3x"}`}),e(v,{onClick:()=>{r(u=>!u),a(u=>u&&!u)},icon:de,color:"blue",className:`${t?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem] fa-lg md:fa-3x"}`})]})},J=()=>{const t=C(z),s=I(Ge);return{addToCart:(a,r,c,i,x,u,h)=>{t(d=>[{name:i,quantity:a,price:r,image:c,shopId:x,productId:u,id:h},...d]),D.fire({icon:"success",text:"successfully added to cart",timer:1e3})},removeItem:a=>{t(r=>r.filter(c=>c.id!==a))},totalValue:s}},Je=({image:t,name:s,amount:n,price:l,id:a})=>{const{removeItem:r}=J();return o("div",{className:"w-full bg-white flex flex-col border-[0.1rem] border-black-40 rounded-md \r px-[1rem] py-[0.6rem] gap-y-[1rem]",children:[o("div",{className:"flex flex-row flex-nowrap text-[1rem] text-black-40 font-[600] justify-between",children:[e("div",{style:{backgroundImage:`url(/img/${t})`},className:"border-[0.12rem]  border-black-40 h-[4rem] w-[4rem] bg-cover bg-center\r bg-no-repeat rounded-md"}),e("p",{className:"text-blue-20 text-left w-[6rem]",children:s})]}),o("div",{className:"flex flex-row flex-nowrap justify-between text-[1rem] text-black-40 \r font-[600]",children:[o("p",{className:"",children:["Items: ",e("span",{className:"text-blue-20 text-[1.3rem]",children:n})]}),o("p",{className:"text-blue-20",children:["$ ",l*n]})]}),e("div",{className:"flex flex-row justify-end",children:e(v,{onClick:()=>r(a),icon:ue,size:"1x",color:"red"})})]})},Ye=()=>{const{addToCart:t,removeItem:s,totalValue:n}=J(),l=I(z),a=C(j);let r=A();return o("div",{className:"w-[90vw] md:w-[45vw] flex flex-col px-[1rem] py-[2rem] gap-y-[2rem]",children:[o("div",{className:"flex flex-row justify-between text-[1.2rem] tracking-wider font-[600]",children:[e("p",{className:"",children:"Estimated total"}),o("p",{className:"text-blue-20",children:["$",n]})]}),e("div",{className:"flex border-[0.12rem]  border-black-40 rounded-2xl px-[0.5rem] py-[0.5rem] \r bg-white",children:e("p",{className:"text-red-20 text-[1rem] font-[600] tracking-wide leading-relaxed",children:"Items in your cart will not be reserved. Complete checkout to secure your order"})}),e("button",{disabled:l.length===0,onClick:()=>{a(c=>!c),r("/orders")},type:"button",className:"bg-red-20 w-full md:w-[60%] py-[0.7rem] px-[1.4rem] rounded-xl hover:bg-red-400 \r md:hover:scale-105 text-white text-[1.3rem] font-[700] disabled:bg-gray-300 self-center",children:"Checkout"}),e("div",{className:"flex flex-col gap-[1.3rem]",children:l.length>0?l==null?void 0:l.map((c,i)=>e(Je,{image:c==null?void 0:c.image,name:c.name,price:c.price,amount:c.quantity,id:c.id},i)):o("div",{className:"flex flex-row self-center items-center py-[3rem] gap-x-[2rem]\r px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"Your cart is empty."})]})})]})},Ze=()=>{let t=A();return o("div",{className:"w-[90vw] md:w-[40vw] min-h-screen flex flex-col gap-y-[2rem] bg-teal-50 \r px-[2rem] py-[3rem] rounded-xl",children:[o("div",{className:"flex flex-row cursor-pointer items-center gap-x-[1rem]",onClick:()=>t("/myAccount/shop"),children:[e(v,{icon:ee,size:"2x",color:"#1e90ff"}),e("p",{className:"text-[1.4rem] font-[700]",children:"My Account"})]}),o("div",{className:"flex flex-row cursor-pointer items-center gap-x-[1rem] pl-[0.5rem]",children:[e(v,{icon:xe,size:"2x",color:"red"}),e("p",{className:"text-[1.4rem] font-[700] text-red-20",children:"Logout"})]})]})},Ke=()=>{const t=I(j),s=C(j),n=I(H),l=C(H),a=m.exports.useRef();return(c=>{m.exports.useEffect(()=>{const i=x=>{t&&c.current&&c.current.contains(x.target)?s(u=>u&&!u):n&&c.current&&c.current.contains(x.target)&&l(u=>u&&!u)};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[t,n])})(a),o("div",{className:"flex flex-col flex-nowrap overflow-x-clip",children:[e("div",{children:e(Ve,{})}),o("div",{className:"relative",children:[e("div",{className:`${t?"absolute right-0 top-0 bg-teal-50 border-[0.1rem] border-black-40 min-h-screen rounded-l-xl z-50":"hidden"}`,children:e(Ye,{})}),e("div",{onBlur:()=>l(c=>!c),className:`${n?"absolute right-0 top-0 bg-teal-50 border-[0.1rem] border-black-40 min-h-screen rounded-l-xl z-50":"hidden"}`,children:e(Ze,{})}),e("div",{ref:a,children:e(he,{})})]})]})},We=()=>o("div",{className:"flex flex-row flex-nowrap justify-around py-[3rem] border-b-2 border-black-40",children:[o(U,{to:"/",className:"flex flex-row flex-nowrap items-center \r gap-x-[0.2rem]",children:[e(v,{icon:ge,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] text-blue-20",children:"Home"})]}),o(U,{to:"/myAccount/profile",className:"flex flex-row flex-nowrap items-center \r gap-x-[0.2rem]",children:[e(v,{icon:fe,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] text-blue-20",children:"User"})]}),o(U,{to:"/myAccount/shop",className:"flex flex-row flex-nowrap items-center \r gap-x-[0.2rem]",children:[e(v,{icon:pe,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] text-blue-20",children:"Shop"})]}),o(U,{to:"/myAccount/orders",className:"flex flex-row flex-nowrap items-center \r gap-x-[0.2rem]",children:[e(v,{icon:be,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] text-blue-20",children:"Orders"})]})]}),ne=()=>{const t=I(B),s=t==null?void 0:t.token,n=Q.create({baseURL:ae});return n.interceptors.request.use(l=>(l.headers.Authorization=`Bearer ${s}`,l)),{Axios:n}},Qe=t=>new Promise(s=>{let n="",l=new FileReader;l.readAsDataURL(t),l.onload=()=>{n=l.result,s(n)}}),Xe=()=>{const{_id:t}=I(B),[s,n]=m.exports.useState(""),[l,a]=m.exports.useState(""),[r,c]=m.exports.useState(""),[i,x]=m.exports.useState(""),[u,h]=m.exports.useState(""),[d,p]=m.exports.useState(""),[b,w]=m.exports.useState(""),[S,g]=m.exports.useState(""),[k,f]=m.exports.useState(!1),{Axios:P}=ne();return{shopName:s,email:u,location:l,desc:i,img:r,phone:d,createShop:async y=>{f(!0),y.preventDefault();try{await P.post(`/shop/${t}`,{name:s,email:u,location:l,phoneNumber:d,description:i,image:r}),D.fire({icon:"success",text:"Your shop has been created",timer:1e3}),f(!1)}catch(_){let N=_.response.data.split(":");f(!1),D.fire({icon:"error",text:_.response.status===409?"Please choose a different shop name":N[2],timer:2e3})}},handleChange:y=>{switch(y.target.id){case"shopName":n(y.target.value);break;case"location":a(y.target.value);break;case"desc":x(y.target.value);break;case"img":Qe(y.target.files[0]).then(N=>{c(N)}).catch(N=>console.log(N));break;case"email":h(y.target.value),y.target.value.toLowerCase().match(M)?w(""):w("Invalid email");break}},handlePhoneChange:y=>{p(y),y.length<5?g("please enter a valid phone number"):g("")},phoneErr:S,mailError:b,load:k}};const er=()=>{const{shopName:t,email:s,location:n,desc:l,img:a,phone:r,createShop:c,handleChange:i,handlePhoneChange:x,phoneErr:u,mailError:h,load:d}=Xe(),{renderSpinner:p}=F();return o("div",{className:"flex flex-col ",children:[e(We,{}),p(d),e("p",{className:"text-[1.6rem] text-black-80 text-center",children:"Create Your Shop"}),o("form",{action:"",onSubmit:c,className:"py-[2rem] flex flex-col lg:flex-row px-[2rem] gap-y-[0.5rem] w-full \r items-center md:px-[12rem] md:justify-around lg:px-0",children:[o("div",{className:" flex flex-col w-full lg:max-w-[20%] ",children:[e("label",{htmlFor:"shopName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r mt-[2rem] ",children:"Shop Name"}),e("input",{onChange:i,value:t,required:!0,type:"text",id:"shopName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"location",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Location"}),e("input",{onChange:i,required:!0,type:"text",id:"location",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop email"}),e("input",{onChange:i,value:s,required:!0,type:"text",id:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-20",children:h}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop Telephone"}),e(Ne,{country:"us",value:r,onChange:x,inputProps:{name:"phone",required:!0,id:"phone"}}),e("p",{className:"text-red-20",children:u})]}),o("div",{className:"flex flex-col w-full lg:max-w-[20%]",children:[e("img",{src:a,alt:"",className:"hidden md:flex w-[16rem]"}),e("label",{htmlFor:"img",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem]",children:"Profile Photo"}),e("input",{onChange:i,required:!0,type:"file",id:"img",accept:"image/png",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"})]}),o("div",{className:"flex flex-col w-full lg:max-w-[40%]",children:[e("label",{htmlFor:"desc",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:i,value:l,required:!0,rows:5,cols:50,id:"desc",className:"border-[0.0625rem] border-black-70 outline-none text-blue-20\r rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500 "}),e("button",{disabled:h.length>0||d||u.length>0||r.length<3,className:"bg-red-20 px-[2rem] py-[1rem] w-[12rem] rounded-lg\r self-center text-white text-[1.4rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Submit"})]})]})]})},rr=()=>{const[t,s]=m.exports.useState(""),[n,l]=m.exports.useState(""),[a,r]=m.exports.useState(!1),[c,i]=m.exports.useState([]),[x,u]=m.exports.useState([]);I(z);const{_id:h}=I(B),{Axios:d}=ne();return{billing:t,shipping:n,handleChange:g=>{switch(g.target.id){case"billing":s(g.target.value);break;case"shipping":l(g.target.value);break}},getBillingByUserId:async()=>{r(!0);try{let{data:g}=await d.get(`/billing/all/${h}`);i(g),r(!1)}catch{r(!1)}},getShippingByUserId:async()=>{r(!0);try{let{data:g}=await d.get(`/address/all/${h}`);u(g),r(!1)}catch{r(!1)}},userShippings:x,userBillings:c,load:a,handleSubmit:async g=>{g.preventDefault()}}},tr=()=>{const{renderSpinner:t}=F(),{billing:s,shipping:n,handleChange:l,getBillingByUserId:a,getShippingByUserId:r,userShippings:c,userBillings:i,load:x,handleSubmit:u}=rr();return m.exports.useEffect(()=>{a(),r()},[]),e("div",{className:"flex flex-col",children:o("form",{onSubmit:u,action:"",className:"flex flex-col gap-y-[0.1rem] w-full lg:w-[50%] py-[3rem] px-[1rem] self-center",children:[e("label",{htmlFor:"billing",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Billing Address"}),e("select",{onChange:l,value:s,required:!0,id:"billing",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500",children:i==null?void 0:i.map((h,d)=>e("option",{value:h==null?void 0:h.name,children:h==null?void 0:h.name},d))}),e("label",{htmlFor:"shipping",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Shipping Address"}),e("select",{onChange:l,value:n,required:!0,id:"shipping",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500",children:c==null?void 0:c.map((h,d)=>e("option",{value:h==null?void 0:h.name,children:h==null?void 0:h.name},d))}),e("div",{className:"mt-[1rem]",children:t(x)}),e("button",{type:"submit",className:"bg-red-20 px-[2rem] py-[1rem] w-[16rem] self-center \r mt-[2rem] text-[1.4rem] text-white font-[700] rounded-xl hover:bg-red-600",children:"Submit order"})]})})},ar=()=>{var d,p;const[t,s]=m.exports.useState(0),[n,l]=m.exports.useState(0),{getProductById:a,product:r,errors:c,load:i}=G(),{renderSpinner:x}=F(),{productId:u}=re(),{addToCart:h}=J();return m.exports.useEffect(()=>{a(u)},[]),o("div",{className:"flex flex-col items-center px-[1rem] py-[1rem] md:px-[2rem] gap-[5rem]",children:[o("div",{className:"flex flex-col md:flex-row flex-wrap \r justify-around md:justify-center gap-y-[2.2rem] md:gap-[2rem] items-center",children:[x(i),o("div",{className:"flex flex-col gap-y-[2rem] self-center",children:[e("p",{className:"text-center text-black-40 font-[600] text-[2rem]",children:r==null?void 0:r.name}),((d=r==null?void 0:r.images)==null?void 0:d.length)>0?e("div",{style:{backgroundImage:`url(/img/${r.images[t]})`},className:"bg-cover bg-center bg-no-repeat w-[60vw] h-[20vh] self-center\r md:w-[20vw]  border-[0.12rem] border-black-40 rounded-2xl"}):null,e("p",{className:"text-center text-red-20 font-[600] text-[1.4rem]",children:(r==null?void 0:r.quantity)===0?"Out of stock":r.price===void 0?"":"$"+(r==null?void 0:r.price)})]}),o("div",{className:"flex flex-row gap-x-[1rem]",children:[o("div",{className:"inline-flex rounded-md shadow-sm border-[0.1rem] border-black-40",children:[e("button",{onClick:()=>l(b=>b===0?0:b-1),disabled:r.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] rounded-l-lg text-black-40 \r text-center",children:"-"}),e("button",{disabled:r.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] text-black-40 border-black-40\r border-x-[0.1rem]",children:n}),e("button",{onClick:()=>l(b=>b===(r==null?void 0:r.quantity)?b:b+1),disabled:r.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] text-black-40 rounded-r-lg \r ",children:"+"})]}),e("button",{disabled:n===0,onClick:()=>{h(n,r==null?void 0:r.price,r==null?void 0:r.images[0],r==null?void 0:r.name,r==null?void 0:r.shopId,r==null?void 0:r._id,we())},className:"bg-red-20 px-[1rem] py-[0.1rem] text-white font-[600] text-[1rem]\r w-[8rem] rounded-lg disabled:bg-gray-400",children:"Add to Cart"})]})]}),e("div",{className:"hidden md:flex flex-row gap-[2rem]",children:(p=r==null?void 0:r.images)==null?void 0:p.map((b,w)=>e("div",{style:{backgroundImage:`url(/img/${b})`},className:"w-[12rem] h-[6rem] rounded-2xl bg-cover bg-center bg-no-repeat\r border-[0.12rem] border-black-40",onClick:()=>s(w)},w))})]})},sr=({name:t,img:s,price:n,userName:l,id:a})=>{let r=A();return o("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] px-[0.3rem] py-[0.4rem]",onClick:()=>r(`/product/${a}`),children:[e("div",{style:{backgroundImage:`url(/img/${s})`},className:"bg-cover bg-center bg-no-repeat w-[14rem] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem] max-w-[10rem]",children:t}),o("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",l]}),o("p",{className:"text-red-20 font-[900] text-[1.4rem] mb-[1rem]",children:["$:\xA0\xA0\xA0",n]})]})};const lr=({name:t,img:s,userName:n,id:l})=>{let a=A();return o("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] p-[2rem]\r flex-shrink-0",onClick:()=>a(`/shop/${l}`),children:[e("div",{style:{backgroundImage:`url(/img/${s})`},className:"bg-contain bg-center bg-no-repeat w-[80vw] md:w-[40vw] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:t}),o("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",n]})]})},nr=()=>{const[t,s]=m.exports.useState([]),[n,l]=m.exports.useState([]),a=I(V),{getProducts:r,products:c,load:i}=G(),{renderSpinner:x}=F(),{shops:u,getShops:h}=le();return m.exports.useEffect(()=>{r(),h()},[]),m.exports.useEffect(()=>{c.length>0&&s(c.filter(d=>d.name.toLowerCase().includes(a.toLowerCase()))),u.length>0&&l(u.filter(d=>d.name.toLowerCase().includes(a.toLowerCase())))},[a]),o("div",{className:"flex flex-col px-[2rem] md:px-[3rem]",children:[x(i),t.length>0?e("p",{className:"text-black-40 font-[800] text-[1.6rem] md:text-[2rem] my-[2rem]",children:"Products"}):null,e("div",{className:"scroller flex flex-row overflow-x-auto gap-x-[2rem]",children:t.length>0&&t.map((d,p)=>e(sr,{price:d.price,img:d.images[0],userName:d.ownerId.userName,name:d.name,id:d._id},p))}),n.length>0?e("p",{className:"text-black-40 font-[800] text-[1.6rem] md:text-[2rem] my-[2rem]",children:"Shops"}):null,e("div",{className:"flex flex-row flex-wrap items-center gap-[2rem]\r ",children:n.length>0&&n.map((d,p)=>e(lr,{img:d.image,name:d.name,userName:d.userId.userName,id:d._id},p))})]})},or=()=>{const[t,s]=m.exports.useState([]),[n,l]=m.exports.useState(""),[a,r]=m.exports.useState(!1);return{shopDetails:t,getShopDetails:async i=>{r(!0);try{let{data:x}=await $.get(`/products/${i}`);s(x),r(!1)}catch(x){l(x),r(!1)}},load:a,errors:n}},cr=()=>{var c,i,x,u,h,d,p,b,w,S,g,k;const{shopDetails:t,getShopDetails:s,load:n,errors:l}=or();let{shopId:a}=re();const{renderSpinner:r}=F();return m.exports.useEffect(()=>{s(a)},[]),e(te,{children:n||t.length>0?o("div",{className:"flex flex-col px-[2rem] pb-[2rem]",children:[r(n),o("div",{className:"flex flex-col",children:[e("div",{className:"w-full py-[1rem] bg-white sticky top-0 z-50 border-b-4",children:e("p",{className:"text-[2rem] md:text-[2.5rem] text-black-40 font-[700]\r text-center ",children:(i=(c=t[0])==null?void 0:c.shopId)==null?void 0:i.name})}),o("div",{className:"flex flex-row flex-nowrap justify-around py-[2rem]",children:[t.length>0?e("div",{style:{backgroundImage:`url(/img/${(u=(x=t[0])==null?void 0:x.shopId)==null?void 0:u.image})`},className:"h-[6rem] w-[6rem] rounded-full bg-contain bg-center \r bg-no-repeat self-center bg-teal-100"}):null,o("div",{className:"flex flex-col gap-0 self-center items-center",children:[e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600]",children:t.length}),e("p",{className:"text-black-40 text-[1rem] md:text-[1.4rem] font-[600]",children:"Products"})]})]}),o("div",{className:"flex flex-row flex-nowrap gap-x-[1.4rem] py-[2rem] justify-around",children:[o("div",{className:"flex flex-col gap-0 items-center",children:[e(v,{icon:ve,size:"1x",color:"blue"}),e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[700]",children:(d=(h=t[0])==null?void 0:h.shopId)==null?void 0:d.email})]}),o("div",{className:"flex flex-col gap-0 items-center",children:[e(v,{icon:ye,size:"1x",color:"blue"}),e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600]\r text-center",children:(b=(p=t[0])==null?void 0:p.shopId)==null?void 0:b.phoneNumber})]}),o("div",{className:"flex flex-col gap-0 items-center",children:[e(v,{icon:Se,size:"1x",color:"blue"}),o("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600] \r text-center",children:["\xA0\xA0",(S=(w=t[0])==null?void 0:w.shopId)==null?void 0:S.location]})]})]}),e("div",{className:"flex py-[2rem]",children:e("p",{className:"text-left text-[1.3rem] tracking-wide leading-relaxed text-blue-40",children:(k=(g=t[0])==null?void 0:g.shopId)==null?void 0:k.description})}),e("p",{className:"text-black-40 text-[1.6rem] md:text-[2.5rem] font-[700] py-[2rem]",children:"Products"}),e("div",{className:"flex flex-row flex-wrap gap-[2rem] justify-around",children:t==null?void 0:t.map((f,P)=>{var O;return e(se,{name:f==null?void 0:f.name,price:f==null?void 0:f.price,img:f==null?void 0:f.images[0],id:f==null?void 0:f._id,userName:(O=f==null?void 0:f.ownerId)==null?void 0:O.userName},P)})})]})]}):o("div",{className:"flex flex-row self-center items-center py-[10rem] gap-x-[2rem] px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"This shop is empty right now."})]})})},mr=({children:t})=>{const{token:s}=I(B);let n=ke();return(s==null?void 0:s.length)<1||s===void 0?e(Ce,{to:"/login",state:{from:n},replace:!0}):t},ir=()=>o(Ie,{children:[o(E,{path:"/",element:e(Ke,{}),children:[e(E,{path:"/",element:e(De,{})}),e(E,{path:"/searching",element:e(nr,{})}),e(E,{path:"/product/:productId",element:e(ar,{})}),e(E,{path:"/shop/:shopId",element:e(cr,{})}),e(E,{path:"/orders",element:e(mr,{children:e(tr,{})})})]}),e(E,{path:"/myAccount/*",element:e(er,{})}),e(E,{path:"/login",element:e(qe,{})}),e(E,{path:"/register",element:e(_e,{})})]});Ae.render(e(Ee.StrictMode,{children:e(Pe,{children:e(Fe,{children:e(ir,{})})})}),document.getElementById("root"));
