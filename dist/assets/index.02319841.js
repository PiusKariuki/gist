import{j as ce,a as we,R as Y,b as F,r as m,u as R,F as S,f as Te,L as Ne,c as ve,l as re,d as me,e as de,g as $,h as je,i as He,k as Ve,m as Ye,S as A,n as K,o as ye,p as Ze,O as Se,q as X,s as We,t as Ge,N as le,v as Je,w as ke,x as Qe,Q as Ke,y as Ce,z as ue,A as Ie,B as U,C as ae,D as Xe,E as et,G as tt,H as rt,I as lt,J as at,K as st,M as nt,P as ot,T as it,U as Pe,V as Ee,W as ct,X as mt,Y as dt}from"./vendor.2a977ed1.js";const ut=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}};ut();const e=ce.exports.jsx,a=ce.exports.jsxs,ee=ce.exports.Fragment,B=()=>({renderSpinner:l=>e("div",{className:`${l?"flex justify-center items-center":"hidden"}`,children:e("div",{className:"animate-spin rounded-full h-[4rem] w-[4rem] border-b-[0.2rem] \r border-green-40"})})}),Ae="http://52.43.151.113",M="http://52.43.151.113/public/img",J=we.create({baseURL:Ae}),te=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,$e=/^[a-zA-Z0-9]{6,}$/,xt=t=>({setSelf:l,onSet:s})=>{const i=localStorage.getItem(t);(i==null?void 0:i.length)>0&&l(JSON.parse(i)),s((n,r,c)=>{c?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n))})},_=Y({key:"userObj",default:{},effects_UNSTABLE:[xt("gist_user")]}),ht=()=>{const t=F(_),[l,s]=m.exports.useState(""),[i,n]=m.exports.useState(""),[r,c]=m.exports.useState(!1),[o,u]=m.exports.useState({}),[h,f]=m.exports.useState(""),[d,w]=m.exports.useState("");let g=R();return{errors:o,email:l,password:i,handleChange:x=>{switch(u(""),x.target.name){case"email":s(x.target.value),x.target.value.toLowerCase().match(te)?w(""):w("Invalid email");break;case"pass":n(x.target.value);break}},login:async x=>{var y;x.preventDefault(),c(!0),u({});try{const{data:v}=await J.post("/login",{email:l,password:i});t(v),c(!1),u(""),g("/")}catch(v){u((y=v==null?void 0:v.response)==null?void 0:y.data),c(!1)}},load:r,mailErrors:d,passErrors:h}},pt=()=>{const{errors:t,email:l,password:s,handleChange:i,login:n,load:r,mailErrors:c,passErrors:o}=ht(),{renderSpinner:u}=B();return a("div",{className:"flex flex-col bg-transparent md:bg-expectrum bg-center bg-cover\r py-[6rem] md:py-[3rem] px-[1rem] min-h-screen",children:[e("div",{className:"flex flex-col self-center w-[8rem] h-[8rem] rounded-full bg-white mb-[3rem]",children:e(S,{icon:Te,size:"3x",color:"blue",className:"self-center pt-[2rem]"})}),a("div",{className:"flex flex-row justify-center bg-white md:rounded-3xl\r md:w-[80%] self-center md:shadow-2xl",children:[e("div",{className:"hidden md:flex md:bg-mannequinn bg-cover  md:w-full\r bg-no-repeat"}),a("form",{onSubmit:n,autoComplete:"off",className:"flex flex-col items-center space-y-[1.5rem] md:self-end md:bg-gray-100\r w-full md:py-[4rem] md:rounded-r-3xl",children:[e("p",{className:"text-[1.2rem] font-[900]",children:" Login to your GIST-SHOP account"}),e("hr",{}),e("input",{autoFocus:!0,required:!0,onChange:i,type:"text",id:"email",name:"email",value:l,placeholder:"Email",className:" h-[2.25rem] outline-none rounded-[0.25rem] w-[80vw] md:w-[20vw]\r font-bold px-[1rem] ring-2 ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:c||(t==null?void 0:t.emailErr)}),e("input",{required:!0,onChange:i,type:"password",id:"pass",name:"pass",placeholder:"password",value:s,className:"w-full0 h-[2.25rem] outline-none rounded-[0.25rem] w-[80vw]\r font-bold px-[1rem] ring-2 ring-blue-500 md:w-[20vw]"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:o||(t==null?void 0:t.passErr)}),u(r),a("div",{className:"flex flex-col w-[80vw] md:w-[20vw] space-y-4",children:[e("button",{disabled:o.length>1||c.length>1,type:"submit",className:"btn bg-blue-20  hover:bg-blue-500 text-[1.2rem]\r text-white py-[0.3rem]",children:"Sign in"}),a("p",{className:"text-[1.2rem] font-[500] tracking-[0.02rem]\r mt-[2rem] md:mt-[0rem]",children:["Need an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(Ne,{to:"/register",children:"Signup"})})]})]})]})]})]})},W=t=>new Promise(l=>{let s="",i=new FileReader;i.readAsDataURL(t),i.onload=()=>{s=i.result,l(s)}}),ft=()=>{const[t,l]=m.exports.useState(""),[s,i]=m.exports.useState(""),[n,r]=m.exports.useState(""),[c,o]=m.exports.useState(""),[u,h]=m.exports.useState(""),[f,d]=m.exports.useState(""),[w,g]=m.exports.useState(""),[p,b]=m.exports.useState(""),[x,y]=m.exports.useState(""),[v,I]=m.exports.useState(""),[k,N]=m.exports.useState(!1),[P,T]=m.exports.useState(""),[C,L]=m.exports.useState(""),[z,j]=m.exports.useState({}),E=F(_);return{mailError:t,passError:s,email:n,password:c,fname:f,lname:w,bio:p,userName:x,handleChange:O=>{switch(j(""),O.target.id){case"email":r(O.target.value),O.target.value.toLowerCase().match(te)?l(""):l("Invalid email");break;case"pass":o(O.target.value),O.target.value.match($e)?i(""):i("Password should be atleast six characters long");break;case"confirm":O.target.value!==c&&i("Password and Confirm passwords don't match"),h(O.target.value);break;case"fname":d(O.target.value);break;case"lname":g(O.target.value);break;case"userName":y(O.target.value);break;case"bio":b(O.target.value);break;case"img":W(O.target.files[0]).then(q=>{L(q)}).catch(q=>console.log(q));break}},register:async O=>{var q,Z;O.preventDefault(),N(!0),j({});let ie={email:n,password:c,firstName:f,lastName:w,userName:x,bio:p,phonenumber:v,profilePhoto:C};try{const{data:V}=await J.post("/register",ie);E(V),N(!1),j("")}catch(V){((q=V.response.data)==null?void 0:q.code)===11e3&&l("This email is already registered"),j((Z=V==null?void 0:V.response)==null?void 0:Z.data),N(!1)}},load:k,errors:z,phone:v,phoneErr:P,handlePhoneChange:O=>{I(O),O.length<5?T("please enter a valid phone number"):T("")},confirmPassword:u,img:C}};const gt=()=>{var k,N,P;const{mailError:t,passError:l,email:s,password:i,fname:n,lname:r,bio:c,userName:o,handleChange:u,register:h,load:f,errors:d,phone:w,phoneErr:g,handlePhoneChange:p,confirmPassword:b,img:x}=ft(),{renderSpinner:y}=B(),v=m.exports.useRef(null),I=()=>{v.current.click()};return a("div",{className:"flex flex-col lg:flex-row gap-x-[2.5rem] relative",children:[e("div",{className:"invisible md:visible absolute w-[40rem] h-[40rem] top-0 left-0 \r bg-gray-200 -z-10 rounded-br-full"}),e("div",{className:"invisible md:visible absolute w-[40rem] h-[60rem] bottom-0 right-0 \r bg-gray-200 -z-10 rounded-tl-full"}),a("form",{autoComplete:"off",className:"flex flex-col w-full py-[2rem] px-[2rem] lg:px-[4rem]\r justify-around",onSubmit:h,children:[e("p",{className:"text-[2.2rem] text-blue-20 font-[900] mb-[1rem] justify-center",children:"SIGN UP TO GIST SHOP"}),a("div",{className:"flex flex-col w-screen ",children:[a("div",{className:"flex flex-col lg:flex-row  gap-[0rem] md:gap-[2rem] items-start",children:[a("div",{className:"flex flex-col w-[80vw] md:w-[60%] lg:w-[40%]",children:[e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem]  mb-[0.5rem]",children:"First Name"}),e("input",{onChange:u,value:n,required:!0,type:"text",id:"fname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 \r focus:ring-blue-500"})]}),a("div",{className:"flex flex-col w-[80vw] md:w-[60%] lg:w-[40%]",children:[e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem] mb-[0.5rem]",children:"Last Name"}),e("input",{onChange:u,value:r,required:!0,type:"text",id:"lname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 \r focus:ring-blue-500"})]})]}),a("div",{className:"flex flex-col w-[80vw] md:w-[60%] lg:w-[40%]",children:[e("label",{htmlFor:"userName",className:"font-bold leading-[1.2rem] tracking-[0.02rem] text-[1.2rem] mt-[3rem] \r mb-[0.5rem]",children:"Username"}),e("input",{onChange:u,value:o,required:!0,type:"text",id:"userName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 \r focus:ring-blue-500"})]}),a("div",{className:"flex flex-col lg:flex-row gap-[0rem] md:gap-[2rem] items-start",children:[a("div",{className:"flex flex-col w-[80vw] md:w-[60%] lg:w-[40%]",children:[e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem] mb-[0.5rem]",children:"Bio"}),e("textarea",{onChange:u,value:c,required:!0,id:"bio",rows:3,cols:6,className:"border-[0.0625rem] border-black-70  outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"})]}),a("div",{className:"flex row w-[80vw] md:w-[60%] lg:w-[40%] items-start md:mt-auto relative",children:[e("button",{type:"button",className:`${(x==null?void 0:x.length)>1?"bg-white text-green-40 font-[700]":"bg-blue-20 text-white"}
                        px-[6rem] py-[0.4rem] border-[0.2rem] border-black-70 mt-auto rounded-md`,onClick:I,children:(x==null?void 0:x.length)<1?"Upload Image":e(S,{icon:ve,size:"2x",color:"green"})}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center ml-[2rem]",children:(x==null?void 0:x.length)<1?"Please Upload a profile Image":null}),e("img",{src:x,className:x.length<1?"hidden":"hidden absolute xl:flex max-h-[14rem] ml-[2rem] rounded-2xl border-[0.2rem] border-black-70 self-start top-[-300%] right-[0%]"}),e("input",{onChange:u,ref:v,type:"file",id:"img",accept:"image/png",className:"hidden"})]})]}),a("div",{className:"flex flex-col lg:flex-row gap-[0rem] md:gap-[2rem] items-start",children:[a("div",{className:"flex flex-col w-[80vw] md:w-[60%] lg:w-[40%]",children:[e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem]   mb-[0.5rem]",children:"Email Address"}),e("input",{onChange:u,value:s,required:!0,type:"text",id:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:t||((k=d==null?void 0:d.email)==null?void 0:k.message)||d.length>1&&d})]}),a("div",{className:"flex flex-col w-[80vw] md:w-[60%] lg:w-[40%]",children:[e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem]  mb-[0.5rem]",children:"Phone Number"}),e(re,{country:"ke",value:w,onChange:p,inputProps:{required:!0},inputStyle:{width:"100%",border:"1px solid black",color:"#8B5CF6",fontWeight:"bold",fontSize:"1.2rem"}})]})]}),a("div",{className:"flex flex-col lg:flex-row gap-[0rem] md:gap-[2rem]",children:[a("div",{className:"flex flex-col w-[80vw] md:w-[60%] lg:w-[40%]",children:[e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mt-[3rem] \r mb-[0.5rem]",children:"Password"}),e("input",{onChange:u,value:i,type:"password",id:"pass",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20  rounded-[0.25rem] font-bold px-[1rem] focus:ring-2\r focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:l||((N=d==null?void 0:d.password)==null?void 0:N.message)})]}),a("div",{className:"flex flex-col w-[80vw] md:w-[60%] lg:w-[40%]",children:[e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mt-[3rem] \r mb-[0.5rem]",children:"Confirm Password"}),e("input",{onChange:u,value:b,type:"password",id:"confirm",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20  rounded-[0.25rem] font-bold px-[1rem] focus:ring-2\r focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:l||((P=d==null?void 0:d.password)==null?void 0:P.message)})]})]})]}),e("div",{className:"mt-[1rem]",children:y(f)}),e("button",{disabled:l.length>1||t.length>1||f||g.length>0||w.length<4||b!==i,type:"submit",className:"btn py-[0.5rem] mt-[3rem] md:max-w-[7rem] text-white text-[1.2rem]\r font-bold ",children:"Submit"}),a("p",{className:"text-[1rem] text-center md:text-left  font-semibold mt-[2rem]\r tracking-[0.02rem]",children:["Already have an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(Ne,{to:"/login",children:"Login"})})]})]})]})},bt=()=>{let t=R();return a("div",{className:"flex flex-col md:flex-row py-[2.5rem] px-[2rem] md:gap-x-[2rem]",children:[a("div",{className:"flex flex-col order-2 md:order-1 self-center",children:[a("p",{className:"uppercase text-blue-20 font-[900] text-[2rem]",children:["Welcome to GIST-SHOP.",e("br",{}),e("span",{className:"text-black-40",children:"Social Shopping Platform."})]}),e("p",{className:"text-[1.2rem] mt-[1.5rem]",children:"An always live social shopping network, with your favorite brands and shops."}),e("button",{onClick:()=>t("/login"),className:"bg-red-20 w-[9rem] rounded-md py-[1rem] px-[1rem] text-white\r font-[900]  mt-[1.4rem] hover:bg-red-600 hover:scale-110 trasition\r ease-in-out\r duration-300",children:"Join For Free"})]}),e("div",{className:"flex  bg-hero w-[80vw] h-[30vh] bg-center bg-cover bg-no-repeat order-1\r md:order-2 md:min-w-[55vw] md:h-[45vh] lg:h-[55vh] self-center rounded-xl"})]})},xe=()=>{const[t,l]=m.exports.useState([]),[s,i]=m.exports.useState({}),[n,r]=m.exports.useState(""),[c,o]=m.exports.useState(!1);return{getProducts:async()=>{o(!0);try{let{data:f}=await J.get("/products");l(f),o(!1)}catch(f){o(!1),r(f)}},products:t,errors:n,load:c,getProductById:async f=>{o(!0);try{let{data:d}=await J.get(`/products/products/${f}`);i(d),o(!1)}catch(d){o(!1),r(d)}},product:s}},he=()=>({scrollLeft:s=>{s.current.scrollLeft-=240},scrollRight:s=>{s.current.scrollLeft+=240}}),qe=({name:t,price:l,userName:s,id:i,shopId:n})=>{let r=R();return a("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl border-white hover:shadow-2xl relative",onClick:()=>r(`/product/${i}`),children:[a("div",{className:"flex flex-row gap-x-[1rem]",children:[e("div",{style:{backgroundImage:`url(${M}/${n}.png)`},className:"flex w-[3rem] h-[3rem] rounded-full bg-black-70 self-center bg-center \r bg-no-repeat bg-contain"}),e("div",{className:"flex flex-col w-[16rem]",children:a("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:[t,e("br",{}),e("span",{className:"font-[300]",children:(s==null?void 0:s.length)>0?s:"unknown"})]})})]}),e("div",{className:"flex relative w-full h-[40vh] md:w-[25rem] bg-no-repeat bg-center \r bg-contain rounded-xl border-[0.1rem]",style:{backgroundImage:`url(${M}/0_${i}.png)`},children:a("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",l]})})]})},wt=()=>{const{getProducts:t,products:l,errors:s,load:i}=xe();m.exports.useEffect(()=>{t()},[]);const{scrollRight:n,scrollLeft:r}=he(),c=m.exports.useRef(null);return a("div",{className:"flex flex-col py-[3rem] px-[2rem] h-full w-screen relative",children:[e("p",{className:"text-black-40 text-[1.4rem] md:text-[2.2rem] font-[600] mb-[2rem]",children:"Recommended products"}),e("div",{ref:c,className:"scroller flex flex-row  overflow-x-auto gap-x-8 md:flex-row ",children:l.map((o,u)=>{var h,f;return e(qe,{name:o==null?void 0:o.name,userName:(h=o==null?void 0:o.ownerId)==null?void 0:h.userName,price:o==null?void 0:o.price,id:o==null?void 0:o._id,shopId:(f=o==null?void 0:o.shopId)==null?void 0:f._id},u)})}),e(S,{onClick:()=>r(c),icon:me,className:"z-10 hidden lg:flex lg:absolute text-[4rem] left-10 top-[50%] text-gray-300"}),e(S,{onClick:()=>n(c),icon:de,className:"z-10 hidden lg:flex lg:absolute text-[4rem] right-10 top-[50%] text-gray-300"})]})},H=()=>{const t=$(_),l=t==null?void 0:t.token,s=we.create({baseURL:Ae});return s.interceptors.request.use(i=>(i.headers.Authorization=`Bearer ${l}`,i)),{Axios:s}},Le=()=>{const{Axios:t}=H(),[l,s]=m.exports.useState([""]),[i,n]=m.exports.useState(""),[r,c]=m.exports.useState(!1);return{room:i,load:r,getRoomById:async h=>{c(!0);try{let{data:f}=await t.get(`/rooms/rooms/${h}`);n(f),c(!1)}catch{c(!1)}},rooms:l,getAllRooms:async()=>{c(!0);try{let{data:h}=await t.get("/rooms");s(h),c(!1)}catch{c(!1)}}}},Nt=({roomId:t,title:l,userName:s,price:i,shopImage:n,userImage:r})=>{let c=R();return a("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl border-white hover:shadow-2xl relative",onClick:()=>c(`/rooms/${t}`),children:[a("div",{className:"flex flex-row gap-x-[1rem]",children:[e("div",{style:{backgroundImage:`url(${M}/${r})`},className:"flex w-[3rem] h-[3rem] rounded-full bg-black-70 self-center bg-center \r bg-no-repeat bg-contain"}),e("div",{className:"flex flex-col w-[16rem]",children:a("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:[l,e("br",{}),e("span",{className:"font-[300]",children:s})]})})]}),e("div",{className:"flex relative h-[40vh] md:w-[25rem] bg-no-repeat bg-center \r bg-cover rounded-xl\r border-[0.1rem]",style:{backgroundImage:`url(${M}/${n})`},children:a("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["from $ ",i]})})]})},vt=()=>{const{renderSpinner:t}=B(),{load:l,rooms:s,getAllRooms:i}=Le();m.exports.useEffect(()=>{i()},[]);const{scrollRight:n,scrollLeft:r}=he(),c=m.exports.useRef(null);return a("div",{className:"flex flex-col py-[3rem] px-[2rem] h-full w-screen relative",children:[e("p",{className:"text-black-40 text-[1.4rem] md:text-[2.2rem] font-[600] mb-[2rem]",children:"Recent rooms"}),t(l),e("div",{ref:c,className:"scroller flex flex-row gap-x-8 overflow-x-auto w-screen",children:s.map((o,u)=>{var h,f,d;return e(Nt,{title:o==null?void 0:o.title,userName:(h=o==null?void 0:o.ownerId)==null?void 0:h.userName,price:o==null?void 0:o.productPrice,shopImage:(f=o==null?void 0:o.shopId)==null?void 0:f.image,userImage:((d=o==null?void 0:o.ownerId)==null?void 0:d._id)+".png",roomId:o==null?void 0:o._id},u)})}),e(S,{onClick:()=>r(c),icon:me,className:"z-10 hidden lg:flex lg:absolute text-[4rem] left-10 top-[50%] text-gray-300"}),e(S,{onClick:()=>n(c),icon:de,className:"z-10 hidden lg:flex lg:absolute text-[4rem] right-10 top-[50%] text-gray-300"})]})},ze=()=>{const[t,l]=m.exports.useState([]),[s,i]=m.exports.useState(""),[n,r]=m.exports.useState(!1);return{shops:t,getShops:async()=>{r(!0);try{let{data:o}=await J.get("/shop");l(o),r(!1)}catch(o){r(!1),i(o)}},errors:s,load:n}},yt=({name:t,userName:l,img:s,id:i})=>{let n=R();return e("div",{className:"flex relative w-[18rem] h-[40vh] bg-no-repeat bg-center bg-cover flex-shrink-0\r border-2 rounded-lg hover:shadow-2xl bg-white px-[3rem]",style:{backgroundImage:`url(${M}/${i}.png)`},onClick:()=>n(`/shop/${i}`),children:e("p",{className:"absolute bottom-[4%] right-[40%] text-white font-[900] text-[1.2rem]\r px-2 bg-black-80",children:t})})};const St=()=>{const{shops:t,getShops:l,errors:s,load:i}=ze();m.exports.useEffect(()=>{l()},[]);const{scrollRight:n,scrollLeft:r}=he(),c=m.exports.useRef(null);return a("div",{className:"flex flex-col py-[3rem] px-[2rem] relative",children:[e("p",{className:"text-black-40 text-[1.4rem] md:text-[2.2rem] font-[600] mb-[2rem]",children:"Popular shops"}),a("div",{ref:c,className:"scroller flex flex-row gap-x-8 overflow-x-scroll",children:[t.length>0&&(t==null?void 0:t.map((o,u)=>{var h;return e(yt,{name:o==null?void 0:o.name,userName:(h=o==null?void 0:o.userId)==null?void 0:h.userName,img:o==null?void 0:o.image,id:o==null?void 0:o._id},u)})),e(S,{onClick:()=>r(c),icon:me,className:"z-10 hidden lg:flex lg:absolute text-[4rem] left-10 top-[50%] text-gray-300"}),e(S,{onClick:()=>n(c),icon:de,className:"z-10 hidden lg:flex lg:absolute text-[4rem] right-10 top-[50%] text-gray-300"})]})]})},kt=()=>a(ee,{children:[e(bt,{}),e(St,{}),e(wt,{}),e(vt,{})]}),Ct=t=>({setSelf:l,onSet:s})=>{const i=localStorage.getItem(t);i!==null&&l(JSON.parse(i)),s((n,r,c)=>{c?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n))})},Q=Y({key:"cartAtom",default:[],effects_UNSTABLE:[Ct("gist-cart")]}),se=Y({key:"cartOpen",default:!1}),Fe=je({key:"cartSelector",get:({get:t})=>{const l=t(Q);let s=0;return l.length>0&&l.forEach(i=>s+=i.price*i.quantity),s}}),pe=Y({key:"menuOpen",default:!1}),fe=Y({key:"search",default:""}),It=()=>{const[t,l]=m.exports.useState(""),s=F(fe);let i=R();return{handleChange:r=>{l(r.target.value),s(r.target.value),r.target.value.length>0?i("/searching"):r.target.value.length===0&&i("/")},input:t,setInput:l}},Pt=()=>{const[t,l]=m.exports.useState(!1);let s=R();const i=F(fe),n=F(se),r=F(pe),c=$(Q);let{userName:o,token:u}=$(_);const{handleChange:h,input:f,setInput:d}=It();let w=c.length;return a("div",{className:"flex flex-row flex-nowrap  py-[1rem] px-[0.5rem] md:px-[2rem] \r gap-x-[1rem]",children:[e("p",{onClick:()=>{s("/")},className:"hidden md:flex text-blue-20 text-[1.6rem] font-semibold cursor-pointer",children:"Gist-Shop"}),a("div",{className:"relative mr-auto",children:[e("input",{onFocus:()=>{l(!0),s("/searching")},onBlur:()=>{},onChange:h,className:`${t?"w-[90vw] md:w-[35vw] lg:w-[45vw] xl:w-[65vw] border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none":((u==null?void 0:u.length)<1,"little:w-[25vw] border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none md:w-[35vw] lg:w-[45vw] xl:w-[65vw]")}`,placeholder:"Type a product or shop name",value:f}),e(S,{icon:He,size:"1x",color:"red",className:`${t?"absolute right-[17%] top-[15%] md:top-[30%] lg:top-[15%] lg:text-[1.5rem] lg:right-[10%]":"hidden"}`,onClick:()=>{i(""),d(""),l(!1),s("/")}})]}),u===void 0?e("button",{className:`${t?"hidden md:flex  w-[8rem] ml-auto  py-[0.3rem] self-center border-2 border-blue-20 text-[1.2rem] hover:bg-blue-400 rounded-md text-center hover:text-white justify-around  font-[600] ":"flex w-[8rem] ml-auto  py-[0.3rem] self-center border-2 border-blue-20 text-[1.2rem] hover:bg-blue-400 rounded-md text-center hover:text-white justify-around  font-[600] "}
             
             `,onClick:()=>s("/login"),children:"Sign in"}):a("p",{className:"invisible 425:visible text-blue-20 text-center self-center lg:text-[1rem] \r ",children:["Hello\u{1F590} ",o]}),a("div",{onClick:()=>{n(g=>!g),r(g=>g&&!g)},className:"relative flex text-center",children:[e(S,{icon:Ve,color:"blue",className:`${t?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem]  fa-lg md:fa-3x "}`}),e("div",{className:"absolute bg-blue-20 text-[1rem] font-[900] right-[-58%] top-[-20%] \r w-[1.8rem] h-[1.8rem] rounded-full text-white text-center pt-[0.2rem]",children:w})]}),e(S,{onClick:()=>{r(g=>!g),n(g=>g&&!g)},icon:Ye,color:"blue",className:`${t?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem] fa-lg md:fa-3x"}`})]})},ge=()=>{const t=F(Q),l=$(Fe);return{addToCart:(n,r,c,o,u,h,f)=>{t(d=>[{name:o,quantity:n,price:r,image:c,shopId:u,productId:h,id:f},...d]),A.fire({icon:"success",text:"successfully added to cart",timer:1e3})},removeItem:n=>{t(r=>r.filter(c=>c.id!==n))},totalValue:l}},Et=({image:t,name:l,amount:s,price:i,id:n})=>{const{removeItem:r}=ge();return a("div",{className:"flex flex-row flex-nowrap rounded-3xl  justify-around py-[2rem] items-center",children:[e("img",{src:`${M}/${t}`,alt:"",className:"w-[30%] "}),a("div",{className:"flex flex-col",children:[e("p",{className:"text-blue-20 md:text-[1.3rem] font-[800] capitalize",children:l}),a("p",{className:"text-black-80 md:text-[1.4rem] font-[600] tracking-wider",children:[s," x $ ",i]})]}),e(S,{onClick:()=>r(n),icon:K,color:"red",className:"md:text-[1.5rem] font-bold"})]})},At=()=>{const{addToCart:t,removeItem:l,totalValue:s}=ge(),i=$(Q),n=F(se);let r=R();return a("div",{className:"w-[90vw] md:w-[45vw] flex flex-col px-[1rem] py-[2rem] gap-y-[0.5rem]\r min-h-screen",children:[e("div",{className:"flex flex-col gap-[2rem] bg-white max-h-[60vh] lg:max-h-[60vh] overflow-y-scroll\r px-[0.4rem] md:px-[1rem] py-[3rem] border-t-2",children:i.length>0?i==null?void 0:i.map((c,o)=>e(Et,{image:c==null?void 0:c.image,name:c.name,price:c.price,amount:c.quantity,id:c.id},o)):a("div",{className:"flex flex-row self-center items-center py-[3rem] gap-x-[2rem]\r px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"Your cart is empty."})]})}),a("div",{className:"flex flex-row md:text-[1.2rem] md:w-[40%] justify-between self-end",children:[e("p",{className:"font-[500]",children:"Estimated shipping"}),e("p",{className:"font-[600] text-blue-20",children:"$0.00"})]}),a("div",{className:"flex flex-row md:text-[1.2rem] md:w-[40%] justify-between self-end",children:[e("p",{className:"font-[500]",children:"Estimated tax"}),e("p",{className:"font-[600] text-blue-20",children:"$0.00"})]}),a("div",{className:"flex flex-row md:text-[1.2rem] tracking-wider md:w-[40%] justify-between\r self-end",children:[e("p",{className:"font-[500]",children:"Estimated total"}),a("p",{className:"font-[600] text-blue-20 text-left",children:["$",isNaN(s)?0:s]})]}),e("button",{disabled:i.length===0,onClick:()=>{n(c=>!c),r("/orders")},type:"button",className:"bg-blue-20 md:w-[40%] py-[0.4rem] px-[1.4rem] rounded-md self-end\r hover:bg-blue-400 text-white text-[1.3rem] font-[500] \r disabled:bg-gray-300  my-[1.5rem]",children:"Checkout"})]})},$t=({setMenuOpen:t})=>{let l=R();const s=F(_);return a("div",{className:"w-[90vw] md:w-[40vw] min-h-screen flex flex-col gap-y-[2rem] \r px-[2rem] py-[3rem]",children:[a("div",{className:"flex flex-row cursor-pointer items-start gap-x-[1rem]",onClick:()=>{l("/myAccount/profile"),t(!1)},children:[e(S,{icon:ye,size:"2x",color:"#6F00FF"}),e("p",{className:"text-[1.4rem] font-[700]",children:"My Account"})]}),a("div",{onClick:()=>{t(!1),s({}),l("/")},className:"flex flex-row cursor-pointer items-start gap-x-[1rem] pl-[0.5rem]",children:[e(S,{icon:Ze,size:"2x",color:"#F40009"}),e("p",{className:"text-[1.4rem] font-[700] text-red-20",children:"Logout"})]})]})},qt=()=>{const t=$(se),l=F(se),s=$(pe),i=F(pe),n=m.exports.useRef();return(c=>{m.exports.useEffect(()=>{const o=u=>{t&&c.current&&c.current.contains(u.target)?l(h=>h&&!h):s&&c.current&&c.current.contains(u.target)&&i(h=>h&&!h)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t,s])})(n),a("div",{className:"flex flex-col flex-nowrap overflow-x-clip ",children:[e("div",{className:"fixed top-0 inset-x-1 z-50 bg-white",children:e(Pt,{})}),a("div",{className:"relative",children:[e("div",{className:`${t?"fixed right-0 top-16 bg-white min-h-max  z-[44] shadow-2xl rounded-xl":"hidden"}`,children:e(At,{})}),e("div",{onBlur:()=>i(c=>!c),className:`${s?"fixed right-0 top-16 bg-white z-[44] shadow-2xl":"hidden"}`,children:e($t,{setMenuOpen:i})}),e("div",{ref:n,className:"mt-[4rem]",children:e(Se,{})})]})]})},Lt=()=>{const t=F(_),l=$(_),[s,i]=m.exports.useState(""),[n,r]=m.exports.useState(""),[c,o]=m.exports.useState(l==null?void 0:l.email),[u,h]=m.exports.useState(""),[f,d]=m.exports.useState(""),[w,g]=m.exports.useState(l==null?void 0:l.firstName),[p,b]=m.exports.useState(l==null?void 0:l.lastName),[x,y]=m.exports.useState(l==null?void 0:l.bio),[v,I]=m.exports.useState(l==null?void 0:l.userName),[k,N]=m.exports.useState(l==null?void 0:l.phoneNumber),[P,T]=m.exports.useState(!1),[C,L]=m.exports.useState(""),{Axios:z}=H(),[j,E]=m.exports.useState(M+"/"+(l==null?void 0:l._id)+".png"),[D,G]=m.exports.useState({});return{mailError:s,passError:n,email:c,password:u,fname:w,lname:p,bio:x,userName:v,handleChange:q=>{switch(G(""),q.target.id){case"email":o(q.target.value),q.target.value.toLowerCase().match(te)?i(""):i("Invalid email");break;case"pass":h(q.target.value),q.target.value.match($e)?r(""):r("Password should be atleast six characters long");break;case"confirm":d(q.target.value);break;case"fname":g(q.target.value);break;case"lname":b(q.target.value);break;case"userName":I(q.target.value);break;case"bio":y(q.target.value);break;case"img":W(q.target.files[0]).then(V=>{E(V)}).catch(V=>console.log(V));break}},load:P,errors:D,phone:k,phoneErr:C,handlePhoneChange:q=>{N(q),q.length<5?L("please enter a valid phone number"):L("")},handleSubmit:async q=>{q.preventDefault(),T(!0);try{let{data:Z}=await z.put(`/users/${l==null?void 0:l._id}`,{firstName:w,lastName:p,email:c,bio:x,userName:v,profilePhoto:j,phonenumber:k});A.fire({icon:"success",text:"Your profile has been updated",timer:1500}),console.log(Z),t(Z),T(!1)}catch(Z){let V=Z.response.data.split(":");T(!1),A.fire({icon:"error",text:V[2]})}},confirmPassword:f,img:j}},zt=()=>{const{mailError:t,passError:l,email:s,password:i,fname:n,lname:r,bio:c,userName:o,handleChange:u,load:h,errors:f,phone:d,phoneErr:w,handlePhoneChange:g,handleSubmit:p,confirmPassword:b,img:x}=Lt(),{renderSpinner:y}=B(),v=m.exports.useRef(null),I=()=>{v.current.click()};return a("form",{className:"flex flex-col  gap-y-[0.1rem] w-full py-[5rem] px-[2rem] lg:px-[4rem]\r justify-around relative",autoComplete:"off",onSubmit:p,children:[e("div",{className:"invisible md:visible absolute w-[40rem] h-[40rem] top-0 left-0 \r bg-gray-100 -z-10 rounded-br-full"}),e("p",{className:"text-black-80 text-[1.4rem] md:text-[2rem] font-[700]",children:"Edit your profile"}),a("div",{className:"flex flex-col w-screen ",children:[a("div",{className:"flex flex-col lg:flex-row  gap-[0rem] md:gap-[2rem] items-start",children:[a("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem]  mb-[0.5rem] text-black-80",children:"First Name"}),e("input",{onChange:u,value:n,required:!0,type:"text",id:"fname",name:"fname",className:"h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-bold px-[1rem] ring-2 \r ring-blue-500"})]}),a("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem] mb-[0.5rem] text-black-80",children:"Last Name"}),e("input",{onChange:u,value:r,required:!0,type:"text",id:"lname",name:"lname",className:"h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-bold px-[1rem] ring-2 \r ring-blue-500"})]})]}),a("div",{className:"flex flex-col lg:flex-row gap-[0rem] md:gap-[2rem] items-start",children:[a("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem] mb-[0.5rem] text-black-80",children:"Bio"}),e("textarea",{onChange:u,value:c,required:!0,id:"bio",rows:3,cols:6,className:" outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] ring-2 ring-blue-500"})]}),a("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[e("label",{htmlFor:"userName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mt-[3rem] \r mb-[0.5rem] text-black-80",children:"Username"}),e("input",{onChange:u,value:o,required:!0,type:"text",id:"userName",className:"h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-bold px-[1rem] ring-2 \r ring-blue-500"})]})]}),a("div",{className:"flex flex-col lg:flex-row gap-[0rem] md:gap-[2rem] items-start",children:[a("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem]   mb-[0.5rem] text-black-80",children:"Email Address"}),e("input",{onChange:u,value:s,required:!0,type:"text",id:"email",name:"email",className:"h-[2.25rem] outline-none \r text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] ring-2 ring-blue-500"})]}),a("div",{className:"flex flex-col w-[80vw] md:w-[80%] lg:w-[40%]",children:[e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mt-[3rem]  mb-[0.5rem] text-black-80",children:"Phone Number"}),e(re,{country:"ke",value:d,onChange:g,inputProps:{required:!0},inputStyle:{width:"100%",border:"2.5px solid rgb(59 130 246)",color:"#8B5CF6",fontWeight:"bold",fontSize:"1.2rem"}})]})]}),a("div",{className:"flex flex-col  w-[80vw] md:w-[80%] lg:w-[40%] my-[2rem] space-y-10",children:[e("img",{src:x,className:x.length<1?"hidden":" flex max-h-[14rem] w-full object-contain"}),e("input",{onChange:u,ref:v,type:"file",id:"img",accept:"image/png",className:"hidden"}),e("button",{type:"button",className:`${(x==null?void 0:x.length)>1?"bg-white text-green-40 font-[700] ":"bg-blue-20 text-white text-[1.1rem] font-bold"}
                        w-full px-[4rem] md:px-[2rem] py-[0.4rem] self-end
                         border-[0.2rem]  border-black-70 mt-[2rem] md:mt-0 rounded-md`,onClick:I,children:(x==null?void 0:x.length)<1?"Upload Image":e(S,{icon:ve,size:"2x",color:"green"})})]})]}),e("div",{className:"mt-[1rem]",children:y(h)}),e("button",{disabled:l.length>1||t.length>1||h||w.length>0||(d==null?void 0:d.length)<4||b!==i,type:"submit",className:"bg-blue-20 py-[0.5rem] mt-[3rem]  text-white text-[1.4rem] rounded-lg\r font-bold w-[12rem] hover:bg-blue-600 self-start disabled:bg-gray-400",children:"Submit"})]})},Ft=()=>{const{_id:t}=$(_),{Axios:l}=H(),[s,i]=m.exports.useState([]),[n,r]=m.exports.useState(!1);return{myShops:s,load:n,getShopsByUserId:async()=>{r(!0);try{let{data:o}=await l.get(`/shop/${t}`);i(o),r(!1)}catch{A.fire({icon:"error",text:"error"}),r(!1)}}}},Rt=()=>{const{_id:t}=$(_),[l,s]=m.exports.useState(""),[i,n]=m.exports.useState(""),[r,c]=m.exports.useState(""),[o,u]=m.exports.useState(""),[h,f]=m.exports.useState(""),[d,w]=m.exports.useState(""),[g,p]=m.exports.useState(""),[b,x]=m.exports.useState(""),[y,v]=m.exports.useState(!1),{Axios:I}=H();return{shopName:l,email:h,location:i,desc:o,img:r,phone:d,createShop:async C=>{v(!0),C.preventDefault();try{await I.post(`/shop/${t}`,{name:l,email:h,location:i,phoneNumber:d,description:o,image:r}),A.fire({icon:"success",text:"Your shop has been created",timer:1e3}),v(!1)}catch(L){let z=L.response.data.split(":");v(!1),A.fire({icon:"error",text:L.response.status===409?"Please choose a different shop name":z[2],timer:2e3})}},handleChange:C=>{switch(C.target.id){case"shopName":s(C.target.value);break;case"location":n(C.target.value);break;case"desc":u(C.target.value);break;case"img":W(C.target.files[0]).then(z=>{c(z)}).catch(z=>console.log(z));break;case"email":f(C.target.value),C.target.value.toLowerCase().match(te)?p(""):p("Invalid email");break}},handlePhoneChange:C=>{w(C),C.length<5?x("please enter a valid phone number"):x("")},phoneErr:b,mailError:g,load:y,clearAttributes:()=>{u(""),f(""),c(""),n(""),p(""),w(""),x(""),s("")}}},Bt=({openCreate:t,setOpenCreate:l})=>{const{shopName:s,email:i,location:n,desc:r,img:c,phone:o,createShop:u,handleChange:h,handlePhoneChange:f,phoneErr:d,mailError:w,load:g,clearAttributes:p}=Rt(),{renderSpinner:b}=B(),x=m.exports.useRef(null),y=()=>{x.current.click()};return a("div",{className:`${t?"flex flex-col bg-white":"hidden"}`,children:[b(g),e("p",{className:"text-[1.6rem] text-black-80 text-center",children:"Create Your Shop"}),a("form",{autoComplete:"off",onSubmit:v=>{u(v),p()},className:"py-[2rem] flex flex-col lg:flex-row  gap-y-[2rem] \r md:px-[12rem] md:justify-around lg:px-0 lg:space-x-20",children:[a("div",{className:" flex flex-col w-full",children:[e("label",{htmlFor:"shopName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r mt-[2rem] ",children:"Shop Name"}),e("input",{onChange:h,value:s,required:!0,type:"text",id:"shopName",className:"h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("label",{htmlFor:"location",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Location"}),e("input",{onChange:h,required:!0,value:n,type:"text",id:"location",className:"h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop email"}),e("input",{onChange:h,value:i,required:!0,type:"text",id:"email",className:"h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("p",{className:"text-red-20",children:w}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop Telephone"}),e(re,{country:"us",value:o,onChange:f,inputProps:{required:!0},inputStyle:{width:"100%",border:"2.5px solid rgb(59 130 246)"},inputClass:"w-24 border-2"}),e("p",{className:"text-red-20",children:d}),e("label",{htmlFor:"desc",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:h,value:r,required:!0,rows:3,cols:50,id:"desc",className:"outline-none text-blue-20\r rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500 "})]}),a("div",{className:"flex flex-col-reverse lg:w-full lg:py-[rem] lg:space-y-[2rem] ",children:[e("img",{src:c,alt:"",className:"hidden lg:flex w-full max-h-[40vh] object-contain \r order-3"}),e("button",{type:"button",className:"blue-btn px-[1rem] py-[0.3rem] lg:w-[40%] lg:self-center order-2",onClick:y,children:"Upload Image"}),e("input",{onChange:h,required:!0,ref:x,type:"file",id:"img",accept:"image/png",className:"hidden"}),a("div",{className:"flex flex-row justify-between gap-x-[3rem] order-1",children:[e("button",{type:"submit",disabled:w.length>0||g||d.length>0||o.length<3||c.length<1,className:"bg-blue-20  px-[2rem] py-[0.5rem]  rounded-lg self-center text-white\r text-[1rem] font-[700] disabled:bg-gray-400",children:"Submit"}),e("button",{onClick:()=>{l(!1),p()},type:"button",className:"bg-red-20 px-[2rem] py-[0.5rem] rounded-lg\r self-center text-white text-[1rem] font-[700]  disabled:bg-gray-400",children:"Close"})]})]})]})]})},Ot=()=>{$(_);const[t,l]=m.exports.useState(""),[s,i]=m.exports.useState(""),[n,r]=m.exports.useState(""),[c,o]=m.exports.useState(""),[u,h]=m.exports.useState(""),[f,d]=m.exports.useState(""),[w,g]=m.exports.useState(""),[p,b]=m.exports.useState(""),[x,y]=m.exports.useState(!1),{Axios:v}=H();return{shopName:t,email:u,location:s,desc:c,img:n,phone:f,handleChange:C=>{switch(C.target.id){case"shopName":l(C.target.value);break;case"location":i(C.target.value);break;case"desc":o(C.target.value);break;case"img":W(C.target.files[0]).then(z=>{r(z)}).catch(z=>console.log(z));break;case"email":h(C.target.value),C.target.value.toLowerCase().match(te)?g(""):g("Invalid email");break}},handlePhoneChange:C=>{d(C),C.length<5?b("please enter a valid phone number"):b("")},phoneErr:p,mailError:w,load:x,updateShop:async(C,L)=>{y(!0),C.preventDefault();try{await v.put(`/shop/shop/${L}`,{name:t,email:u,location:s,phoneNumber:f,image:n,description:c}),A.fire({icon:"success",text:"Your shop has been updated",timer:1e3}),y(!1)}catch(z){let j=z.response.data.split(":");y(!1),A.fire({icon:"error",text:z.response.status===409?"Please choose a different shop name":j[2],timer:2e3})}},getShopById:async C=>{y(!0);try{let{data:{name:L,email:z,location:j,phoneNumber:E,image:D,description:G}}=await v.get(`/shop/shop/${C}`);l(L),i(j),r(D),o(G),d(E),h(z),y(!1),r(M+"/"+D)}catch{y(!1)}},handleImgChange:C=>{W(C.target.files[0]).then(L=>{r(L)}).catch(L=>console.log(L))}}},Re=()=>{const{_id:t}=$(_),[l,s]=m.exports.useState(""),[i,n]=m.exports.useState(0),[r,c]=m.exports.useState(""),[o,u]=m.exports.useState(""),[h,f]=m.exports.useState([]),[d,w]=m.exports.useState(!1),{Axios:g}=H(),[p,b]=m.exports.useState(!1),x=()=>{s(""),n(0),c(""),f([]),u("")};return{name:l,price:i,quantity:r,handleChange:k=>{switch(k.target.id){case"name":s(k.target.value);break;case"price":n(k.target.value);break;case"quantity":c(k.target.value);break;case"desc":u(k.target.value);break;case"images":W(k.target.files[0]).then(N=>{f(P=>[...P,N])}).catch(N=>console.log(N));break}},clearAttributes:x,addProduct:async(k,N)=>{w(!0),k.preventDefault();try{await g.post(`/products/${N}`,{name:l,price:i,quantity:r,images:h,ownerId:t,description:o}),A.fire({icon:"success",text:"A product has been added to your shop",timer:1e3}),x(),w(!1)}catch(P){let T=P.response.data.split(":");w(!1),A.fire({icon:"error",text:P.response.status===409?"Please choose a different shop name":T[2],timer:2e3})}},load:d,images:h,setImages:f,removeImg:k=>{k>-1&&f(N=>N.filter(P=>N.indexOf(P)!==k))},openProduct:p,setOpenProduct:b,desc:o}},_t=({openProduct:t,setOpenProduct:l,shopId:s})=>{const{name:i,price:n,quantity:r,handleChange:c,clearAttributes:o,addProduct:u,load:h,images:f,setImages:d,removeImg:w,desc:g}=Re(),{renderSpinner:p}=B(),b=m.exports.useRef(null);return e("div",{className:`${t?"flex flex-col items-center mb-[4rem]":"hidden"}`,children:a("form",{autoComplete:"off",name:"addProduct",className:"flex flex-col lg:flex-row  gap-x-[8rem] lg:px-[3rem] lg:w-full",onSubmit:x=>{u(x,s)},children:[a("div",{className:"flex flex-col w-[80vw] lg:w-full",children:[e("label",{htmlFor:"name",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Product name"}),e("input",{onChange:c,required:!0,value:i,type:"text",id:"name",className:" h-[2.25rem] outline-none w-full\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("label",{htmlFor:"price",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Price"}),e("input",{min:"0",onChange:c,required:!0,value:n,type:"number",id:"price",className:" h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("label",{htmlFor:"quantity",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Quantity"}),e("input",{min:"0",onChange:c,required:!0,value:r,type:"number",id:"quantity",className:" h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("label",{htmlFor:"quantity",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:c,required:!0,rows:3,value:g,id:"desc",className:"  outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("label",{htmlFor:"images",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Add Images"}),e("input",{onChange:c,type:"file",accept:"image/png",id:"images",className:"hidden",ref:b}),e("button",{type:"button",onClick:()=>b.current.click(),className:"blue-btn px-[1rem] py-[0.4rem] my-[2rem]",children:"Upload"}),a("div",{className:"flex flex-row justify-between mt-[2rem] text-white text-[1.2rem]",children:[e("button",{disabled:(f==null?void 0:f.length)<1||h,type:"submit",className:"blue-btn px-[1rem] py-[0.4rem] bg-blue-20 rounded-md",children:"Submit"}),e("button",{type:"button",onClick:()=>l(!1),className:" blue-btn bg-red-20 px-[1.7rem] py-[0.4rem] hover:bg-red-500\r rounded-md ",children:"Close"})]})]}),a("div",{className:"hidden lg:flex flex-col w-[80vw] lg:w-full md:py-[4rem] ",children:[e("div",{className:"hidden lg:flex lg:flex-row flex-wrap gap-[2rem] lg:max-h-[59vh]\r overflow-y-scroll",children:f==null?void 0:f.map((x,y)=>a("div",{className:"relative flex flex-col",children:[e("img",{src:x,alt:"",className:"h-[6rem] w-[8rem] mx-[1.4rem] object-contain"},y),e(S,{icon:K,size:"1x",color:"#F74356",onClick:()=>{w(y)},className:"absolute top-[10%] right-[40%]"})]},y))}),p(h)]})]})})},Dt=({open:t,shopId:l,setOpen:s})=>{const{shopName:i,email:n,location:r,desc:c,img:o,phone:u,handleChange:h,handlePhoneChange:f,phoneErr:d,mailError:w,load:g,updateShop:p,getShopById:b}=Ot(),{openProduct:x,setOpenProduct:y}=Re(),{renderSpinner:v}=B(),I=m.exports.useRef(null),k=()=>{I.current.click()};return m.exports.useEffect(()=>{b(l)},[t]),a("div",{className:`${t?"flex flex-col rounded-2xl py-[3rem] w-[100vw]  relative":"hidden"}`,children:[e("div",{className:"px-[2rem]",children:v(g)}),e("button",{onClick:()=>y(N=>!N),className:"bg-blue-20 text-white px-[1rem] py-[0.5rem] w-[10rem] self-center rounded-md\r absolute top-10 right-6 ",children:x?"Edit shop":"Add Product"}),x?e(_t,{openProduct:x,setOpenProduct:y,shopId:l}):a("form",{onSubmit:N=>{p(N,l)},className:"flex flex-col lg:flex-row px-[2rem] gap-y-[0.5rem]  \r md:px-[12rem] lg:px-[4rem] lg:gap-x-[4rem] lg:mt-[6rem]",children:[a("div",{className:" flex flex-col w-full ",children:[e("label",{htmlFor:"shopName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem]\r mb-[0.5rem] mt-[2rem] lg:mt-0 ",children:"Shop Name"}),e("input",{onChange:h,value:i,required:!0,type:"text",id:"shopName",className:" h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("label",{htmlFor:"location",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Location"}),e("input",{onChange:h,required:!0,value:r,type:"text",id:"location",className:" h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop email"}),e("input",{onChange:h,value:n,required:!0,type:"text",id:"email",className:" h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"}),e("p",{className:"text-red-20",children:w}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop Telephone"}),e(re,{country:"us",value:u,onChange:f,inputProps:{required:!0},inputStyle:{width:"100%",border:"3px solid rgb(59 130 246)"}}),e("p",{className:"text-red-20",children:d}),e("label",{htmlFor:"desc",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:h,value:c,required:!0,rows:5,cols:50,id:"desc",className:" outline-none text-blue-20\r rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"})]}),a("div",{className:"flex flex-col w-full max-h-screen",children:[e("img",{src:o,alt:"",className:"hidden md:flex w-full h-[40vh] object-contain"}),e("input",{onChange:N=>{h(N)},ref:I,type:"file",id:"img",accept:"image/png",className:"hidden"}),e("button",{type:"button",className:"blue-btn px-[1rem] py-[0.4rem] my-[3rem] lg:w-[40%]",onClick:k,children:"Upload Image"}),a("div",{className:"flex flex-row justify-between gap-x-[3rem]",children:[e("button",{type:"submit",disabled:w.length>0||g||d.length>0||u.length<3,className:"bg-blue-20 px-[1rem] py-[0.5rem] w-[6rem] rounded-lg\r self-center text-white text-[1rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Submit"}),e("button",{type:"button",onClick:()=>s(!1),className:"bg-red-20 px-[1rem] py-[0.5rem] w-[6rem] rounded-lg\r self-center text-white text-[1rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Close"})]})]})]})]})},Ut=({name:t,userName:l,img:s,id:i})=>{let n=R();return a("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] p-[1rem]\r flex-shrink-0 relative",children:[e("img",{src:M+"/"+s,alt:"",className:"w-[24rem] h-[40vh] object-cover rounded-md"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:t}),e("button",{onClick:()=>n(`/myAccount/shops/${i}`),className:"blue-btn",children:"View Products"})]})},Be=()=>{const{Axios:t}=H(),[l,s]=m.exports.useState(!1),[i,n]=m.exports.useState(!1);return{load:l,deleteShop:async(c,o)=>{c.preventDefault(),s(!0),n(!1);try{t.delete(`/shop/shop/${o}`),s(!1),A.fire({icon:"success",title:"Shop deleted successfully",timer:1500})}catch{s(!1),A.fire({icon:"error",title:"Sorry the shop was not deleted",timer:1500})}},openDelete:i,setOpenDelete:n}},Mt=({name:t,shopId:l,setOpenDelete:s})=>{const{load:i,deleteShop:n}=Be(),[r,c]=m.exports.useState(),o=u=>{c(u.target.value)};return a("div",{className:"flex flex-col py-[3rem] px-[1rem] relative bg-white justify-around \r rounded-md gap-y-[3rem] shadow-lg",children:[e(S,{icon:X,size:"2x",color:"red",className:"absolute right-[5%] top-[4%]",onClick:()=>s(!1)}),a("p",{className:"text-[1rem] md:text-[1.4rem] text-black-40 font-[300]",children:["Please type ",a("span",{className:"font-[700]",children:[" ",t," "]}),"to confirm"]}),a("form",{className:"flex flex-col justify-around gap-y-[4rem]",onSubmit:u=>{n(u,l),s(!1)},children:[e("input",{type:"text",required:!0,className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500",onChange:u=>o(u)}),e("button",{type:"submit",disabled:r!==t,className:" border-[0.2rem] border-red-20 px-[1rem] py-[0.4rem]\r text-red-20 text-[700] disabled:bg-gray-200 disabled:border-red-300\r disabled:text-red-200",children:"I understand the consequences, delete this shop."})]})]})},Tt=()=>{const{myShops:t,load:l,getShopsByUserId:s}=Ft(),{renderSpinner:i}=B(),[n,r]=m.exports.useState(!1),[c,o]=m.exports.useState(""),[u,h]=m.exports.useState(""),[f,d]=m.exports.useState(!1),{openDelete:w,setOpenDelete:g}=Be();return m.exports.useEffect(()=>{s()},[f,w]),a("div",{className:"flex flex-col  flex-nowrap  gap-[2rem] \r px-[2rem] py-[4rem] relative bg-white",children:[e("div",{className:"invisible md:visible absolute w-[40rem] h-[40rem] top-0 left-0 \r bg-gray-50 -z-10 rounded-br-full"}),a("button",{onClick:()=>d(p=>!p),className:`${!f&&!n?"flex px-[1rem] py-[0.5rem] bg-blue-20 rounded-md text-white text-center text-[1.4rem] m-[2rem] self-start":"hidden"}`,children:[e(S,{icon:We,size:"1x",className:"self-center mr-[1rem]"}),"Create Shop"]}),e(Bt,{openCreate:f,setOpenCreate:d}),w?e("div",{className:"fixed top-[20%] md:left-[30%] center z-50  inset-y-0 w-[80vw] md:w-[40vw]",children:e(Mt,{shopId:c,setOpenDelete:g,name:u})}):null,i(l),a("div",{className:`${f?"hidden":"flex flex-col md:flex-row justify-start gap-[2rem] md:gap-[2rem] md:px-[2rem] md:flex-wrap "}`,children:[(t==null?void 0:t.length)>0,t.map((p,b)=>a("div",{className:"relative",children:[e(Ut,{img:p.image,name:p.name,userName:p.userId.userName,id:p._id},b),e("button",{onClick:()=>{o(p._id),h(p.name),g(!0)},className:" px-[1rem] py-[0.4rem] rounded-lg absolute top-[5%]\r left-[5%] text-[1rem] bg-white",children:e(S,{icon:K,size:"1x",className:"self-center",color:"red"})}),e("button",{onClick:()=>{o(p._id),r(!0)},className:" px-[1rem] py-[0.4rem] rounded-lg absolute top-[5%] \r right-[5%] text-[1rem]  bg-white",children:e(S,{onClick:()=>{o(p._id),r(!0)},icon:Ge,size:"1x",className:"self-center",color:"blue"})})]},b))]}),e("div",{className:"absolute flex left-0 top-[0%] bg-gray-50 z-50",children:e(Dt,{open:n,shopId:c,setOpen:r})})]})},jt=()=>a("div",{className:"flex flex-row bg-white px-[0.5rem] py-[2rem] lg:py-[1rem] lg:px-[4rem]\r items-start space-x-2  lg:space-x-5 w-screen shadow-xl",children:[a(le,{to:"/",className:({isActive:t})=>t?"text-blue-20 flex flex-row flex-nowrap items-center  space-x-[0.2rem]":"text-black-80 flex flex-row flex-nowrap items-center  space-x-[0.2rem]",children:[e(S,{icon:Je,size:"1x",color:""}),e("p",{className:"hidden md:flex text-[0.9rem] md:text-[1.2rem] font-[400]",children:"Home"}),e("p",{className:"lg:text-[2rem] text-black-80 font-[500] self-start",children:"/"})]}),a(le,{to:"/myAccount/profile",className:({isActive:t})=>t?"text-blue-20 flex flex-row flex-nowrap items-center  space-x-[0.2rem]":"text-black-80 flex flex-row flex-nowrap items-center  space-x-[0.2rem]",children:[e(S,{icon:ye,size:"1x",color:""}),e("p",{className:"hidden md:flex text-[0.9rem] md:text-[1.2rem] font-[400]",children:"Profile"}),e("p",{className:"lg:text-[2rem] text-black-80 font-[500] self-start",children:"/"})]}),a(le,{to:"/myAccount/shops",className:({isActive:t})=>t?"text-blue-20 flex flex-row flex-nowrap items-center  space-x-[0.2rem]":"text-black-80 flex flex-row flex-nowrap items-center  space-x-[0.2rem]",children:[e(S,{icon:ke,size:"1x",color:""}),e("p",{className:"text-[0.9rem] md:text-[1.2rem] font-[400]",children:"My Shops"}),e("p",{className:"lg:text-[2rem] text-black-80 font-[500] self-start",children:"/"})]}),a(le,{to:"/myAccount/orders",className:({isActive:t})=>t?"text-blue-20 flex flex-row flex-nowrap items-center  space-x-[0.2rem]":"text-black-80 flex flex-row flex-nowrap items-center  space-x-[0.2rem]",children:[e(S,{icon:ke,size:"1x",color:""}),e("p",{className:"text-[0.9rem] md:text-[1.2rem] font-[400]",children:"My Orders"}),e("p",{className:"lg:text-[2rem] text-black-80 font-[500] self-start",children:"/"})]})]}),Ht=()=>{const[t,l]=m.exports.useState(!1),s=m.exports.useRef();return(n=>{m.exports.useEffect(()=>{const r=c=>{t&&n.current&&n.current.contains(c.target)&&l(o=>o&&!o)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t])})(s),a("div",{className:"flex flex-col overflow-x-clip relative",children:[e("div",{className:"flex sticky w-full left-0 top-0 z-50",children:e(jt,{})}),e("div",{className:"",ref:s,children:e(Se,{})})]})},Oe=()=>{const{Axios:t}=H(),[l,s]=m.exports.useState([]),[i,n]=m.exports.useState(!1),{_id:r}=$(_),[c,o]=m.exports.useState([]),[u,h]=m.exports.useState(""),[f,d]=m.exports.useState(""),[w,g]=m.exports.useState(!1),[p,b]=m.exports.useState(!1),[x,y]=m.exports.useState("pending"),[v,I]=m.exports.useState(""),[k,N]=m.exports.useState({}),P=[{name:"Date Placed",selector:E=>E.date},{name:"Status",selector:E=>E.status},{name:"Actions",selector:E=>E.actions}];let T=l.map(E=>Object.assign(E,{actions:a("div",{className:"flex w-full gap-x-[2rem]",children:[e("button",{className:"red-btn px-[1rem] py-[0.4rem]",id:E._id,value:E._id,onClick:D=>{I(E==null?void 0:E.shopId),d(D.currentTarget.value),g(!0),b(!1)},children:"Edit"}),e("button",{className:"red-btn px-[1rem] py-[0.4rem]",id:E._id,value:E._id,onClick:D=>{j(D.currentTarget.value),g(!1)},children:"View"})]}),date:new Date(E.createdAt).toLocaleDateString()}));const C=async()=>{n(!0);try{let{data:E}=await t.get(`/shop/${r}`);o(E),n(!1)}catch{n(!1),A.fire({icon:"error",title:"Failed to get your orders"})}},L=async E=>{n(!0);try{let{data:D}=await t.get(`/orders/all/shop/${E}`);s(D),n(!1)}catch{n(!1),A.fire({icon:"error",title:"Failed to get your orders"})}},z=async(E,D,G)=>{E.preventDefault(),n(!0);try{await t.put(`/orders/orders/${D}`,{status:x}),n(!1),A.fire({icon:"success",title:"Your order has been updated",timer:1500}).then(()=>{L(G),g(!1)})}catch{A.fire({icon:"error",title:"Error updating order",timer:1500}),n(!1)}},j=async E=>{n(!0);try{let{data:D}=await t.get(`/orders/orders/${E}`);b(!0),N(D),n(!1)}catch{n(!1)}};return{getMyOrders:L,columns:P,load:i,orders:l,getMyShops:C,setShopId:h,shops:c,populate:T,open:w,setOpen:g,openView:p,setOpenView:b,orderId:f,editOrder:z,setStatus:y,setCurrentShop:I,currentShop:v,getOrderById:j,order:k}},Vt=({setOpen:t,orderId:l,shopId:s})=>{const{editOrder:i,setStatus:n}=Oe();return a("div",{className:"flex flex-col py-[3rem] px-[2rem] relative bg-white justify-around items-center\r rounded-md gap-y-[3rem] shadow-lg md:w-[30rem] z-50 opacity-100",children:[e(S,{icon:X,size:"2x",color:"red",className:"absolute right-[5%] top-[4%]",onClick:()=>t(!1)}),a("form",{className:"flex flex-col justify-around gap-y-[4rem]",onSubmit:r=>{i(r,l,s),t(!1)},children:[e("label",{htmlFor:"billing",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.3rem] mt-[3rem] \r mb-[0.5rem]",children:"Change order status"}),a("select",{onChange:r=>n(r.target.value),required:!0,id:"billing",className:"h-[3.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] ring-2 ring-blue-500",children:[a("option",{disabled:!0,defaultValue:"true",value:"",children:[" ","-- select an option --"," "]}),e("option",{value:"pending",className:"text-[1.2rem] font-[700]",children:"Pending"}),e("option",{value:"cancelled",className:"text-[1.2rem] font-[700]",children:"Cancelled"}),e("option",{value:"shipped",className:"text-[1.2rem] font-[700]",children:"Shipped"}),e("option",{value:"delivered",className:"text-[1.2rem] font-[700]",children:"Delivered"})]}),e("button",{type:"submit",className:" border-[0.2rem] border-red-20 px-[1rem] py-[0.4rem]\r text-red-20 text-[700] disabled:bg-gray-200 disabled:border-red-300\r disabled:text-red-200",children:"Submit"})]})]})},Yt=({order:t,setOpenView:l})=>{var s,i,n;return R(),console.log(t),a("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl  hover:shadow-2xl relative ",children:[e(S,{icon:X,size:"2x",color:"red",className:"absolute right-[5%] top-[4%]",onClick:()=>l(!1)}),a("div",{className:"flex flex-row gap-x-[1rem]",children:[e("img",{src:"",alt:""}),e("div",{className:"flex flex-col w-[16rem]",children:a("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:[(i=(s=t==null?void 0:t.itemId)==null?void 0:s.productId)==null?void 0:i.name,e("br",{})]})})]}),e("div",{className:"flex relative w-[70vw] h-[40vh] md:w-[25rem] bg-no-repeat bg-center \r bg-cover rounded-xl\r border-[0.1rem]",style:{backgroundImage:`url(${M}/${(n=t==null?void 0:t.itemId)==null?void 0:n.productId}.png)`},children:a("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",t==null?void 0:t.totalCost]})})]})};Qe("light",{text:{fontSize:"2rem",fontWeight:"2px",primary:"#000000"},background:{default:"inherit"}});const Zt={cells:{style:{minHeight:"72px",fontSize:"1rem",fontWeight:"500"}},headCells:{style:{fontSize:"1.5rem",fontWeight:"600"}}},Wt=()=>{const{getMyOrders:t,columns:l,load:s,getMyShops:i,shops:n,populate:r,open:c,setOpen:o,orderId:u,currentShop:h,openView:f,setOpenView:d,getOrderById:w,order:g}=Oe(),{renderSpinner:p}=B(),b=m.exports.useRef();return m.exports.useEffect(()=>{n.length>0&&t(h)},[c,h,u]),m.exports.useEffect(()=>{i()},[]),a("div",{className:"flex flex-col px-[2rem] py-[3rem]  gap-[2rem]",children:[a("div",{ref:b,className:"flex flex-col gap-y-[0.1rem]  px-[1rem]",children:[e("p",{className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.3rem] mt-[3rem] \r mb-[0rem] text-black-80",children:"Select a shop to view its orders"}),e("div",{className:"flex flex-row gap-[0.5rem] mt-[2rem]",children:n==null?void 0:n.map((x,y)=>e("button",{className:"outline outline-blue-20 rounded-md text-blue-20 font-[800] \r px-[0.5rem] py-[0.1rem] text-[1rem]",value:x==null?void 0:x._Id,onClick:()=>{t(x==null?void 0:x._id)},children:x==null?void 0:x.name},y))}),e("div",{className:"absolute top-48 left-[48%] mt-[1rem]",children:p(s)})]}),a("div",{className:"flex flex-col w-full border-2 mt-[4rem] relative",children:[e("div",{className:`${c?"fixed opacity-100 z-50 right-[20%] top-[15%] md:top-48  md:right-[20%] lg:right-[40%]":"hidden"}`,children:e(Vt,{setOpen:o,orderId:u,shopId:h})}),e("div",{className:`${f?"absolute opacity-100 z-50 right-[20%] top-[15%] md:top-[0%]  md:right-[20%] lg:right-[40%]":"hidden"}`,children:e(Yt,{setOpenView:d,orderId:u,order:g})}),e(Ke,{columns:l,data:r,selectableRows:!0,responsive:!0,pagination:!0,customStyles:Zt,subHeaderWrap:!0,striped:!0,title:"Orders",theme:"light",fixedHeader:!0,fixedHeaderScrollHeight:"500px",pointerOnHover:!0,className:"bg text-color"})]})]})},_e=()=>{const[t,l]=m.exports.useState([]),[s,i]=m.exports.useState([]),[n,r]=m.exports.useState(t[0]),[c,o]=m.exports.useState(s[0]),[u,h]=m.exports.useState(!1),f=F(Q),d=$(Q),w=$(Fe),{_id:g}=$(_),{Axios:p}=H();let b=R();return{billing:n,shipping:c,getBillingByUserId:async()=>{h(!0);try{let{data:N}=await p.get(`/billing/all/${g}`);N.lenght<1&&A.fire({icon:"info",title:"Looks like you dont have any shipping or order information.",text:"Don't worry you can add new information in the button above"}),l(N),h(!1)}catch{h(!1)}},getShippingByUserId:async()=>{h(!0);try{let{data:N}=await p.get(`/address/all/${g}`);i(N),h(!1)}catch{h(!1)}},userShippings:s,userBillings:t,load:u,handleSubmit:async N=>{N.preventDefault(),h(!0),d.map(P=>P.productId);try{await Promise.all(d.map(async P=>{await p.post(`/orders/${g}`,{billingId:n,shippingId:c,subTotal:w,tax:0,shippingFee:0,productId:P.productId,shopId:P.shopId,quantity:P.quantity})})),h(!1),A.fire({icon:"success",title:"Your order has been placed"}).then(()=>b("/")),f([])}catch{h(!1),A.fire({icon:"error",title:"Your order was not placed"})}},handleChange:N=>{switch(N.target.id){case"billing":r(N.target.value);break;case"shipping":o(N.target.value);break}},handleAutofill:N=>{switch(N.target.id){case"bill":r(N.target.value);break;case"ship":o(N.target.value);break}}}},Gt=()=>{const{renderSpinner:t}=B(),{billing:l,shipping:s,handleChange:i,getBillingByUserId:n,getShippingByUserId:r,userShippings:c,userBillings:o,load:u,handleSubmit:h}=_e();let f=R();return Ce.useEffect(()=>{n(),r()},[open]),a("div",{className:"flex w-full flex-col relative",children:[a("div",{onClick:()=>f("/orders"),className:"flex  flex-row w-[15rem] md:w-[20rem] px-[1.2rem] md:px-[2rem] py-[0.5rem] \r shadow-xl self-center md:self-start rounded-xl text-blue-30 space-x-3 mt-[3rem] \r items-center cursor-pointer my-[3rem]",children:[e(S,{icon:ue,size:"2x"}),e("p",{className:"text-blue-30 text-[0.9rem] md:text-[1.1rem] font-[700]",children:"Go back and input new info."})]}),e("p",{className:"text-blue-30 font-[600]  text-[1.6rem] mb-[2rem]",children:"Final Step. Place your order"}),a("form",{autoComplete:"off",onSubmit:h,action:"",className:"flex flex-col gap-y-[0.1rem] w-full md:w-[40%]  ",children:[e("label",{htmlFor:"billing",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mb-[0.5rem] text-gray-20 ",children:"Billing Address"}),a("select",{onChange:i,value:l,required:!0,id:"billing",className:" h-[2.25rem] outline-none text-blue-30 w-full\r rounded-[0.25rem]  font-bold px-[1rem] ring-2 ring-gray-20",children:[a("option",{disabled:!0,selected:!0,value:"",className:"text-[1rem] text-blue-30",children:[" ","-- select an option --"," "]}),o==null?void 0:o.map((d,w)=>e("option",{value:d==null?void 0:d._id,className:"text-[1.2rem] text-blue-30 font-bold",children:d==null?void 0:d.name},w))]}),e("label",{htmlFor:"shipping",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mt-[3rem] \r mb-[0.5rem] text-gray-20",children:"Shipping Address"}),a("select",{onChange:i,value:s,required:!0,id:"shipping",className:" h-[2.25rem] outline-none text-blue-30\r rounded-[0.25rem]  font-bold px-[1rem] ring-2 ring-gray-20",children:[a("option",{disabled:!0,selected:!0,value:"",className:"text-[1rem] text-blue-30",children:[" ","-- select an option --"," "]}),c==null?void 0:c.map((d,w)=>e("option",{value:d==null?void 0:d._id,className:"text-[1.2rem] text-blue-30 font-bold",children:d==null?void 0:d.name},w))]}),e("div",{className:"mt-[1rem]",children:t(u)}),e("div",{className:"flex w-full justify-between",children:e("button",{disabled:(l==null?void 0:l.length)<1||(s==null?void 0:s.length)<1,type:"submit",className:"bg-blue-20 px-[2rem] py-[0.5rem] w-full md:w-[30%]\r mt-[2rem] text-[1.2rem] text-white font-[700] rounded-xl hover:bg-blue-600\r disabled:bg-gray-400\r ",children:"Submit order"})})]})]})},Jt=Y({key:"billingOpen",default:!1}),Qt=Y({key:"shippingOpen",default:!1}),Kt=()=>{const[t,l]=m.exports.useState(""),[s,i]=m.exports.useState(""),[n,r]=m.exports.useState(""),[c,o]=m.exports.useState(!1),{Axios:u}=H(),h=F(Jt);let{_id:f}=$(_);const d=()=>{l(""),i(""),r("")};return{billingName:t,street:s,zip:n,addBilling:async p=>{p.preventDefault(),o(!0);try{await u.post("/billing",{name:t,street:s,zipCode:n,userId:f}),o(!1),h(b=>!b),d()}catch{o(!1),A.fire({icon:"error",title:"Failed to add billing"})}},handleChange:p=>{switch(p.target.id){case"name":l(p.target.value);break;case"street":i(p.target.value);break;case"zip":r(p.target.value);break}},clearAttributes:d,load:c}},Xt=()=>{const{billingName:t,street:l,zip:s,addBilling:i,handleChange:n,clearAttributes:r,load:c}=Kt(),{renderSpinner:o}=B();let u=R();return a("div",{className:"flex w-full flex-col space-y-6 relative",children:[e("div",{className:"absolute top-[10%] left-[35%] z-10",children:o(c)}),a("div",{onClick:()=>u("/orders/existing"),className:"flex  flex-row w-[15rem] md:w-[20rem] px-[1.2rem] md:px-[2rem] py-[0.5rem] \r shadow-xl self-center md:self-start rounded-xl text-blue-30 space-x-3 mt-[3rem] \r items-center cursor-pointer",children:[e(S,{icon:ue,size:"2x"}),e("p",{className:"text-blue-30 text-[0.9rem] md:text-[1.1rem] font-[700]",children:"Skip and use previous info."})]}),e("p",{className:"text-blue-30 font-[800]  text-[1.2rem]",children:"Enter new billing address"}),a("form",{autoComplete:"off",onSubmit:h=>{i(h)},className:"flex flex-col w-full space-y-10 md:gap-x-20 ",children:[e("input",{placeholder:"Billing Name",onChange:n,required:!0,value:t,type:"text",id:"name",className:" h-[2.25rem] outline-none w-full md:w-[60%]\r text-blue-30 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-gray-20"}),e("input",{placeholder:"Zip Code",onChange:n,required:!0,value:s,type:"text",id:"zip",className:" h-[2.25rem] outline-none w-full md:w-[60%]\r text-blue-30 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-gray-20"}),e("input",{placeholder:"Street",onChange:n,required:!0,value:l,type:"text",id:"street",className:" h-[2.25rem] outline-none w-full md:w-[60%]\r text-blue-30 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-gray-20 mb-[3rem]"}),e("button",{disabled:c,type:"submit",className:"blue-btn px-[1rem] py-[0.3rem] w-[40%] md:w-[20%] lg:w-[10%] ",children:"Submit"})]})]})},er=()=>{const[t,l]=m.exports.useState(""),[s,i]=m.exports.useState(""),[n,r]=m.exports.useState(""),[c,o]=m.exports.useState(!1),{Axios:u}=H(),h=F(Qt);let{_id:f}=$(_);const d=()=>{l(""),i(""),r("")};return{shippingName:t,shippingStreet:s,shippingZip:n,addShipping:async p=>{p.preventDefault(),o(!0);try{await u.post("/address",{name:t,street:s,zipCode:n,userId:f}),o(!1),h(b=>!b),d()}catch{o(!1),A.fire({icon:"error",title:"Failed to add shipping address"})}},handleShippingChange:p=>{switch(p.target.id){case"name":l(p.target.value);break;case"street":i(p.target.value);break;case"zip":r(p.target.value);break}},clearShippingAttributes:d,shipLoad:c}},tr=()=>{const{shippingName:t,shippingStreet:l,shippingZip:s,addShipping:i,handleShippingChange:n,clearShippingAttributes:r,shipLoad:c}=er(),{renderSpinner:o}=B();let u=R();return a("div",{className:"flex w-full flex-col space-y-6 relative",children:[e("div",{className:"absolute top-[10%] left-[35%] z-10",children:o(c)}),a("div",{onClick:()=>u("/orders/newBilling"),className:"flex  flex-row w-[15rem] md:w-[20rem] px-[1.2rem] md:px-[2rem] py-[0.5rem] \r shadow-xl self-center md:self-start rounded-xl text-blue-30 space-x-3 mt-[3rem] \r items-center cursor-pointer",children:[e(S,{icon:ue,size:"2x"}),e("p",{className:"text-blue-30 text-[0.9rem] md:text-[1.1rem] font-[700]",children:"Skip and use previous info."})]}),e("p",{className:"text-blue-30 font-[800]  text-[1.2rem]",children:"Enter new shipping address"}),a("form",{autoComplete:"off",onSubmit:h=>{i(h)},className:"flex flex-col w-full space-y-10 md:gap-x-20 ",children:[e("input",{placeholder:"Shipping Name",onChange:n,required:!0,value:t,type:"text",id:"name",className:" h-[2.25rem] outline-none w-full md:w-[60%]\r text-blue-30 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-gray-20"}),e("input",{placeholder:"Zip Code",onChange:n,required:!0,value:s,type:"text",id:"zip",className:" h-[2.25rem] outline-none w-full md:w-[60%]\r text-blue-30 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-gray-20"}),e("input",{placeholder:"Street",onChange:n,required:!0,value:l,type:"text",id:"street",className:" h-[2.25rem] outline-none w-full md:w-[60%]\r text-blue-30 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-gray-20 mb-[3rem]"}),e("button",{disabled:c,type:"submit",className:"blue-btn px-[1rem] py-[0.3rem] w-[40%] md:w-[20%] lg:w-[10%] ",children:"Submit"})]})]})},rr=()=>{const[t,l]=m.exports.useState(!1),{billing:s,shipping:i,handleChange:n,getBillingByUserId:r,getShippingByUserId:c,userShippings:o,userBillings:u,load:h,handleSubmit:f}=_e();return R(),m.exports.useEffect(()=>{r(),c()},[t]),e("div",{className:"flex flex-col w-full relative px-[3rem] py-[2rem] lg:py-[1rem]",children:a(Ie,{children:[e(U,{path:"/",element:e(tr,{})}),e(U,{path:"/newBilling",element:e(Xt,{})}),e(U,{path:"/existing",element:e(Gt,{})})]})})},lr=()=>{var g,p;const[t,l]=m.exports.useState(0),[s,i]=m.exports.useState(1),{getProductById:n,product:r,errors:c,load:o}=xe(),{renderSpinner:u}=B(),{productId:h}=ae(),{addToCart:f}=ge(),d=m.exports.useRef(null);m.exports.useEffect(()=>{n(h)},[]);const w=()=>{};return a("div",{className:"flex flex-col items-start px-[1rem] md:px-[5rem] xl:px-[10rem] py-[4rem] \r gap-[5rem] min-h-screen",children:[a("div",{className:"flex flex-col  flex-wrap items-start\r md:justify-center  md:gap-[2rem]",children:[u(o),a("div",{className:"flex flex-col lg:flex-row gap-y-[2rem] lg:gap-0  max-w-5xl",children:[a("div",{onScroll:w,ref:d,className:"gap-[2rem] flex flex-col",children:[e("p",{className:"text-black text-[2.25rem] font-[800] text-left\r w-[8rem] md:w-[16rem]",children:"Product Details."}),((g=r==null?void 0:r.images)==null?void 0:g.length)>0?a("div",{className:"relative",children:[e("img",{src:`${M}/${r==null?void 0:r.images[t]}`,alt:"productImg",className:"h-[60vh] w-[90vw] object-cover"}),e(S,{onClick:()=>l(b=>{var x;return b===0?((x=r==null?void 0:r.images)==null?void 0:x.length)-1:b-1}),icon:Xe,size:"4x",className:"hiddn md:flex absolute  left-[-8%] top-[40%] text-gray-300"}),e(S,{onClick:()=>l(b=>{var x;return b===((x=r==null?void 0:r.images)==null?void 0:x.length)-1?0:b+1}),icon:et,size:"4x",className:"hiddn md:flex absolute right-[-8%] top-[40%] text-gray-300"})]}):null]}),a("div",{className:"flex flex-col  lg:ml-[7rem] lg:gap-y-[0.5rem]",children:[e("p",{className:"text-left text-gray-10 font-[600] text-[1.25rem] lg:text-[1.6rem]",children:r==null?void 0:r.name}),a("p",{className:"text-left text-gray-10 font-[400] text-[0.78rem] lg:text-[1rem]",children:["By ",e("span",{className:"text-blue-20",children:"Nike"})]}),e("p",{className:"text-left text-blue-20 font-[600] text-[1.4rem]",children:(r==null?void 0:r.quantity)===0?"$"+r.price:r.price===void 0?"":"$"+(r==null?void 0:r.price)}),e("p",{className:"text-left text-gray-10 font-[600] text-[1.4rem]",children:(r==null?void 0:r.quantity)===0?null:"Available"}),e("p",{className:"text-left text-gray-10 font-[600] text-[1.4rem]",children:r==null?void 0:r.description}),a("div",{className:"flex flex-col gap-x-[1rem] my-[2rem] gap-[1.5rem] mt-auto\r items-center self-start",children:[a("div",{className:"inline-flex rounded-md shadow-sm border-[0.2rem]\r border-blue-20",children:[e("button",{onClick:()=>i(b=>b===0?0:b-1),disabled:r.quantity===0,type:"button",className:"px-[1.3rem] py-[0.5rem] font-[600] rounded-l-lg text-black-40 ",children:e(S,{icon:tt,size:"2x",color:"red"})}),e("button",{disabled:r.quantity===0,type:"button",className:"px-[2rem] py-[0.5rem] font-[600] text-black-40 border-blue-20\r border-x-[0.2rem]",children:s}),e("button",{onClick:()=>i(b=>b===(r==null?void 0:r.quantity)?b:b+1),disabled:r.quantity===0,type:"button",className:"px-[1.3rem] py-[0.5rem] font-[600] text-black-40 rounded-r-lg ",children:e(S,{icon:rt,size:"2x",color:"green"})})]}),e("button",{disabled:s===0||(r==null?void 0:r.quantity)===0,onClick:()=>{i(1),f(s,r==null?void 0:r.price,r==null?void 0:r.images[0],r==null?void 0:r.name,r==null?void 0:r.shopId,r==null?void 0:r._id,lt())},className:"blue-btn self-start px-[3.7rem]",children:(r==null?void 0:r.quantity)===0?"Out of stock":"Add To Cart"})]})]})]})]}),e("div",{className:"hidden md:flex flex-row gap-[2rem]",children:(p=r==null?void 0:r.images)==null?void 0:p.map((b,x)=>e("div",{style:{backgroundImage:`url(${M}/${b})`},className:"w-[12rem] h-[6rem] rounded-2xl bg-cover bg-center bg-no-repeat\r border-[0.12rem] border-black-40",onClick:()=>l(x)},x))})]})},ar=({open:t,setOpen:l,name:s,price:i,quantity:n,image:r,_id:c})=>{let o=R();return a("div",{className:"flex flex-col w-[90vw] md:w-[48vw] bg-white rounded-md shadow-xl relative \r min-h-screen gap-y-[2rem] py-[3rem] px-[0.5rem] items-stretch ",children:[e("p",{className:"text-[1.4rem] text-center font-[700]",children:"Products available for purchase"}),e(S,{icon:X,size:"2x",color:"red",className:"absolute top-4 right-6",onClick:()=>l(!1)}),e("hr",{}),a("div",{className:"flex flex-row flex-nowrap justify-around ",children:[e("div",{style:{backgroundImage:`url(/img/${r})`},className:"w-[4rem] h-4rem] bg-contain bg-no-repeat bg-center rounded-xl"}),a("div",{className:"flex flex-col",children:[e("p",{className:"text-[1rem] font-[700] text-black-40 flex- flex-wrap w-[12rem]",children:s}),a("p",{className:"text-[1rem] text-red-20",children:["$",i]}),e("p",{className:"text-[1rem] text-black-40",children:n})]}),e("div",{className:"flex",children:e("button",{className:"red-btn py-[0.3rem] px-[0.3rem] w-[4rem] h-[4rem] bg-white text-red-20 \r border-2 border-red-20 hover:text-white",onClick:()=>o(`/product/${c}`),children:"Buy"})})]}),e("hr",{})]})},sr=({imgs:t})=>e("div",{className:"flex flex-row flex-wrap justify-around md:justify-start items-center\r gap-[2rem] min-h-[30vh]",children:t==null?void 0:t.map((l,s)=>e("div",{className:"flex bg-center bg-contain bg-no-repeat w-[90vw] md:w-[16rem] h-[12rem] rounded-lg\r shadow-lg border-[0.2rem] border-black-40",style:{backgroundImage:`url(${M}/${l})`}},s))}),nr=({name:t,price:l,quantity:s,image:i})=>e("div",{className:"flex flex-col min-h-[30vh]",children:e("p",{className:"text-black-80 text-[1.4rem] font-[700] underline",children:t})}),or=()=>{var f,d,w,g,p,b;const{room:t,load:l,getRoomById:s}=Le(),{renderSpinner:i}=B();let{roomId:n}=ae();const[r,c]=m.exports.useState(!0),[o,u]=m.exports.useState(!1);m.exports.useEffect(()=>{s(n)},[]);let h=16.5;return e(ee,{children:a("div",{className:"flex flex-col md:flex-row gap-y-[2rem] md:max-h-screen relative\r overflow-y-clip ]",children:[e("div",{className:"fixed inset-y-80 inset-x-80 z-50",children:i(l)}),e("video",{controls:!0,src:"/img/room.mp4",className:"h-[30vh] md:h-screen md:w-[50vw] lg:px-[0.3rem]\r bg-black-70"}),a("div",{className:"flex flex-col px-[1rem] md:px-[2rem] md:mt-[8rem] gap-y-[2rem]\r md:self-center w-full  md:h-[80vh]",children:[a("button",{className:"red-btn md:absolute left-2 top-[60%] mb-[4rem]",onClick:()=>u(x=>!x),children:["from $ ",h]}),a("div",{className:"inline-flex sticky top-4 left-6",children:[e("button",{onClick:()=>c(x=>!x),className:`${r?"bg-black-80 text-white":"bg-white"}
                     px-[3rem] py-[0.5rem] outline outline-black-80 text-[1.3rem] font-[700]
                     rounded-l-md
                     `,children:"Details"}),e("button",{onClick:()=>c(x=>!x),className:`${r?"bg-white":"bg-black-80 text-white"}
                        px-[3rem] py-[0.5rem] outline outline-black-80 text-[1.3rem] font-[700]
                        rounded-r-md
                     `,children:"Images"})]}),r?a(ee,{children:[a("div",{className:"flex flex-row gap-x-[1rem]",children:[e("div",{className:"flex flex-col w-[16rem]",children:a("p",{className:"text-black-80 font-[900] text-[1.4rem] mb-[1rem]",children:[t==null?void 0:t.title,e("br",{}),a("span",{className:"font-[300]",children:["by ",(f=t==null?void 0:t.ownerId)==null?void 0:f.userName]})]})}),e("div",{style:{backgroundImage:`url(/img/${(d=t==null?void 0:t.shopId)==null?void 0:d.image})`},className:"flex w-[5rem] h-[5rem] rounded-full  self-center bg-center \r bg-no-repeat bg-cover"})]}),e("div",{className:"flex",children:e("p",{className:"text-[1.2rem] text-black-80",children:(w=t==null?void 0:t.shopId)==null?void 0:w.description})})]}):null,e("div",{className:"flex flex-col md:max-h-screen overflow-y-scroll py-10",children:r?(g=t==null?void 0:t.productIds)==null?void 0:g.map((x,y)=>e(nr,{name:x.name,quantity:x.quantity,price:x.price,image:x==null?void 0:x.images[0]},y)):(p=t==null?void 0:t.productIds)==null?void 0:p.map((x,y)=>e(sr,{imgs:x.images},y))}),e("div",{className:"fixed top-16 backdrop-blur-lg  z-50",children:o?(b=t==null?void 0:t.productIds)==null?void 0:b.map((x,y)=>e(ar,{_id:x==null?void 0:x._id,name:x.name,price:x.price,image:x==null?void 0:x.images[0],quantity:x==null?void 0:x.quantity,open:o,setOpen:u},y)):null})]})]})})},ir=({name:t,img:l,price:s,userName:i,id:n})=>{let r=R();return a("div",{className:"flex flex-col rounded-3xl shadow-lg  border-[0.2rem] px-[1rem] \r lg:px-[1rem] py-[4rem] lg:max-w-3xl gap-[1.2rem]",onClick:()=>r(`/product/${n}`,{replace:!0}),children:[e("img",{src:"/img/lebron2.png",alt:"",className:" w-[100vw] lg:max-h-[15.625rem] lg:w-auto\r object-contain"}),e("p",{className:"text-gray-10 font-[900] text-[1rem] ",children:t}),a("p",{className:"text-gray-10 font-[300] text-[1rem] ",children:["by:\xA0\xA0\xA0",e("span",{className:"font-[900]",children:i||"Pius"})]}),a("p",{className:"text-gray-10 font-[900] text-[1rem] ",children:["$:\xA0\xA0\xA0",s]}),e("button",{className:"blue-btn mt-[2rem]",children:"View"})]})};const cr=({name:t,img:l,userName:s,id:i})=>{let n=R();return a("div",{className:"flex flex-col rounded-3xl shadow-lg  border-[0.2rem] p-[2rem]\r flex-shrink-0",onClick:()=>n(`/shop/${i}`,{replace:!0}),children:[e("div",{style:{backgroundImage:`url(/img/${l})`},className:"bg-contain bg-center bg-no-repeat w-[60vw] md:w-[30vw] lg:w-[24vw] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:t}),a("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",s]})]})},mr=()=>{const[t,l]=m.exports.useState([]),[s,i]=m.exports.useState([]),n=$(fe),{getProducts:r,products:c,load:o}=xe(),{renderSpinner:u}=B(),{shops:h,getShops:f}=ze();return m.exports.useEffect(()=>{r(),f()},[]),m.exports.useEffect(()=>{c.length>0&&l(c.filter(d=>d.name.toLowerCase().includes(n.toLowerCase()))),h.length>0&&i(h.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())))},[n]),a("div",{className:"flex flex-col px-[2rem] md:px-[3rem] py-[3rem]",children:[u(o),t.length>0?e("p",{className:"text-gray-10 font-[800] text-[2rem] md:text-[2rem] my-[2rem]",children:"Products."}):null,e("div",{className:"flex flex-col md:flex-row flex-wrap gap-x-[2rem] \r justify-start gap-y-[2rem] pb-[4rem]",children:t.length>0&&t.map((d,w)=>{var g;return e(ir,{price:d==null?void 0:d.price,img:d==null?void 0:d.images[0],userName:(g=d==null?void 0:d.ownerId)==null?void 0:g.userName,name:d==null?void 0:d.name,id:d==null?void 0:d._id},w)})}),s.length>0?e("p",{className:"text-gray-10 font-[800] text-[2rem] md:text-[2rem] my-[2rem]",children:"Shops."}):null,e("div",{className:"flex flex-col md:flex-row flex-wrap gap-x-[2rem] \r justify-start gap-y-[2rem] pb-[4rem]",children:s.length>0&&s.map((d,w)=>{var g;return e(cr,{img:d==null?void 0:d.image,name:d==null?void 0:d.name,userName:(g=d==null?void 0:d.userId)==null?void 0:g.userName,id:d._id},w)})})]})},De=()=>{const[t,l]=m.exports.useState([]),[s,i]=m.exports.useState(""),[n,r]=m.exports.useState(!1);return{shopDetails:t,getShopDetails:async o=>{r(!0);try{let{data:u}=await J.get(`/products/${o}`);l(u),r(!1)}catch(u){i(u),r(!1)}},load:n,errors:s}},ne=Y({key:"productOpen",default:!1}),oe=Y({key:"deleteOpen",default:!1}),dr=({name:t,price:l,images:s,userName:i,id:n})=>{const r=F(ne),c=F(oe);return a("div",{className:"flex flex-col px-[1rem] py-[3rem] bg-white hover:border-[0.2rem] \r hover:border-gray-200 border-[0.2rem] rounded-2xl border-white shadow-2xl  relative ",children:[e(S,{icon:at,color:"blue",className:" ml-auto mt-[2rem] absolute right-5 -top-5 font-[300] text-[1.6rem]",onClick:()=>r(!0)}),e(S,{icon:K,color:"red",className:" ml-auto mt-[2rem] absolute left-5 -top-5 font-[300] text-[1.6rem]",onClick:()=>c(!0)}),a("p",{className:"text-blue-20 font-[500] text-[1.4rem] my-[1rem]",children:[t,e("br",{}),e(S,{icon:st,size:"1x",color:"blue"}),"\xA0\xA0\xA0",e("span",{className:"",children:i})]}),e("img",{src:`${M}/${s[0]}`,alt:"",className:"w-[24rem]"}),a("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",l]})]})},ur=()=>{const{_id:t}=$(_),{Axios:l}=H(),[s,i]=m.exports.useState(""),[n,r]=m.exports.useState(0),[c,o]=m.exports.useState(""),[u,h]=m.exports.useState(""),[f,d]=m.exports.useState([]),[w,g]=m.exports.useState(!1);return{getProductById:async I=>{g(!0);try{let{data:{images:k,name:N,price:P,quantity:T}}=await l.get(`/products/products/${I}`);d(k),r(P),i(N),o(T),g(!1)}catch{g(!1)}},editProductById:async(I,k)=>{g(!0),I.preventDefault();try{l.put(`/products/products/${k}`,{name:s,price:n,quantity:c,ownerId:t,description:u}),A.fire({icon:"success",text:"Your product has been updated",timer:1e3}),g(!1)}catch(N){let P=N.response.data.split(":");g(!1),A.fire({icon:"error",text:N.response.status===409?"Please choose a different shop name":P[2],timer:2e3})}},removeImg:I=>{I>-1&&d(k=>k.filter(N=>k.indexOf(N)!==I))},clearAttributes:()=>{i(""),r(0),o(""),d([""]),h("")},name:s,quantity:c,price:n,images:f,load:w,handleChange:I=>{switch(I.target.id){case"name":i(I.target.value);break;case"price":r(I.target.value);break;case"quantity":o(I.target.value);break;case"desc":h(I.target.value);break;case"images":W(I.target.files[0]).then(k=>{d(N=>[...N,k])}).catch(k=>console.log(k));break}},description:u}},xr=({productId:t})=>{const{getProductById:l,editProductById:s,removeImg:i,clearAttributes:n,name:r,quantity:c,price:o,images:u,load:h,handleChange:f,description:d}=ur(),{renderSpinner:w}=B(),g=m.exports.useRef(null);m.exports.useEffect(()=>{l(t)},[]),console.log(u);const p=F(ne);return $(ne),e("div",{className:"flex flex-col py-[3rem] px-[2rem] md:px-[4rem]",children:a("form",{autoComplete:"off",onSubmit:b=>{s(b,t)},className:"flex flex-col lg:flex-row w-[80vw] md:w-[70vw] space-[2rem] ",children:[w(h),a("div",{className:"flex w-full flex-col",children:[a("div",{className:"flex flex-col w-full  md:pr-[1.5rem]",children:[e("label",{htmlFor:"name",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mb-[0.5rem]  pt-[2rem] ",children:"Product name"}),e("input",{onChange:f,required:!0,value:r,type:"text",id:"name",className:" h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide\r px-[1rem] ring-2 ring-blue-500"})]}),a("div",{className:"flex flex-col w-full  md:pr-[1.5rem]",children:[e("label",{htmlFor:"price",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] \r mb-[0.5rem] pt-[2rem] ",children:"Price"}),e("input",{onChange:f,required:!0,value:o,type:"number",id:"price",className:" h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide\r px-[1rem] ring-2 ring-blue-500"})]}),a("div",{className:"flex flex-col w-full  md:pr-[1.5rem]",children:[e("label",{htmlFor:"quantity",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Quantity"}),e("input",{onChange:f,required:!0,value:c,type:"number",id:"quantity",className:" h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"})]}),a("div",{className:"flex flex-col w-full  md:pr-[1.5rem]",children:[e("label",{htmlFor:"desc",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:f,required:!0,value:d,id:"desc",rows:3,className:" outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r ring-2 ring-blue-500"})]}),a("div",{className:"flex flex-col md:flex-row flex-nowrap w-full md:space-x-[3rem]\r my-[2rem]",children:[e("div",{className:"flex flex-col w-full",children:e("input",{ref:g,onChange:f,type:"file",id:"images",className:"hidden",accept:"image/png"})}),e("div",{className:"flex flex-row flex-nowrap w-full",children:u==null?void 0:u.map((b,x)=>e("img",{src:b,alt:"",className:"w-[5rem] rounded-md"},x))})]}),a("div",{className:"flex flex-row flex-nowrap w-full md:space-x-[3rem]\r my-[2rem]",children:[e("div",{className:"flex  w-full",children:e("button",{type:"submit",className:"px-[3rem] py-[0.6rem] bg-blue-20 rounded-md  text-white font-bold",children:"Submit"})}),e("div",{className:"flex w-full",children:e("button",{type:"button",onClick:()=>{n(),p(b=>!b)},className:"px-[3rem] py-[0.6rem] bg-red-20 rounded-md text-white font-bold",children:"Close"})})]})]}),e("div",{className:"flex flex-col w-full lg:py-[4rem]",children:e("div",{className:"hidden lg:flex lg:flex-row flex-wrap gap-[2rem] lg:max-h-[59vh]\r overflow-y-scroll",children:u==null?void 0:u.map((b,x)=>a("div",{className:"relative flex flex-col",children:[e("img",{src:`${M}/${b}`,alt:b,className:"h-[6rem] w-[8rem] mx-[1.4rem] object-contain"},x),e(S,{icon:K,size:"1x",color:"#F74356",onClick:()=>{i(x)},className:"absolute top-[10%] right-[40%]"})]},x))})})]})})},hr=()=>{const{Axios:t}=H(),[l,s]=m.exports.useState(!1),i=F(oe);return{load:l,deleteShop:async(r,c)=>{r.preventDefault(),s(!0);try{t.delete(`/products/products/${c}`),s(!1),A.fire({icon:"success",title:"Product deleted successfully",timer:1500}),i(!1)}catch{s(!1),A.fire({icon:"error",title:"Sorry the product was not deleted",timer:1500})}}}},pr=({name:t,productId:l})=>{const[s,i]=m.exports.useState(),n=h=>{i(h.target.value)},r=F(oe),{load:c,deleteShop:o}=hr(),{renderSpinner:u}=B();return a("div",{className:"flex flex-col py-[3rem] px-[6rem] relative bg-white justify-around \r rounded-md gap-y-[3rem] shadow-lg",children:[e(S,{icon:X,size:"2x",color:"red",className:"absolute right-[5%] top-[4%]",onClick:()=>r(!1)}),u(c),a("p",{className:"text-[1rem] md:text-[1.4rem] text-black-40 font-[300]",children:["Please type ",a("span",{className:"font-[700]",children:[" ",t," "]}),"to confirm"]}),a("form",{className:"flex flex-col justify-around gap-y-[4rem]",onSubmit:h=>{o(h,l),r(!1)},children:[e("input",{type:"text",required:!0,className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500",onChange:h=>n(h)}),e("button",{type:"submit",disabled:s!==t,className:" border-[0.2rem] border-red-20 px-[1rem] py-[0.4rem]\r text-red-20 text-[700] disabled:bg-gray-200 disabled:border-red-300\r disabled:text-red-200",children:"I understand the consequences, delete this product."})]})]})},fr=()=>{var w,g;const{shopDetails:t,getShopDetails:l,load:s,errors:i}=De();let{shopId:n}=ae();const{renderSpinner:r}=B(),c=$(ne),o=$(oe),[u,h]=m.exports.useState(""),[f,d]=m.exports.useState("");return m.exports.useEffect(()=>{l(n)},[c,o]),a(ee,{children:[e("div",{className:"w-full py-[1rem] bg-white sticky top-0 z-20 border-b-4",children:e("p",{className:"text-[2rem] md:text-[2.5rem] text-black-40 font-[700]\r text-center ",children:(g=(w=t[0])==null?void 0:w.shopId)==null?void 0:g.name})}),s||t.length>0?a("div",{className:`${c||o?"flex flex-col px-[2rem] pb-[2rem] md:px-[3rem] lg:px-[4.5rem] opacity-50":" flex flex-col px-[2rem] pb-[2rem] md:px-[3rem] lg:px-[4.5rem]"}`,children:[r(s),a("div",{className:"flex flex-col",children:[e("p",{className:"text-black-40 text-[1.6rem] md:text-[2.5rem] font-[700] py-[2rem]",children:"Products"}),e("div",{className:"flex flex-row flex-wrap gap-[2rem] justify-start",children:t==null?void 0:t.map((p,b)=>{var x;return e("div",{onClick:()=>{h(p==null?void 0:p._id),d(p==null?void 0:p.name)},children:e(dr,{name:p==null?void 0:p.name,price:p==null?void 0:p.price,images:p==null?void 0:p.images,id:p==null?void 0:p._id,userName:(x=p==null?void 0:p.ownerId)==null?void 0:x.userName},b)})})})]})]}):a("div",{className:"flex flex-row self-center items-center py-[10rem] gap-x-[2rem] px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"This shop is empty right now."})]}),c?e("div",{className:"fixed top-[0%] md:top-[10%] md:right-[10%] z-50 bg-white shadow-xl",children:e(xr,{productId:u})}):null,o?e("div",{className:"fixed top-[0%] md:top-[20%] md:right-[33%] z-50 bg-white shadow-xl",children:e(pr,{name:f,productId:u})}):null]})},gr=()=>{var c,o,u,h,f,d,w,g,p,b,x,y;const{shopDetails:t,getShopDetails:l,load:s,errors:i}=De();let{shopId:n}=ae();const{renderSpinner:r}=B();return m.exports.useEffect(()=>{l(n)},[]),e(ee,{children:s||t.length>0?a("div",{className:"flex flex-col px-[2rem] py-[2rem] lg:py-[4rem] lg:px-[4rem]",children:[e("div",{className:"w-full py-[1rem] bg-white sticky top-[4rem] z-20 border-b-4",children:e("p",{className:"text-[2rem] md:text-[2.5rem] text-black-40 font-[700]\r text-center ",children:(o=(c=t[0])==null?void 0:c.shopId)==null?void 0:o.name})}),r(s),a("div",{className:"flex flex-col space-y-[2rem] ",children:[a("div",{className:"lg:flex lg:flex-row lg:space-y-[2rem] lg:w-full lg:justify-between\r lg:items-center ",children:[a("div",{className:"flex flex-row space-x-10 lg:self-center",children:[a("div",{className:"flex flex-col ",children:[e("p",{className:"text-[1.4rem] text-black-80 font-[600]",children:"Avatar"}),t.length>0?e("img",{src:`${M}/${(h=(u=t[0])==null?void 0:u.shopId)==null?void 0:h.image}`,alt:"",className:"w-[8rem] md:w-[14rem] object-contain"}):null]}),a("div",{className:"flex flex-col space-y-auto lg:self-center lg:pt-[3rem]",children:[e("p",{className:"text-black-80 text-[1.4rem] md:text-[1.4rem] font-[600]",children:"Products"}),e("p",{className:"text-blue-20 text-[4rem] md:text-[2rem] font-[600]",children:t.length})]})]}),a("div",{className:"flex flex-row space-x-10 ",children:[a("div",{className:"flex flex-col space-y-auto",children:[e(S,{icon:nt,size:"2x",color:"rgb(0 30 43)"}),e("p",{className:"text-blue-20 text-[1.2rem] md:text-[1.4rem] font-[700]",children:(d=(f=t[0])==null?void 0:f.shopId)==null?void 0:d.email})]}),a("div",{className:"flex flex-col space-y-auto",children:[e(S,{icon:ot,size:"2x",color:"rgb(0 30 43)"}),e("p",{className:"text-blue-20 text-[1.2rem] md:text-[1.4rem] font-[700]",children:(g=(w=t[0])==null?void 0:w.shopId)==null?void 0:g.location})]})]}),e("div",{className:"flex flex-row ",children:a("div",{className:"flex flex-col space-y-auto ",children:[e(S,{icon:it,size:"2x",color:"rgb(0 30 43)",className:""}),e("p",{className:"text-blue-20 text-[1.2rem] md:text-[1.4rem] font-[700]",children:(b=(p=t[0])==null?void 0:p.shopId)==null?void 0:b.phoneNumber})]})})]}),e("div",{className:"flex flex-row",children:e("div",{className:"flex flex-col space-y-auto ",children:e("p",{className:"text-blue-20 text-[0.9rem] md:text-[1rem] font-[600]",children:(y=(x=t[0])==null?void 0:x.shopId)==null?void 0:y.description})})})]}),e("p",{className:"text-black-40 text-[1.6rem] md:text-[2.5rem] font-[700] py-[2rem]",children:"Products"}),e("div",{className:"flex flex-row flex-wrap gap-[2rem] ",children:t==null?void 0:t.map((v,I)=>{var k,N,P;return e(qe,{name:v==null?void 0:v.name,price:v==null?void 0:v.price,id:v==null?void 0:v._id,userName:(k=v==null?void 0:v.ownerId)==null?void 0:k.userName,shopId:(P=(N=t[0])==null?void 0:N.shopId)==null?void 0:P._id},I)})})]}):a("div",{className:"flex flex-row self-center items-center py-[10rem] gap-x-[2rem] px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"This shop is empty right now."})]})})},Ue=({children:t})=>{const{token:l}=$(_);let s=Pe();return(l==null?void 0:l.length)<1||l===void 0?e(Ee,{to:"/login",state:{from:s},replace:!0}):t},Me=({children:t})=>{var i;const l=$(_);let s=Pe();return((i=l==null?void 0:l.token)==null?void 0:i.length)>1?(A.fire({icon:"info",title:"you are logged in\u{1F601}",timer:1500}),e(Ee,{to:"/",state:{from:s},replace:!0})):t},br=()=>a(Ie,{children:[a(U,{path:"/",element:e(qt,{}),children:[e(U,{path:"/",element:e(kt,{})}),e(U,{path:"/searching",element:e(mr,{})}),e(U,{path:"/product/:productId",element:e(lr,{})}),e(U,{path:"/shop/:shopId",element:e(gr,{})}),e(U,{path:"/rooms/:roomId",element:e(or,{})}),e(U,{path:"/orders/*",element:e(Ue,{children:e(rr,{})})})]}),a(U,{path:"/myAccount",element:e(Ue,{children:e(Ht,{})}),children:[e(U,{path:"/myAccount/profile",element:e(zt,{})}),e(U,{path:"/myAccount/shops",element:e(Tt,{})}),e(U,{path:"/myAccount/shops/:shopId",element:e(fr,{})}),e(U,{path:"/myAccount/orders",element:e(Wt,{})})]}),e(U,{path:"/login",element:e(Me,{children:e(pt,{})})}),e(U,{path:"/register",element:e(Me,{children:e(gt,{})})})]});ct.render(e(Ce.StrictMode,{children:e(mt,{children:e(dt,{children:e(br,{})})})}),document.getElementById("root"));
