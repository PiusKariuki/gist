import{j as ae,a as me,R as T,b as B,r as c,u as O,L as ie,l as Q,c as A,S as I,d as Ae,F as k,f as $e,e as Fe,g as Le,h as de,i as le,k as ue,m as qe,O as he,n as Z,o as ze,p as Be,N as K,q as Re,s as _e,t as Oe,v as De,Q as Me,w as X,x as Ue,y as je,z as Te,A as xe,B as pe,C as fe,D as ge,E as be,G as He,H as R,I as Ve,J as Ye,K as Ge,M as Je}from"./vendor.50e6f147.js";const We=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerpolicy&&(a.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?a.credentials="include":l.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}};We();const e=ae.exports.jsx,n=ae.exports.jsxs,H=ae.exports.Fragment,_=()=>({renderSpinner:t=>e("div",{className:`${t?"flex justify-center items-center":"hidden"}`,children:e("div",{className:"animate-spin rounded-full h-[4rem] w-[4rem] border-b-[0.2rem] \r border-green-40"})})}),Ne="http://localhost:5000",V=me.create({baseURL:Ne}),Qe=r=>({setSelf:t,onSet:s})=>{const o=localStorage.getItem(r);o!==null&&t(JSON.parse(o)),s((l,a,m)=>{m?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(l))})},D=T({key:"user",default:{},effects_UNSTABLE:[Qe("gist_user"),({onSet:r})=>r(t=>console.log("current user",t))]}),J=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,we=/^[a-zA-Z0-9]{6,}$/,Ze=()=>{const r=B(D),[t,s]=c.exports.useState(""),[o,l]=c.exports.useState(""),[a,m]=c.exports.useState(!1),[u,h]=c.exports.useState({}),[d,x]=c.exports.useState(""),[i,g]=c.exports.useState("");let N=O();return{errors:u,email:t,password:o,handleChange:f=>{switch(h(""),f.target.name){case"email":s(f.target.value),f.target.value.toLowerCase().match(J)?g(""):g("Invalid email");break;case"pass":l(f.target.value);break}},login:async f=>{var w;f.preventDefault(),m(!0),h({});try{const{data:p}=await V.post("/login",{email:t,password:o});r(p),m(!1),h(""),N("/")}catch(p){h((w=p==null?void 0:p.response)==null?void 0:w.data),m(!1)}},load:a,mailErrors:i,passErrors:d}},Ke=()=>{const{errors:r,email:t,password:s,handleChange:o,login:l,load:a,mailErrors:m,passErrors:u}=Ze(),{renderSpinner:h}=_();return n("div",{className:"flex flex-col bg-transparent w-full items-center",children:[e("p",{className:"text-[1.6rem] text-green-80 font-semibold mb-[6rem]",children:"GIST SHOP"}),n("form",{className:"flex flex-col gap-y-[0.5rem] pt-[3rem] w-[75vw] md:w-[50vw] lg:w-[30vw]",onSubmit:l,children:[e("input",{onChange:o,type:"text",id:"email",name:"email",value:t,placeholder:"Email",className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:m||(r==null?void 0:r.emailErr)}),e("input",{onChange:o,type:"password",id:"pass",name:"pass",placeholder:"password",value:s,className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:u||(r==null?void 0:r.passErr)}),h(a),n("div",{className:"flex flex-col  mt-[4rem] md:gap-y-[2rem] ",children:[e("button",{disabled:u.length>1||m.length>1,type:"submit",className:"w-full btn bg-red-20  hover:bg-red-20 text-[1.2rem]\r text-white h-[2.8125rem] ",children:"Sign in"}),n("p",{className:"text-[1.2rem] text-center self-center font-semibold tracking-[0.02rem]\r mt-[2rem] md:mt-[0rem]",children:["Need an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(ie,{to:"/register",children:"Signup"})})]})]})]})]})},Xe=()=>{const[r,t]=c.exports.useState(""),[s,o]=c.exports.useState(""),[l,a]=c.exports.useState(""),[m,u]=c.exports.useState(""),[h,d]=c.exports.useState(""),[x,i]=c.exports.useState(""),[g,N]=c.exports.useState(""),[b,S]=c.exports.useState(""),[f,w]=c.exports.useState(""),[p,v]=c.exports.useState(!1),[E,z]=c.exports.useState(""),[C,q]=c.exports.useState({}),y=B(D);return{mailError:r,passError:s,email:l,password:m,fname:h,lname:x,bio:g,userName:b,handleChange:L=>{switch(q(""),L.target.id){case"email":a(L.target.value),L.target.value.toLowerCase().match(J)?t(""):t("Invalid email");break;case"pass":u(L.target.value),L.target.value.match(we)?o(""):o("Password should be atleast six characters long");break;case"fname":d(L.target.value);break;case"lname":i(L.target.value);break;case"userName":S(L.target.value);break;case"bio":N(L.target.value);break}},register:async L=>{var P,j;L.preventDefault(),v(!0),q({});let G={email:l,password:m,firstName:h,lastName:x,userName:b,bio:g,phonenumber:f};try{const{data:U}=await V.post("/register",G);y(U),v(!1),q("")}catch(U){((P=U.response.data)==null?void 0:P.code)===11e3&&t("This email is already registered"),q((j=U==null?void 0:U.response)==null?void 0:j.data),v(!1)}},load:p,errors:C,phone:f,phoneErr:E,handlePhoneChange:L=>{w(L),L.length<5?z("please enter a valid phone number"):z("")}}};const er=()=>{var f,w;const{mailError:r,passError:t,email:s,password:o,fname:l,lname:a,bio:m,userName:u,handleChange:h,register:d,load:x,errors:i,phone:g,phoneErr:N,handlePhoneChange:b}=Xe(),{renderSpinner:S}=_();return n("div",{className:"flex flex-col md:flex-row gap-x-[2.5rem]",children:[e("div",{className:"hidden lg:flex lg:min-w-[25%] bg-green-60 lg:min-h-screen"}),n("form",{className:"flex flex-col gap-y-[0.1rem] w-full lg:w-[50%] py-[3rem] px-[1rem]",onSubmit:d,children:[e("p",{className:"text-[2.2rem] text-blue-20 font-semibold mb-[1.5rem] justify-center",children:"GIST SHOP"}),e("p",{className:"text-[1rem] font-medium",children:"Create your account"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Email Address"}),e("input",{onChange:h,value:s,required:!0,type:"text",id:"email",name:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:r||((f=i==null?void 0:i.email)==null?void 0:f.message)||i.length>1&&i}),e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"First Name"}),e("input",{onChange:h,value:l,required:!0,type:"text",id:"fname",name:"fname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Last Name"}),e("input",{onChange:h,value:a,required:!0,type:"text",id:"lname",name:"lname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"userName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"userName"}),e("input",{onChange:h,value:u,required:!0,type:"text",id:"userName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Bio"}),e("input",{onChange:h,value:m,required:!0,id:"bio",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Phone Number"}),e(Q,{country:"us",value:g,onChange:b,inputProps:{required:!0}}),e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Password"}),e("input",{onChange:h,value:o,required:!0,type:"password",id:"pass",name:"pass",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:t||((w=i==null?void 0:i.password)==null?void 0:w.message)}),e("div",{className:"mt-[1rem]",children:S(x)}),e("button",{disabled:t.length>1||r.length>1||x||N.length>0||g.length<4,type:"submit",className:"btn py-[0.5rem] mt-[3rem] md:max-w-[7rem] text-white text-[1.2rem]\r font-bold ",children:"Submit"}),n("p",{className:"text-[1rem] text-center md:text-left  font-semibold mt-[2rem]\r tracking-[0.02rem]",children:["Already have an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(ie,{to:"/",children:"Login"})})]})]})]})},rr=()=>n("div",{className:"flex flex-col md:flex-row py-[2.5rem] px-[2rem] md:gap-x-[2rem]",children:[n("div",{className:"flex flex-col order-2 md:order-1 self-center",children:[n("p",{className:"uppercase text-blue-20 font-[900] text-[2rem]",children:["Welcome to GIST-SHOP.",e("br",{}),e("span",{className:"text-black-40",children:"Social Shopping Platform."})]}),e("p",{className:"text-[1.2rem] mt-[1.5rem]",children:"An always live social shopping network, with your favorite brands and shops."}),e("button",{className:"bg-red-20 w-[9rem] rounded-md py-[1rem] px-[1rem] text-white\r font-[900] self-center mt-[1.4rem] hover:bg-red-600 hover:scale-110 trasition ease-in-out\r duration-300",children:"Join For Free"})]}),e("div",{className:"flex  bg-hero w-[80vw] h-[30vh] bg-center bg-cover bg-no-repeat order-1\r md:order-2 md:min-w-[55vw] md:h-[45vh] lg:h-[55vh] self-center rounded-xl"})]}),se=()=>{const[r,t]=c.exports.useState([]),[s,o]=c.exports.useState({}),[l,a]=c.exports.useState(""),[m,u]=c.exports.useState(!1);return{getProducts:async()=>{u(!0);try{let{data:x}=await V.get("/products");t(x),u(!1)}catch(x){u(!1),a(x)}},products:r,errors:l,load:m,getProductById:async x=>{u(!0);try{let{data:i}=await V.get(`/products/products/${x}`);o(i),u(!1)}catch(i){u(!1),a(i)}},product:s}},ve=({name:r,price:t,img:s,userName:o,id:l})=>{let a=O();return n("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl border-white hover:shadow-2xl relative",onClick:()=>a(`/product/${l}`),children:[n("div",{className:"flex flex-row gap-x-[1rem]",children:[e("div",{style:{backgroundImage:`url(/img/${s})`},className:"flex w-[3rem] h-[3rem] rounded-full bg-black-70 self-center bg-center \r bg-no-repeat\r bg-contain"}),e("div",{className:"flex flex-col w-[16rem]",children:n("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:[r,e("br",{}),e("span",{className:"font-[300]",children:o})]})})]}),e("div",{className:"flex relative w-[70vw] h-[40vh] md:w-[25rem] bg-no-repeat bg-center \r bg-cover rounded-xl\r border-[0.1rem]",style:{backgroundImage:`url(/img/${s})`},children:n("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",t]})})]})},tr=()=>{const{getProducts:r,products:t,errors:s,load:o}=se();return c.exports.useEffect(()=>{r()},[]),n("div",{className:"flex flex-col py-[3rem] px-[2rem] h-full w-screen",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Recommended products"}),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto w-screen",children:t.map((l,a)=>{var m;return e(ve,{name:l==null?void 0:l.name,userName:(m=l==null?void 0:l.ownerId)==null?void 0:m.userName,img:l==null?void 0:l.images[0],price:l==null?void 0:l.price,id:l==null?void 0:l._id},a)})})]})},M=()=>{const r=A(D),t=r==null?void 0:r.token,s=me.create({baseURL:Ne});return s.interceptors.request.use(o=>(o.headers.Authorization=`Bearer ${t}`,o)),{Axios:s}},ye=()=>{const{Axios:r}=M(),[t,s]=c.exports.useState([""]),[o,l]=c.exports.useState(""),[a,m]=c.exports.useState(!1);return{room:o,load:a,getRoomById:async d=>{m(!0);try{let{data:x}=await r.get(`/rooms/rooms/${d}`);l(x),m(!1)}catch{m(!1),I.fire({icon:"error",text:"something went wrong",timer:1500})}},rooms:t,getAllRooms:async()=>{m(!0);try{let{data:d}=await r.get("/rooms");s(d),m(!1)}catch{m(!1),I.fire({icon:"error",text:"something went wrong",timer:1500})}}}},ar=({roomId:r})=>{let t=O(),s="0_61f951620019c849882d681d.png",o="Stories to tell with Daisy!",l="Daisy Peterson",a=12.99;return n("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl border-white hover:shadow-2xl relative",onClick:()=>t(`/rooms/${r}`),children:[n("div",{className:"flex flex-row gap-x-[1rem]",children:[e("div",{style:{backgroundImage:`url(/img/${s})`},className:"flex w-[3rem] h-[3rem] rounded-full bg-black-70 self-center bg-center \r bg-no-repeat bg-contain"}),e("div",{className:"flex flex-col w-[16rem]",children:n("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:[o,e("br",{}),e("span",{className:"font-[300]",children:l})]})})]}),e("div",{className:"flex relative w-[70vw] h-[40vh] md:w-[25rem] bg-no-repeat bg-center \r bg-cover rounded-xl\r border-[0.1rem]",style:{backgroundImage:`url(/img/${s})`},children:n("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["from $ ",a]})})]})},lr=()=>{const{renderSpinner:r}=_(),{load:t,rooms:s,getAllRooms:o}=ye();return c.exports.useEffect(()=>{o()},[]),n("div",{className:"flex flex-col py-[3rem] px-[2rem] h-full w-screen",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Recent rooms"}),r(t),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto w-screen",children:s.map((l,a)=>e(ar,{roomId:l==null?void 0:l._id},a))})]})},Se=()=>{const[r,t]=c.exports.useState([]),[s,o]=c.exports.useState(""),[l,a]=c.exports.useState(!1);return{shops:r,getShops:async()=>{a(!0);try{let{data:u}=await V.get("/shop");t(u),a(!1)}catch(u){a(!1),o(u)}},errors:s,load:l}},sr=({name:r,userName:t,img:s,id:o})=>{let l=O();return n("div",{className:"flex relative w-[25rem] h-[40vh] bg-no-repeat bg-center bg-cover flex-shrink-0\r border-2 rounded-2xl hover:shadow-2xl",style:{backgroundImage:`url(/img/${s})`},onClick:()=>l(`/shop/${o}`),children:[n("p",{className:"absolute top-[4%] left-[10%] text-black-20 font-[600] text-[1.2rem]",children:[e("span",{className:"text-black-40",children:"by"}),"\xA0\xA0",t]}),e("p",{className:"absolute bottom-[4%] right-[40%] text-blue-20 font-[900] text-[1.4rem]",children:r})]})};const nr=()=>{const{shops:r,getShops:t,errors:s,load:o}=Se();return c.exports.useEffect(()=>{t()},[]),n("div",{className:"flex flex-col py-[3rem] px-[2rem] bg-teal-50",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Popular shops"}),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto ",children:r.length>0&&r.map((l,a)=>e(sr,{name:l.name,userName:l.userId.userName,img:l.image,id:l._id},a))})]})},or=()=>n(H,{children:[e(rr,{}),e(nr,{}),e(tr,{}),e(lr,{})]}),cr=r=>({setSelf:t,onSet:s})=>{const o=localStorage.getItem(r);o!==null&&t(JSON.parse(o)),s((l,a,m)=>{m?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(l))})},W=T({key:"cartAtom",default:[],effects_UNSTABLE:[cr("gist-cart"),({onSet:r})=>r(t=>console.log("cart",t))]}),ee=T({key:"cartOpen",default:!1}),ke=Ae({key:"cartSelector",get:({get:r})=>{const t=r(W);let s=0;return t.length>0&&t.forEach(o=>s+=o.price*o.quantity),s}}),ne=T({key:"menuOpen",default:!1}),oe=T({key:"search",default:""}),mr=()=>{const[r,t]=c.exports.useState(""),s=B(oe);let o=O();return{handleChange:a=>{t(a.target.value),s(a.target.value),a.target.value.length>0&&o("/searching")},input:r,setInput:t}},ir=()=>{const[r,t]=c.exports.useState(!1);let s=O();const o=B(oe),l=B(ee),a=B(ne),{handleChange:m,input:u,setInput:h}=mr();return n("div",{className:"flex flex-row flex-nowrap  py-[1rem] px-[0.5rem] md:px-[2rem] \r gap-x-[1rem]",children:[e("p",{className:"hidden md:flex text-blue-20 text-[1.6rem] font-semibold",children:"Gist-Shop"}),n("div",{className:"relative",children:[e("input",{onFocus:()=>{t(!0),s("/searching")},onBlur:()=>{h("")},onChange:m,className:`${r?"w-[90vw] md:w-[35vw] lg:w-[45vw] xl:w-[55vw] border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none":"little:w-[25vw] border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none md:w-[35vw] lg:w-[45vw] xl:w-[55vw]"}`,placeholder:"Search Gist-Shop",value:u}),e(k,{icon:$e,size:"1x",color:"red",className:`${r?"absolute right-[17%] top-[30%]":"hidden"}`,onClick:()=>{o(""),h(""),t(!1),s("/")}}),e(k,{icon:Fe,size:"1x",color:"blue",className:`${r?"absolute right-[5%] top-[30%]":"hidden md:absolute right-[5%] top-[30%]"}`,onClick:()=>{s("/searching")}})]}),e("button",{className:`${r?"hidden md:flex  w-[8rem] ml-auto  py-[0.3rem] self-center border-2 border-blue-20 text-[1.2rem] hover:bg-blue-400 rounded-md text-center hover:text-white justify-around  font-[600] ":"flex w-[8rem] ml-auto  py-[0.3rem] self-center border-2 border-blue-20 text-[1.2rem] hover:bg-blue-400 rounded-md text-center hover:text-white justify-around  font-[600] "}
             
             `,onClick:()=>s("/login"),children:"Sign in"}),e(k,{onClick:()=>{l(d=>!d),a(d=>d&&!d)},icon:Le,color:"blue",className:`${r?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem]  fa-lg md:fa-3x"}`}),e(k,{onClick:()=>{a(d=>!d),l(d=>d&&!d)},icon:de,color:"blue",className:`${r?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem] fa-lg md:fa-3x"}`})]})},ce=()=>{const r=B(W),t=A(ke);return{addToCart:(l,a,m,u,h,d,x)=>{r(i=>[{name:u,quantity:l,price:a,image:m,shopId:h,productId:d,id:x},...i]),I.fire({icon:"success",text:"successfully added to cart",timer:1e3})},removeItem:l=>{r(a=>a.filter(m=>m.id!==l))},totalValue:t}},dr=({image:r,name:t,amount:s,price:o,id:l})=>{const{removeItem:a}=ce();return n("div",{className:"w-full bg-white flex flex-col px-[1rem] py-[0.6rem] gap-y-[1rem]",children:[n("div",{className:"flex flex-row flex-nowrap text-[0.9rem] text-black-40 font-[600]\r justify-between",children:[e("div",{style:{backgroundImage:`url(/img/${r})`},className:"h-[3rem] w-[3rem] bg-cover bg-center bg-no-repeat "}),e("p",{className:"text-blue-20 text-left w-[6rem]",children:t}),n("p",{className:"text-[#00000080]",children:["$ ",o*s]})]}),e("div",{className:"flex flex-row flex-nowrap justify-between text-[1rem] text-black-40 \r font-[600]",children:n("p",{className:"",children:["#",e("span",{className:"text-blue-20 text-[1.3rem]",children:s})]})}),e("div",{className:"flex flex-row justify-end",children:e(k,{onClick:()=>a(l),icon:le,size:"1x",color:"red"})})]})},ur=()=>{const{addToCart:r,removeItem:t,totalValue:s}=ce(),o=A(W),l=B(ee);let a=O();return n("div",{className:"w-[90vw] md:w-[45vw] flex flex-col px-[1rem] py-[2rem] gap-y-[0.5rem]",children:[n("div",{className:"flex flex-row justify-between text-[1.2rem]",children:[e("p",{className:"font-[300]",children:"Estimated shipping"}),e("p",{className:"font-[600]",children:"$0.00"})]}),n("div",{className:"flex flex-row justify-between text-[1.2rem]",children:[e("p",{className:"font-[300]",children:"Estimated tax"}),e("p",{className:"font-[600]",children:"$0.00"})]}),n("div",{className:"flex flex-row justify-between text-[1.2rem] tracking-wider",children:[e("p",{className:"font-[300]",children:"Estimated total"}),n("p",{className:"font-[600] text-blue-20",children:["$",s]})]}),e("div",{className:"flex border-[0.12rem]  border-black-40  px-[0.5rem] py-[0.5rem] \r bg-white",children:e("p",{className:" text-[0.9rem] font-[400] tracking-wide leading-relaxed",children:"Items in your cart will not be reserved. Complete checkout to secure your order."})}),e("button",{disabled:o.length===0,onClick:()=>{l(m=>!m),a("/orders")},type:"button",className:"bg-red-20 w-full md:w-[60%] py-[0.4rem] px-[1.4rem] rounded-md\r hover:bg-red-400 text-white text-[1.3rem] font-[500] \r disabled:bg-gray-300 self-center my-[1.5rem]",children:"Checkout"}),e("div",{className:"flex flex-col gap-[1.3rem] bg-white",children:o.length>0?o==null?void 0:o.map((m,u)=>e(dr,{image:m==null?void 0:m.image,name:m.name,price:m.price,amount:m.quantity,id:m.id},u)):n("div",{className:"flex flex-row self-center items-center py-[3rem] gap-x-[2rem]\r px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"Your cart is empty."})]})})]})},hr=({setMenuOpen:r})=>{let t=O();return n("div",{className:"w-[90vw] md:w-[40vw] min-h-screen flex flex-col gap-y-[2rem] \r px-[2rem] py-[3rem]",children:[n("div",{className:"flex flex-row cursor-pointer items-center gap-x-[1rem]",onClick:()=>{t("/myAccount/profile"),r(!1)},children:[e(k,{icon:ue,size:"2x",color:"#6F00FF"}),e("p",{className:"text-[1.4rem] font-[700]",children:"My Account"})]}),n("div",{className:"flex flex-row cursor-pointer items-center gap-x-[1rem] pl-[0.5rem]",children:[e(k,{icon:qe,size:"2x",color:"#F40009"}),e("p",{className:"text-[1.4rem] font-[700] text-red-20",children:"Logout"})]})]})},xr=()=>{const r=A(ee),t=B(ee),s=A(ne),o=B(ne),l=c.exports.useRef();return(m=>{c.exports.useEffect(()=>{const u=h=>{r&&m.current&&m.current.contains(h.target)?t(d=>d&&!d):s&&m.current&&m.current.contains(h.target)&&o(d=>d&&!d)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[r,s])})(l),n("div",{className:`${r||s?"flex flex-col flex-nowrap overflow-x-clip  max-h-screen":"flex flex-col flex-nowrap overflow-x-clip"}`,children:[e("div",{className:"sticky top-0 z-50 bg-white",children:e(ir,{})}),n("div",{className:"relative",children:[e("div",{className:`${r?"absolute right-0 top-0 bg-brown-20 min-h-screen z-[44]":"hidden"}`,children:e(ur,{})}),e("div",{onBlur:()=>o(m=>!m),className:`${s?"absolute right-0 top-0 bg-brown-20 z-[44]":"hidden"}`,children:e(hr,{setMenuOpen:o})}),e("div",{ref:l,children:e(he,{})})]})]})},pr=()=>{const r=B(D),t=A(D),[s,o]=c.exports.useState(""),[l,a]=c.exports.useState(""),[m,u]=c.exports.useState(t==null?void 0:t.email),[h,d]=c.exports.useState(""),[x,i]=c.exports.useState(t==null?void 0:t.firstName),[g,N]=c.exports.useState(t==null?void 0:t.lastName),[b,S]=c.exports.useState(t==null?void 0:t.bio),[f,w]=c.exports.useState(t==null?void 0:t.userName),[p,v]=c.exports.useState(t==null?void 0:t.phoneNumber),[E,z]=c.exports.useState(!1),[C,q]=c.exports.useState(""),{Axios:y}=M(),[$,F]=c.exports.useState({});return{mailError:s,passError:l,email:m,password:h,fname:x,lname:g,bio:b,userName:f,handleChange:P=>{switch(F(""),P.target.id){case"email":u(P.target.value),P.target.value.toLowerCase().match(J)?o(""):o("Invalid email");break;case"pass":d(P.target.value),P.target.value.match(we)?a(""):a("Password should be atleast six characters long");break;case"fname":i(P.target.value);break;case"lname":N(P.target.value);break;case"userName":w(P.target.value);break;case"bio":S(P.target.value);break}},load:E,errors:$,phone:p,phoneErr:C,handlePhoneChange:P=>{v(P),P.length<5?q("please enter a valid phone number"):q("")},handleSubmit:async P=>{P.preventDefault(),z(!0);try{let{data:j}=await y.put(`/users/${t==null?void 0:t._id}`,{firstName:x,lastName:g,email:m,bio:b,userName:f});I.fire({icon:"success",text:"Your profile has been updated",timer:1500}),r(j),z(!1)}catch(j){let U=j.response.data.split(":");z(!1),I.fire({icon:"error",text:U[2]})}}}},fr=()=>{var f;const{mailError:r,passError:t,email:s,password:o,fname:l,lname:a,bio:m,userName:u,handleChange:h,load:d,errors:x,phone:i,phoneErr:g,handlePhoneChange:N,handleSubmit:b}=pr(),{renderSpinner:S}=_();return n("form",{className:"flex flex-col md:flex-row gap-y-[0.1rem] w-full py-[3rem] px-[3rem] \r justify-around",onSubmit:b,children:[n("div",{className:"flex flex-col md:w-[40%]",children:[e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"First Name"}),e("input",{onChange:h,value:l,required:!0,type:"text",id:"fname",name:"fname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Last Name"}),e("input",{onChange:h,value:a,required:!0,type:"text",id:"lname",name:"lname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"userName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"userName"}),e("input",{onChange:h,value:u,required:!0,type:"text",id:"userName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Bio"}),e("input",{onChange:h,value:m,required:!0,id:"bio",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"})]}),n("div",{className:"flex flex-col md:w-[40%]",children:[e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Email Address"}),e("input",{onChange:h,value:s,required:!0,type:"text",id:"email",name:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Phone Number"}),e(Q,{country:"ke",value:i,onChange:N,inputProps:{required:!0},inputStyle:{width:"16rem"}}),e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Password"}),e("input",{onChange:h,value:o,type:"password",id:"pass",name:"pass",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:t||((f=x==null?void 0:x.password)==null?void 0:f.message)}),e("div",{className:"mt-[1rem]",children:S(d)}),e("button",{disabled:t.length>1||r.length>1||d||g.length>0||(i==null?void 0:i.length)<4,type:"submit",className:"bg-red-20 py-[0.5rem] mt-[3rem]  text-white text-[1.4rem] rounded-lg\r font-bold w-[12rem] hover:bg-red-600 self-center disabled:bg-gray-400",children:"Submit"})]})]})},gr=()=>{const{_id:r}=A(D),{Axios:t}=M(),[s,o]=c.exports.useState([]),[l,a]=c.exports.useState(!1);return{myShops:s,load:l,getShopsByUserId:async()=>{a(!0);try{let{data:u}=await t.get(`/shop/${r}`);o(u),a(!1)}catch{I.fire({icon:"error",text:"error"}),a(!1)}}}},re=r=>new Promise(t=>{let s="",o=new FileReader;o.readAsDataURL(r),o.onload=()=>{s=o.result,t(s)}}),br=()=>{const{_id:r}=A(D),[t,s]=c.exports.useState(""),[o,l]=c.exports.useState(""),[a,m]=c.exports.useState(""),[u,h]=c.exports.useState(""),[d,x]=c.exports.useState(""),[i,g]=c.exports.useState(""),[N,b]=c.exports.useState(""),[S,f]=c.exports.useState(""),[w,p]=c.exports.useState(!1),{Axios:v}=M();return{shopName:t,email:d,location:o,desc:u,img:a,phone:i,createShop:async y=>{p(!0),y.preventDefault();try{await v.post(`/shop/${r}`,{name:t,email:d,location:o,phoneNumber:i,description:u,image:a}),I.fire({icon:"success",text:"Your shop has been created",timer:1e3}),p(!1)}catch($){let F=$.response.data.split(":");p(!1),I.fire({icon:"error",text:$.response.status===409?"Please choose a different shop name":F[2],timer:2e3})}},handleChange:y=>{switch(y.target.id){case"shopName":s(y.target.value);break;case"location":l(y.target.value);break;case"desc":h(y.target.value);break;case"img":re(y.target.files[0]).then(F=>{m(F)}).catch(F=>console.log(F));break;case"email":x(y.target.value),y.target.value.toLowerCase().match(J)?b(""):b("Invalid email");break}},handlePhoneChange:y=>{g(y),y.length<5?f("please enter a valid phone number"):f("")},phoneErr:S,mailError:N,load:w,clearAttributes:()=>{h(""),x(""),m(""),l(""),b(""),g(""),f(""),s("")}}},Nr=({openCreate:r,setOpenCreate:t})=>{const{shopName:s,email:o,location:l,desc:a,img:m,phone:u,createShop:h,handleChange:d,handlePhoneChange:x,phoneErr:i,mailError:g,load:N,clearAttributes:b}=br(),{renderSpinner:S}=_(),f=c.exports.useRef(null),w=()=>{f.current.click()};return n("div",{className:`${r?"flex flex-col w-[95vw]":"hidden"}`,children:[S(N),e("p",{className:"text-[1.6rem] text-black-80 text-center",children:"Create Your Shop"}),n("form",{autoComplete:"off",onSubmit:p=>{h(p),b()},className:"py-[2rem] flex flex-col lg:flex-row px-[2rem] gap-y-[2rem]\r items-center md:px-[12rem] md:justify-around lg:px-0",children:[n("div",{className:" flex flex-col w-full lg:max-w-[30%] ",children:[e("label",{htmlFor:"shopName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r mt-[2rem] ",children:"Shop Name"}),e("input",{onChange:d,value:s,required:!0,type:"text",id:"shopName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"location",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Location"}),e("input",{onChange:d,required:!0,value:l,type:"text",id:"location",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop email"}),e("input",{onChange:d,value:o,required:!0,type:"text",id:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-20",children:g}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop Telephone"}),e(Q,{country:"us",value:u,onChange:x,inputProps:{required:!0},inputClass:"w-24 border-2"}),e("p",{className:"text-red-20",children:i}),e("label",{htmlFor:"desc",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:d,value:a,required:!0,rows:3,cols:50,id:"desc",className:"border-[0.0625rem] border-black-70 outline-none text-blue-20\r rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500 "})]}),n("div",{className:"flex flex-col",children:[e("img",{src:m,alt:"",className:"hidden md:flex w-[16rem]"}),e("button",{type:"button",className:"blue-btn px-[1rem] py-[0.3rem]",onClick:w,children:"Upload Image"}),e("input",{onChange:d,required:!0,ref:f,type:"file",id:"img",accept:"image/png",className:"hidden"}),n("div",{className:"flex flex-row justify-between gap-x-[3rem]",children:[e("button",{type:"submit",disabled:g.length>0||N||i.length>0||u.length<3||m.length<1,className:"bg-blue-20  px-[2rem] py-[0.5rem]  rounded-lg self-center text-white\r text-[1rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Submit"}),e("button",{onClick:()=>{t(!1),b()},type:"button",className:"bg-red-20 px-[2rem] py-[0.5rem] rounded-lg\r self-center text-white text-[1rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Close"})]})]})]})]})},wr=()=>{A(D);const[r,t]=c.exports.useState(""),[s,o]=c.exports.useState(""),[l,a]=c.exports.useState(""),[m,u]=c.exports.useState(""),[h,d]=c.exports.useState(""),[x,i]=c.exports.useState(""),[g,N]=c.exports.useState(""),[b,S]=c.exports.useState(""),[f,w]=c.exports.useState(!1),{Axios:p}=M();return{shopName:r,email:h,location:s,desc:m,img:l,phone:x,handleChange:y=>{switch(y.target.id){case"shopName":t(y.target.value);break;case"location":o(y.target.value);break;case"desc":u(y.target.value);break;case"img":console.log("hey"),re(y.target.files[0]).then(F=>{a(F)}).catch(F=>console.log(F));break;case"email":d(y.target.value),y.target.value.toLowerCase().match(J)?N(""):N("Invalid email");break}},handlePhoneChange:y=>{i(y),y.length<5?S("please enter a valid phone number"):S("")},phoneErr:b,mailError:g,load:f,updateShop:async(y,$)=>{w(!0),y.preventDefault();try{await p.put(`/shop/shop/${$}`,{name:r,email:h,location:s,phoneNumber:x,description:m}),I.fire({icon:"success",text:"Your shop has been updated",timer:1e3}),w(!1)}catch(F){let Y=F.response.data.split(":");w(!1),I.fire({icon:"error",text:F.response.status===409?"Please choose a different shop name":Y[2],timer:2e3})}},getShopById:async y=>{w(!0);try{let{data:{name:$,email:F,location:Y,phoneNumber:L,image:G,description:P}}=await p.get(`/shop/shop/${y}`);t($),o(Y),a(G),u(P),i(L),d(F),w(!1)}catch{w(!1)}},handleImgChange:y=>{re(y.target.files[0]).then($=>{a($)}).catch($=>console.log($))}}},vr=({open:r,shopId:t,setOpen:s})=>{const{shopName:o,email:l,location:a,desc:m,img:u,phone:h,handleChange:d,handlePhoneChange:x,phoneErr:i,mailError:g,load:N,updateShop:b,getShopById:S}=wr(),{renderSpinner:f}=_(),w=c.exports.useRef(null),p=()=>{w.current.click()};return c.exports.useEffect(()=>{S(t)},[r]),n("div",{className:`${r?"flex flex-col rounded-2xl py-[4rem] w-[100vw] relative":"hidden"}`,children:[e("div",{className:"px-[2rem]",children:f(N)}),n("form",{onSubmit:v=>{b(v,t),s(!1)},className:"flex flex-col lg:flex-row px-[2rem] gap-y-[0.5rem]  items-center\r md:px-[12rem] md:justify-around lg:px-[4rem] ",children:[n("div",{className:" flex flex-col w-full lg:max-w-[25%]",children:[e("label",{htmlFor:"shopName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r mt-[2rem] ",children:"Shop Name"}),e("input",{onChange:d,value:o,required:!0,type:"text",id:"shopName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"location",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Location"}),e("input",{onChange:d,required:!0,value:a,type:"text",id:"location",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop email"}),e("input",{onChange:d,value:l,required:!0,type:"text",id:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-20",children:g}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop Telephone"}),e(Q,{country:"us",value:h,onChange:x,inputProps:{required:!0},inputStyle:{width:"14rem"}}),e("p",{className:"text-red-20",children:i}),e("label",{htmlFor:"desc",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:d,value:m,required:!0,rows:5,cols:50,id:"desc",className:"border-[0.0625rem] border-black-70 outline-none text-blue-20\r rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500 "})]}),n("div",{className:"flex flex-col",children:[e("img",{src:u,alt:"",className:"hidden md:flex w-[16rem]"}),e("input",{onChange:v=>{d(v)},ref:w,type:"file",id:"img",accept:"image/png",className:"hidden"}),e("button",{type:"button",className:"blue-btn px-[1rem] py-[0.4rem] my-[3rem]",onClick:p,children:"Upload Image"}),n("div",{className:"flex flex-row justify-between gap-x-[3rem]",children:[e("button",{type:"submit",disabled:g.length>0||N||i.length>0||h.length<3,className:"bg-blue-20 px-[1rem] py-[0.5rem] w-[6rem] rounded-lg\r self-center text-white text-[1rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Submit"}),e("button",{type:"button",onClick:()=>s(!1),className:"bg-red-20 px-[1rem] py-[0.5rem] w-[6rem] rounded-lg\r self-center text-white text-[1rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Close"})]})]})]})]})},yr=({name:r,userName:t,img:s,id:o})=>{let l=O();return n("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] p-[2rem]\r flex-shrink-0 relative",onClick:()=>l(`/myAccount/shops/${o}`),children:[e("div",{style:{backgroundImage:`url(/img/${s})`},className:"bg-contain bg-center bg-no-repeat w-[60vw] md:w-[30vw] lg:w-[24vw] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:r}),n("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",t]})]})},Sr=()=>{const{Axios:r}=M(),[t,s]=c.exports.useState(!1);return{load:t,deleteShop:async(l,a)=>{l.preventDefault(),s(!0);try{r.delete(`/shop/shop/${a}`),s(!1),I.fire({icon:"success",title:"Shop deleted successfully",timer:1500})}catch{s(!1),I.fire({icon:"error",title:"Sorry the shop was not deleted",timer:1500})}}}},kr=({name:r,shopId:t,setOpenDelete:s})=>{const{load:o,deleteShop:l}=Sr(),[a,m]=c.exports.useState(),u=h=>{m(h.target.value)};return n("div",{className:"flex flex-col py-[3rem] px-[6rem] relative bg-white justify-around \r rounded-md gap-y-[3rem] shadow-lg",children:[e(k,{icon:Z,size:"2x",color:"red",className:"absolute right-[5%] top-[4%]",onClick:()=>s(!1)}),n("p",{className:"text-[1rem] md:text-[1.4rem] text-black-40 font-[300]",children:["Please type ",n("span",{className:"font-[700]",children:[" ",r," "]}),"to confirm"]}),n("form",{className:"flex flex-col justify-around gap-y-[4rem]",onSubmit:h=>l(h,t),children:[e("input",{type:"text",required:!0,className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500",onChange:h=>u(h)}),e("button",{type:"submit",disabled:a!==r,className:" border-[0.2rem] border-red-20 px-[1rem] py-[0.4rem]\r text-red-20 text-[700] disabled:bg-gray-200 disabled:border-red-300\r disabled:text-red-200",children:"I understand the consequences, delete this shop."})]})]})},Cr=()=>{const{myShops:r,load:t,getShopsByUserId:s}=gr(),{renderSpinner:o}=_(),[l,a]=c.exports.useState(!1),[m,u]=c.exports.useState(""),[h,d]=c.exports.useState(""),[x,i]=c.exports.useState(!1),[g,N]=c.exports.useState(!1);return c.exports.useEffect(()=>{s()},[x]),n("div",{className:"overflow-y-clip  flex flex-col  flex-nowrap items-center gap-[2rem] \r px-[2rem] py-[4rem] relative",children:[n("button",{onClick:()=>i(b=>!b),className:`${!x&&!l?"flex px-[1rem] py-[0.5rem] bg-blue-20 rounded-md text-white text-center text-[1.4rem] m-[2rem] self-start":"hidden"}`,children:[e(k,{icon:ze,size:"1x",className:"self-center mr-[1rem]"}),"Create Shop"]}),e(Nr,{openCreate:x,setOpenCreate:i}),g?e("div",{className:"fixed top-[20%] cente z-50  bg-opacity-50 bg-gray-600 inset-0",children:e(kr,{shopId:m,setOpenDelete:N,name:h})}):null,o(t),n("div",{className:`${x?"hidden":"flex flex-col md:flex-row justify-around gap-[2rem] md:gap-[2rem] md:px-[2rem] md:flex-wrap "}`,children:[r.map((b,S)=>n("div",{className:"relative",children:[e(yr,{img:b.image,name:b.name,userName:b.userId.userName,id:b._id},S),e("button",{onClick:()=>{u(b._id),d(b.name),N(!0)},className:" px-[1rem] py-[0.4rem] rounded-lg absolute top-[5%] border-[0.18rem]\r left-[5%] text-[1rem] border-red-400",children:e(k,{icon:le,size:"1x",className:"self-center",color:"red"})}),e("button",{onClick:()=>{u(b._id),a(!0)},className:" px-[1rem] py-[0.4rem] rounded-lg absolute top-[5%] border-[0.18rem]\r right-[5%] text-[1rem] border-blue-20",children:e(k,{icon:Be,size:"1x",className:"self-center",color:"blue"})})]},S)),e("div",{className:"fixed backdrop-blur-md left-0 top-0 bg-gray-300 z-50 h-screen",children:e(vr,{open:l,shopId:m,setOpen:a})})]})]})},Ir=({open:r,setOpen:t})=>n("div",{className:"flex flex-col w-[80vw] md:w-[25vw] py-[3rem] px-[3rem] gap-y-[2rem] \r relative",children:[e(k,{onClick:()=>t(!1),icon:Z,size:"3x",color:"red",className:"absolute right-10 top-8"}),n(K,{onClick:()=>t(!1),to:"/",className:({isActive:s})=>s?"text-blue-20 flex flex-row flex-nowrap items-center  gap-x-[0.2rem] mt-[4rem]":"text-black-40 flex flex-row flex-nowrap items-center  gap-x-[0.2rem] mt-[4rem]",children:[e(k,{icon:Re,size:"1x",color:""}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700]",children:"Home"})]}),n(K,{onClick:()=>t(!1),to:"/myAccount/profile",className:({isActive:s})=>s?"text-blue-20 flex flex-row flex-nowrap items-center  gap-x-[0.2rem]":"text-black-40 flex flex-row flex-nowrap items-center  gap-x-[0.2rem]",children:[e(k,{icon:ue,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700]",children:"User"})]}),n(K,{onClick:()=>t(!1),to:"/myAccount/shops",className:({isActive:s})=>s?"text-blue-20 flex flex-row flex-nowrap items-center  gap-x-[0.2rem]":"text-black-40 flex flex-row flex-nowrap items-center  gap-x-[0.2rem]",children:[e(k,{icon:_e,size:"1x",color:""}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700]",children:"Shop"})]}),n(K,{onClick:()=>t(!1),to:"/myAccount/orders",className:({isActive:s})=>s?"text-blue-20 flex flex-row flex-nowrap items-center  gap-x-[0.2rem]":"text-black-40 flex flex-row flex-nowrap items-center  gap-x-[0.2rem]",children:[e(k,{icon:Oe,size:"1x",color:""}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] ",children:"Orders"})]})]}),Er=()=>{const[r,t]=c.exports.useState(!1),s=c.exports.useRef();return(l=>{c.exports.useEffect(()=>{const a=m=>{r&&l.current&&l.current.contains(m.target)&&t(u=>u&&!u)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[r])})(s),n("div",{className:"flex flex-col overflow-x-clip relative",children:[e(H,{children:r?e("div",{className:"absolute right-0 bg-brown-20 min-h-screen z-50",children:e(Ir,{open:r,setOpen:t})}):e(k,{icon:de,size:"2x",color:"blue",className:"absolute right-8 top-6 z-50",onClick:()=>t(!0)})}),e("div",{className:"",ref:s,children:e(he,{})})]})},Ce=()=>{const{Axios:r}=M(),[t,s]=c.exports.useState([]),[o,l]=c.exports.useState(!1),{_id:a}=A(D),[m,u]=c.exports.useState([]),[h,d]=c.exports.useState("");let x=["edit"];const[i,g]=c.exports.useState(""),[N,b]=c.exports.useState(!1),[S,f]=c.exports.useState("pending"),w=[{name:"Date Placed",selector:C=>C.date},{name:"Status",selector:C=>C.status},{name:"Actions",selector:C=>C.actions}];let p=t.map(C=>Object.assign(C,{actions:x.map((q,y)=>e("button",{className:"red-btn px-[1rem] py-[0.4rem]",id:C._id,value:C._id,onClick:$=>{g($.currentTarget.value),b(!0)},children:q},y)),date:new Date(C.createdAt).toLocaleDateString()}));return{getMyOrders:async C=>{C.preventDefault(),l(!0);try{let{data:q}=await r.get(`/orders/all/shop/${h}`);s(q),l(!1)}catch{l(!1),I.fire({icon:"error",title:"Failed to get your orders"})}},columns:w,load:o,orders:t,getMyShops:async()=>{l(!0);try{let{data:C}=await r.get(`/shop/${a}`);u(C),l(!1)}catch{l(!1),I.fire({icon:"error",title:"Failed to get your orders"})}},setShopId:d,shops:m,populate:p,open:N,setOpen:b,orderId:i,editOrder:async(C,q)=>{C.preventDefault(),l(!0);try{await r.put(`/orders/orders/${q}`,{status:S}),l(!1),I.fire({icon:"success",title:"Your order has been updated",timer:1500}).then(()=>b(!1))}catch{I.fire({icon:"error",title:"Error updating order",timer:1500}),l(!1)}},setStatus:f}},Pr=({setOpen:r,orderId:t})=>{const{editOrder:s,setStatus:o}=Ce();return n("div",{className:"flex flex-col py-[3rem] px-[2rem] relative bg-white justify-around items-start \r rounded-md gap-y-[3rem] shadow-lg",children:[e(k,{icon:Z,size:"2x",color:"red",className:"absolute right-[5%] top-[4%]",onClick:()=>r(!1)}),n("form",{className:"flex flex-col justify-around gap-y-[4rem]",onSubmit:l=>{s(l,t)},children:[e("label",{htmlFor:"billing",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Change order status"}),n("select",{onChange:l=>o(l.target.value),required:!0,id:"billing",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500",children:[n("option",{disabled:!0,defaultValue:"true",value:"",children:[" ","-- select an option --"," "]}),e("option",{value:"pending",children:"Pending"}),e("option",{value:"cancelled",children:"Cancelled"}),e("option",{value:"shipped",children:"Shipped"}),e("option",{value:"delivered",children:"Delivered"})]}),e("button",{type:"submit",className:" border-[0.2rem] border-red-20 px-[1rem] py-[0.4rem]\r text-red-20 text-[700] disabled:bg-gray-200 disabled:border-red-300\r disabled:text-red-200",children:"Submit"})]})]})};De("light",{text:{fontSize:"2rem",fontWeight:"2px",primary:"#000000"},background:{default:"inherit"}});const Ar={cells:{style:{minHeight:"72px",fontSize:"1rem",fontWeight:"500"}},headCells:{style:{fontSize:"1.5rem",fontWeight:"600"}}},$r=()=>{const{getMyOrders:r,columns:t,load:s,getMyShops:o,setShopId:l,shops:a,populate:m,open:u,setOpen:h,orderId:d}=Ce(),{renderSpinner:x}=_();return c.exports.useEffect(()=>{o()},[]),n("div",{className:"flex flex-col md:flex-row px-[2rem] py-[3rem] items-center gap-[2rem]",children:[n("form",{autoComplete:"off",onSubmit:r,action:"",className:"flex flex-col gap-y-[0.1rem] py-[3rem] px-[1rem] self-center",children:[e("label",{htmlFor:"billing",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Select a shop to view its orders"}),n("select",{onChange:i=>{l(i.target.value)},required:!0,id:"billing",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500",children:[n("option",{disabled:!0,selected:!0,value:"",children:[" ","-- select an option --"," "]}),a==null?void 0:a.map((i,g)=>e("option",{value:i==null?void 0:i._id,children:i==null?void 0:i.name},g))]}),e("div",{className:"mt-[1rem]",children:x(s)}),e("button",{type:"submit",className:"bg-red-20 px-[1rem] py-[0.4rem] w-[16rem] self-center \r mt-[2rem] text-[1.4rem] text-white font-[700] rounded-xl hover:bg-red-600\r disabled:bg-gray-400\r ",children:"View Orders"})]}),n("div",{className:"flex flex-col w-full border-2 relative",children:[u?e("div",{className:"fixed  z-50 center ",children:e(Pr,{setOpen:h,orderId:d})}):null,e(Me,{columns:t,data:m,selectableRows:!0,responsive:!0,pagination:!0,customStyles:Ar,subHeaderWrap:!0,striped:!0,title:"Orders",theme:"light",fixedHeader:!0,fixedHeaderScrollHeight:"500px",pointerOnHover:!0,className:"bg text-color"})]})]})},Fr=()=>{const[r,t]=c.exports.useState([]),[s,o]=c.exports.useState([]),[l,a]=c.exports.useState(r[0]),[m,u]=c.exports.useState(s[0]),[h,d]=c.exports.useState(!1),x=B(W),i=A(W),g=A(ke),{_id:N}=A(D),{Axios:b}=M();return{billing:l,shipping:m,getBillingByUserId:async()=>{d(!0);try{let{data:v}=await b.get(`/billing/all/${N}`);t(v),d(!1)}catch{d(!1)}},getShippingByUserId:async()=>{d(!0);try{let{data:v}=await b.get(`/address/all/${N}`);o(v),d(!1)}catch{d(!1)}},userShippings:s,userBillings:r,load:h,handleSubmit:async v=>{var z;v.preventDefault(),d(!0);let E=i.map(C=>C.productId);try{await b.post(`/orders/${N}`,{productIds:E,billingId:l,shippingId:m,shopId:(z=i[0])==null?void 0:z.shopId,subTotal:g,tax:0,shippingFee:0}),d(!1),I.fire({icon:"success",title:"Your order has been placed"}),x(C=>[""])}catch{d(!1),I.fire({icon:"error",title:"Your order was not placed"})}},handleChange:v=>{switch(v.target.id){case"billing":a(v.target.value);break;case"shipping":u(v.target.value);break}}}},Lr=()=>{const{renderSpinner:r}=_(),{billing:t,shipping:s,handleChange:o,getBillingByUserId:l,getShippingByUserId:a,userShippings:m,userBillings:u,load:h,handleSubmit:d}=Fr();return c.exports.useEffect(()=>{l(),a()},[]),e("div",{className:"flex flex-col",children:n("form",{autoComplete:"off",onSubmit:d,action:"",className:"flex flex-col gap-y-[0.1rem] w-full lg:w-[50%] py-[3rem] px-[1rem] self-center",children:[e("label",{htmlFor:"billing",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Billing Address"}),n("select",{onChange:o,value:t,required:!0,id:"billing",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500",children:[n("option",{disabled:!0,selected:!0,value:"",children:[" ","-- select an option --"," "]}),u==null?void 0:u.map((x,i)=>e("option",{value:x==null?void 0:x._id,children:x==null?void 0:x.name},i))]}),e("label",{htmlFor:"shipping",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Shipping Address"}),n("select",{onChange:o,value:s,required:!0,id:"shipping",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500",children:[n("option",{disabled:!0,selected:!0,value:"",children:[" ","-- select an option --"," "]}),m==null?void 0:m.map((x,i)=>e("option",{value:x==null?void 0:x._id,children:x==null?void 0:x.name},i))]}),e("div",{className:"mt-[1rem]",children:r(h)}),e("button",{disabled:(t==null?void 0:t.length)<1||(s==null?void 0:s.length)<1,type:"submit",className:"bg-red-20 px-[2rem] py-[1rem] w-[16rem] self-center \r mt-[2rem] text-[1.4rem] text-white font-[700] rounded-xl hover:bg-red-600\r disabled:bg-gray-400\r ",children:"Submit order"})]})})},qr=()=>{var i,g;const[r,t]=c.exports.useState(0),[s,o]=c.exports.useState(0),{getProductById:l,product:a,errors:m,load:u}=se(),{renderSpinner:h}=_(),{productId:d}=X(),{addToCart:x}=ce();return c.exports.useEffect(()=>{l(d)},[]),n("div",{className:"flex flex-col items-center px-[1rem] py-[1rem] md:px-[2rem] gap-[5rem]",children:[n("div",{className:"flex flex-col md:flex-row flex-wrap \r justify-around md:justify-center gap-y-[2.2rem] md:gap-[2rem] items-center",children:[h(u),n("div",{className:"flex flex-col gap-y-[2rem] self-center",children:[e("p",{className:"text-center text-black-40 font-[600] text-[2rem]",children:a==null?void 0:a.name}),((i=a==null?void 0:a.images)==null?void 0:i.length)>0?e("div",{style:{backgroundImage:`url(/img/${a.images[r]})`},className:"bg-cover bg-center bg-no-repeat w-[60vw] h-[20vh] self-center\r md:w-[20vw]  border-[0.12rem] border-black-40 rounded-2xl"}):null,e("p",{className:"text-center text-red-20 font-[600] text-[1.4rem]",children:(a==null?void 0:a.quantity)===0?"Out of stock":a.price===void 0?"":"$"+(a==null?void 0:a.price)})]}),n("div",{className:"flex flex-row gap-x-[1rem]",children:[n("div",{className:"inline-flex rounded-md shadow-sm border-[0.1rem] border-black-40",children:[e("button",{onClick:()=>o(N=>N===0?0:N-1),disabled:a.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] rounded-l-lg text-black-40 \r text-center",children:"-"}),e("button",{disabled:a.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] text-black-40 border-black-40\r border-x-[0.1rem]",children:s}),e("button",{onClick:()=>o(N=>N===(a==null?void 0:a.quantity)?N:N+1),disabled:a.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] text-black-40 rounded-r-lg \r ",children:"+"})]}),e("button",{disabled:s===0,onClick:()=>{x(s,a==null?void 0:a.price,a==null?void 0:a.images[0],a==null?void 0:a.name,a==null?void 0:a.shopId,a==null?void 0:a._id,Ue())},className:"bg-red-20 px-[1rem] py-[0.1rem] text-white font-[600] text-[1rem]\r w-[8rem] rounded-lg disabled:bg-gray-400",children:"Add to Cart"})]})]}),e("div",{className:"hidden md:flex flex-row gap-[2rem]",children:(g=a==null?void 0:a.images)==null?void 0:g.map((N,b)=>e("div",{style:{backgroundImage:`url(/img/${N})`},className:"w-[12rem] h-[6rem] rounded-2xl bg-cover bg-center bg-no-repeat\r border-[0.12rem] border-black-40",onClick:()=>t(b)},b))})]})},zr=({open:r,setOpen:t,name:s,price:o,quantity:l,image:a,_id:m})=>{let u=O();return n("div",{className:"flex flex-col w-[90vw] md:w-[48vw] bg-white rounded-md shadow-xl relative \r min-h-screen gap-y-[2rem] py-[3rem] px-[0.5rem] items-stretch ",children:[e("p",{className:"text-[1.4rem] text-center font-[700]",children:"Products available for purchase"}),e(k,{icon:Z,size:"2x",color:"red",className:"absolute top-4 right-6",onClick:()=>t(!1)}),e("hr",{}),n("div",{className:"flex flex-row flex-nowrap justify-around ",children:[e("div",{style:{backgroundImage:`url(/img/${a})`},className:"w-[4rem] h-4rem] bg-contain bg-no-repeat bg-center rounded-xl"}),n("div",{className:"flex flex-col",children:[e("p",{className:"text-[1rem] font-[700] text-black-40 flex- flex-wrap w-[12rem]",children:s}),n("p",{className:"text-[1rem] text-red-20",children:["$",o]}),e("p",{className:"text-[1rem] text-black-40",children:l})]}),e("div",{className:"flex",children:e("button",{className:"red-btn py-[0.3rem] px-[0.3rem] w-[4rem] h-[4rem] bg-white text-red-20 \r border-2 border-red-20 hover:text-white",onClick:()=>u(`/product/${m}`),children:"Buy"})})]}),e("hr",{})]})},Br=({imgs:r})=>e("div",{className:"flex flex-row flex-wrap justify-around items-center gap-[2rem] min-h-[30vh]",children:r==null?void 0:r.map((t,s)=>e("div",{className:"flex bg-center bg-cover bg-no-repeat w-[12rem] h-[12rem] rounded-lg\r shadow-lg border-[0.2rem] border-black-40",style:{backgroundImage:`url(/img/${t})`}},s))}),Rr=({name:r,price:t,quantity:s,image:o})=>n("div",{className:"flex flex-col min-h-[30vh]",children:[e("p",{className:"text-black-40 text-[1.4rem] underline",children:r}),n("div",{className:"flex flex-row justify-around items-center",children:[n("p",{className:"text-red-20 text-[1.4rem]",children:["$ ",t]}),n("p",{className:"text-red-20 text-[1.4rem]",children:["# ",s]}),e("div",{style:{backgroundImage:`url(/img/${o})`},className:"flex w-[4rem] h-[4rem] rounded-full bg-center bg-cover bg-no-repeat "})]})]}),_r=()=>{var x,i,g,N,b,S;const{room:r,load:t,getRoomById:s}=ye(),{renderSpinner:o}=_();let{roomId:l}=X();const[a,m]=c.exports.useState(!1),[u,h]=c.exports.useState(!1);c.exports.useEffect(()=>{s(l)},[]);let d=16.5;return e(H,{children:n("div",{className:"flex flex-col md:flex-row gap-y-[2rem] md:min-h-screen relative",children:[o(t),e("video",{controls:!0,src:"/img/room.mp4",className:"h-[30vh] md:min-h-screen md:w-[50vw]\r bg-black-70"}),n("div",{className:"flex flex-col px-[1rem] md:px-[2rem] gap-y-[2rem] md:self-center w-full",children:[n("button",{className:"red-btn md:absolute left-0 top-[60%] mb-[4rem]",onClick:()=>h(f=>!f),children:["from $ ",d]}),n("div",{className:"inline-flex self-center",children:[e("button",{onClick:()=>m(f=>!f),className:`${a?"bg-blue-20 text-white":"bg-white"}
                        rounded-none hover:rounded-none py-[0.4rem] px-[0.8rem] text-black-40
                         border-y-[0.2rem] border-x-[0.2rem] border-black-40
                     `,children:"Details"}),e("button",{onClick:()=>m(f=>!f),className:`${a?"bg-white":"bg-blue-20 text-white"}
                        rounded-none hover:rounded-none py-[0.4rem] px-[0.8rem] text-black-40
                         border-y-[0.2rem] border-x-[0.2rem] border-black-40
                     `,children:"Images"})]}),a?n(H,{children:[n("div",{className:"flex flex-row gap-x-[1rem]",children:[e("div",{style:{backgroundImage:`url(/img/${(x=r==null?void 0:r.shopId)==null?void 0:x.image})`},className:"flex w-[5rem] h-[5rem] rounded-full  self-center bg-center \r bg-no-repeat bg-cover"}),e("div",{className:"flex flex-col w-[16rem]",children:n("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:[r==null?void 0:r.title,e("br",{}),n("span",{className:"font-[300]",children:["by ",(i=r==null?void 0:r.ownerId)==null?void 0:i.userName]})]})})]}),e("div",{className:"flex",children:e("p",{className:"text-[1.2rem]",children:(g=r==null?void 0:r.shopId)==null?void 0:g.description})})]}):null,e("div",{className:"flex self-center",children:a?(N=r==null?void 0:r.productIds)==null?void 0:N.map((f,w)=>e(Rr,{name:f.name,quantity:f.quantity,price:f.price,image:f==null?void 0:f.images[0]},w)):(b=r==null?void 0:r.productIds)==null?void 0:b.map((f,w)=>e(Br,{imgs:f.images},w))}),e("div",{className:"absolute top-0  z-50",children:u?(S=r==null?void 0:r.productIds)==null?void 0:S.map((f,w)=>e(zr,{_id:f==null?void 0:f._id,name:f.name,price:f.price,image:f==null?void 0:f.images[0],quantity:f==null?void 0:f.quantity,open:u,setOpen:h},w)):null})]})]})})},Or=({name:r,img:t,price:s,userName:o,id:l})=>{let a=O();return n("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] px-[0.3rem] py-[0.4rem]",onClick:()=>a(`/product/${l}`),children:[e("div",{style:{backgroundImage:`url(/img/${t})`},className:"bg-cover bg-center bg-no-repeat w-[14rem] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem] max-w-[10rem]",children:r}),n("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",o]}),n("p",{className:"text-red-20 font-[900] text-[1.4rem] mb-[1rem]",children:["$:\xA0\xA0\xA0",s]})]})};const Dr=({name:r,img:t,userName:s,id:o})=>{let l=O();return n("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] p-[2rem]\r flex-shrink-0",onClick:()=>l(`/shop/${o}`),children:[e("div",{style:{backgroundImage:`url(/img/${t})`},className:"bg-contain bg-center bg-no-repeat w-[60vw] md:w-[30vw] lg:w-[24vw] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:r}),n("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",s]})]})},Mr=()=>{const[r,t]=c.exports.useState([]),[s,o]=c.exports.useState([]),l=A(oe),{getProducts:a,products:m,load:u}=se(),{renderSpinner:h}=_(),{shops:d,getShops:x}=Se();return c.exports.useEffect(()=>{a(),x()},[]),c.exports.useEffect(()=>{m.length>0&&t(m.filter(i=>i.name.toLowerCase().includes(l.toLowerCase()))),d.length>0&&o(d.filter(i=>i.name.toLowerCase().includes(l.toLowerCase())))},[l]),n("div",{className:"flex flex-col px-[2rem] md:px-[3rem]",children:[h(u),r.length>0?e("p",{className:"text-black-40 font-[800] text-[1.6rem] md:text-[2rem] my-[2rem]",children:"Products"}):null,e("div",{className:"scroller flex flex-row overflow-x-auto gap-x-[2rem]",children:r.length>0&&r.map((i,g)=>e(Or,{price:i.price,img:i.images[0],userName:i.ownerId.userName,name:i.name,id:i._id},g))}),s.length>0?e("p",{className:"text-black-40 font-[800] text-[1.6rem] md:text-[2rem] my-[2rem]",children:"Shops"}):null,e("div",{className:"flex flex-row flex-wrap items-center gap-[2rem]\r ",children:s.length>0&&s.map((i,g)=>e(Dr,{img:i.image,name:i.name,userName:i.userId.userName,id:i._id},g))})]})},Ie=()=>{const[r,t]=c.exports.useState([]),[s,o]=c.exports.useState(""),[l,a]=c.exports.useState(!1);return{shopDetails:r,getShopDetails:async u=>{a(!0);try{let{data:h}=await V.get(`/products/${u}`);t(h),a(!1)}catch(h){o(h),a(!1)}},load:l,errors:s}},Ur=()=>{const{_id:r}=A(D),{Axios:t}=M(),[s,o]=c.exports.useState(""),[l,a]=c.exports.useState(0),[m,u]=c.exports.useState(""),[h,d]=c.exports.useState([]),[x,i]=c.exports.useState(!1),g=async w=>{i(!0);try{let{data:{images:p,name:v,price:E,quantity:z}}=await t.get(`/products/product/${w}`);d(p),a(E),o(v),u(z),i(!1)}catch{i(!1)}},N=w=>{switch(w.target.id){case"name":o(w.target.value);break;case"price":a(w.target.value);break;case"quantity":u(w.target.value);break;case"images":re(w.target.files[0]).then(p=>{d(v=>[...v,p])}).catch(p=>console.log(p));break}},b=()=>{o(""),a(0),u(""),d([""])};return{getProductById:g,editProductById:async(w,p)=>{i(!0),w.preventDefault();try{t.put(`/products/products/${p}`,{name:s,price:l,quantity:m,images:h,ownerId:r}),I.fire({icon:"success",text:"Your product has been updated",timer:1e3}),b(),i(!1)}catch(v){let E=v.response.data.split(":");i(!1),I.fire({icon:"error",text:v.response.status===409?"Please choose a different shop name":E[2],timer:2e3})}},removeImg:w=>{w>-1&&d(p=>p.filter(v=>p.indexOf(v)!==w))},clearAttributes:b,name:s,quantity:m,price:l,images:h,load:x,handleChange:N}},te=T({key:"productOpen",default:!1}),jr=({productId:r})=>{const{getProductById:t,editProductById:s,removeImg:o,clearAttributes:l,name:a,quantity:m,price:u,images:h,load:d,handleChange:x}=Ur(),i=B(te);return A(te),n("form",{className:"flex flex-col md:flex-row md:justify-around gap-x-[8rem] bg-gray-300 w-screen \r px-[2rem] py-[4rem] z-50",onSubmit:g=>{s(g,r)},children:[n("div",{className:"flex flex-col  w-[80vw] md:w-[30vw]",children:[e("label",{htmlFor:"name",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Product name"}),e("input",{onChange:x,required:!0,value:a,type:"text",id:"name",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"price",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Price"}),e("input",{onChange:x,required:!0,value:u,type:"number",id:"price",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"quantity",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Quantity"}),e("input",{onChange:x,required:!0,value:m,type:"number",id:"quantity",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"})]}),n("div",{className:"flex flex-col w-[80vw] md:w-[30vw]",children:[e("div",{className:"hidden md:flex md:flex-row",children:h==null?void 0:h.map((g,N)=>n("div",{className:"relative",children:[e("img",{src:g,alt:"",className:"h-[5rem] rounded-md"},N),e(k,{icon:le,size:"2x",color:"black",onClick:()=>{o(N)},className:"absolute bottom-0 right-0"})]},N))}),e("label",{htmlFor:"images",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Add Images"}),e("input",{onChange:x,required:!0,type:"file",id:"images",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),n("div",{className:"flex flex-row justify-around my-[4rem] text-white",children:[e("button",{type:"submit",className:"p-[1rem] bg-blue-20 rounded-md",children:"Submit"}),e("button",{type:"button",onClick:()=>{i(g=>!g)},className:"p-[1rem] bg-red-20 rounded-md",children:"Close"})]})]})]})},Tr=({name:r,price:t,img:s,userName:o,id:l})=>{O();const a=B(te),m=A(te);return n("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl border-white hover:shadow-2xl z-0",children:[e(k,{icon:je,size:"2x",color:"blue",className:" ml-auto mt-[2rem]",onClick:()=>a(!0)}),n("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:[r,e("br",{}),e(k,{icon:Te,size:"1x",color:"blue"}),"\xA0\xA0\xA0",e("span",{className:"",children:o})]}),e("div",{className:"flex relative w-[70vw] h-[40vh] md:w-[25rem] bg-no-repeat bg-center bg-cover \r rounded-xl  border-[0.1rem]",style:{backgroundImage:`url(/img/${s})`},children:n("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",t]})}),m?e("div",{className:"absolute left-0",children:e(jr,{productId:l})}):null]})},Hr=()=>{var m,u,h,d,x,i,g,N,b,S,f,w;const{shopDetails:r,getShopDetails:t,load:s,errors:o}=Ie();let{shopId:l}=X();const{renderSpinner:a}=_();return c.exports.useEffect(()=>{t(l)},[]),e(H,{children:s||r.length>0?n("div",{className:"flex flex-col px-[2rem] pb-[2rem]",children:[a(s),n("div",{className:"flex flex-col",children:[e("div",{className:"w-full py-[1rem] bg-white sticky top-0 z-50 border-b-4",children:e("p",{className:"text-[2rem] md:text-[2.5rem] text-black-40 font-[700]\r text-center ",children:(u=(m=r[0])==null?void 0:m.shopId)==null?void 0:u.name})}),n("div",{className:"flex flex-row flex-nowrap justify-around py-[2rem]",children:[r.length>0?e("div",{style:{backgroundImage:`url(/img/${(d=(h=r[0])==null?void 0:h.shopId)==null?void 0:d.image})`},className:"h-[6rem] w-[6rem] rounded-full bg-contain bg-center \r bg-no-repeat self-center bg-teal-100"}):null,n("div",{className:"flex flex-col gap-0 self-center items-center",children:[e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600]",children:r.length}),e("p",{className:"text-black-40 text-[1rem] md:text-[1.4rem] font-[600]",children:"Products"})]})]}),n("div",{className:"flex flex-row flex-nowrap gap-x-[1.4rem] py-[2rem] justify-around",children:[n("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:xe,size:"1x",color:"blue"}),e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[700]",children:(i=(x=r[0])==null?void 0:x.shopId)==null?void 0:i.email})]}),n("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:pe,size:"1x",color:"blue"}),e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600]\r text-center",children:(N=(g=r[0])==null?void 0:g.shopId)==null?void 0:N.phoneNumber})]}),n("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:fe,size:"1x",color:"blue"}),n("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600] \r text-center",children:["\xA0\xA0",(S=(b=r[0])==null?void 0:b.shopId)==null?void 0:S.location]})]})]}),e("div",{className:"flex py-[2rem]",children:e("p",{className:"text-left text-[1.3rem] tracking-wide leading-relaxed text-blue-40",children:(w=(f=r[0])==null?void 0:f.shopId)==null?void 0:w.description})}),e("p",{className:"text-black-40 text-[1.6rem] md:text-[2.5rem] font-[700] py-[2rem]",children:"Products"}),e("div",{className:"flex flex-row flex-wrap gap-[2rem] justify-around",children:r==null?void 0:r.map((p,v)=>{var E;return e(Tr,{name:p==null?void 0:p.name,price:p==null?void 0:p.price,img:p==null?void 0:p.images[0],id:p==null?void 0:p._id,userName:(E=p==null?void 0:p.ownerId)==null?void 0:E.userName},v)})})]})]}):n("div",{className:"flex flex-row self-center items-center py-[10rem] gap-x-[2rem] px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"This shop is empty right now."})]})})},Vr=()=>{var m,u,h,d,x,i,g,N,b,S,f,w;const{shopDetails:r,getShopDetails:t,load:s,errors:o}=Ie();let{shopId:l}=X();const{renderSpinner:a}=_();return c.exports.useEffect(()=>{t(l)},[]),e(H,{children:s||r.length>0?n("div",{className:"flex flex-col px-[2rem] pb-[2rem]",children:[a(s),n("div",{className:"flex flex-col",children:[e("div",{className:"w-full py-[1rem] bg-white sticky top-0 z-50 border-b-4",children:e("p",{className:"text-[2rem] md:text-[2.5rem] text-black-40 font-[700]\r text-center ",children:(u=(m=r[0])==null?void 0:m.shopId)==null?void 0:u.name})}),n("div",{className:"flex flex-row flex-nowrap justify-around py-[2rem]",children:[r.length>0?e("div",{style:{backgroundImage:`url(/img/${(d=(h=r[0])==null?void 0:h.shopId)==null?void 0:d.image})`},className:"h-[6rem] w-[6rem] rounded-full bg-contain bg-center \r bg-no-repeat self-center bg-teal-100"}):null,n("div",{className:"flex flex-col gap-0 self-center items-center",children:[e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600]",children:r.length}),e("p",{className:"text-black-40 text-[1rem] md:text-[1.4rem] font-[600]",children:"Products"})]})]}),n("div",{className:"flex flex-row flex-nowrap gap-x-[1.4rem] py-[2rem] justify-around",children:[n("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:xe,size:"1x",color:"blue"}),e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[700]",children:(i=(x=r[0])==null?void 0:x.shopId)==null?void 0:i.email})]}),n("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:pe,size:"1x",color:"blue"}),e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600]\r text-center",children:(N=(g=r[0])==null?void 0:g.shopId)==null?void 0:N.phoneNumber})]}),n("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:fe,size:"1x",color:"blue"}),n("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600] \r text-center",children:["\xA0\xA0",(S=(b=r[0])==null?void 0:b.shopId)==null?void 0:S.location]})]})]}),e("div",{className:"flex py-[2rem]",children:e("p",{className:"text-left text-[1.3rem] tracking-wide leading-relaxed text-blue-40",children:(w=(f=r[0])==null?void 0:f.shopId)==null?void 0:w.description})}),e("p",{className:"text-black-40 text-[1.6rem] md:text-[2.5rem] font-[700] py-[2rem]",children:"Products"}),e("div",{className:"flex flex-row flex-wrap gap-[2rem] justify-around",children:r==null?void 0:r.map((p,v)=>{var E;return e(ve,{name:p==null?void 0:p.name,price:p==null?void 0:p.price,img:p==null?void 0:p.images[0],id:p==null?void 0:p._id,userName:(E=p==null?void 0:p.ownerId)==null?void 0:E.userName},v)})})]})]}):n("div",{className:"flex flex-row self-center items-center py-[10rem] gap-x-[2rem] px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"This shop is empty right now."})]})})},Ee=({children:r})=>{const{token:t}=A(D);let s=ge();return(t==null?void 0:t.length)<1||t===void 0?e(be,{to:"/login",state:{from:s},replace:!0}):r},Pe=({children:r})=>{const t=A(D);let s=ge();return t.token.length>1?(I.fire({icon:"info",title:"you are already logged in\u{1F601}",timer:1500}),e(be,{to:"/",state:{from:s},replace:!0})):r},Yr=()=>n(He,{children:[n(R,{path:"/",element:e(xr,{}),children:[e(R,{path:"/",element:e(or,{})}),e(R,{path:"/searching",element:e(Mr,{})}),e(R,{path:"/product/:productId",element:e(qr,{})}),e(R,{path:"/shop/:shopId",element:e(Vr,{})}),e(R,{path:"/rooms/:roomId",element:e(_r,{})}),e(R,{path:"/orders",element:e(Ee,{children:e(Lr,{})})})]}),n(R,{path:"/myAccount",element:e(Ee,{children:e(Er,{})}),children:[e(R,{path:"/myAccount/profile",element:e(fr,{})}),e(R,{path:"/myAccount/shops",element:e(Cr,{})}),e(R,{path:"/myAccount/shops/:shopId",element:e(Hr,{})}),e(R,{path:"/myAccount/orders",element:e($r,{})})]}),e(R,{path:"/login",element:e(Pe,{children:e(Ke,{})})}),e(R,{path:"/register",element:e(Pe,{children:e(er,{})})})]});Ve.render(e(Ye.StrictMode,{children:e(Ge,{children:e(Je,{children:e(Yr,{})})})}),document.getElementById("root"));
