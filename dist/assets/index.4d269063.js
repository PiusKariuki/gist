import{j as W,a as se,R as G,b as L,r as o,u as U,L as le,l as J,F as k,f as ne,c as fe,d as be,e as Ne,g as we,h as ve,i as A,S as B,k as oe,m as ye,O as me,n as Se,o as ke,N as Y,p as Ce,q as Pe,s as Ie,t as Ee,v as ce,w as Ae,x as Fe,y as Le,z as $e,A as qe,B as Be,C as _e,D as $,E as Ue,G as ze,H as Re,I as De}from"./vendor.6b5d2fed.js";const Me=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};Me();const e=W.exports.jsx,m=W.exports.jsxs,ie=W.exports.Fragment,_=()=>({renderSpinner:t=>e("div",{className:`${t?"flex justify-center items-center":"hidden"}`,children:e("div",{className:"animate-spin rounded-full h-[4rem] w-[4rem] border-b-[0.2rem] \r border-green-40"})})}),de="http://localhost:5000",O=se.create({baseURL:de}),Oe=a=>({setSelf:t,onSet:n})=>{const l=localStorage.getItem(a);l!==null&&t(JSON.parse(l)),n((s,r,c)=>{c?localStorage.removeItem(a):localStorage.setItem(a,JSON.stringify(s))})},q=G({key:"user",default:{},effects_UNSTABLE:[Oe("gist_user"),({onSet:a})=>a(t=>console.log("current user",t))]}),V=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ue=/^[a-zA-Z0-9]{6,}$/,Te=()=>{const a=L(q),[t,n]=o.exports.useState(""),[l,s]=o.exports.useState(""),[r,c]=o.exports.useState(!1),[x,i]=o.exports.useState({}),[h,d]=o.exports.useState(""),[u,f]=o.exports.useState("");let b=U();return{errors:x,email:t,password:l,handleChange:p=>{switch(i(""),p.target.name){case"email":n(p.target.value),p.target.value.toLowerCase().match(V)?f(""):f("Invalid email");break;case"pass":s(p.target.value);break}},login:async p=>{var N;p.preventDefault(),c(!0),i({});try{const{data:g}=await O.post("/login",{email:t,password:l});a(g),c(!1),i(""),b("/")}catch(g){i((N=g==null?void 0:g.response)==null?void 0:N.data),c(!1)}},load:r,mailErrors:u,passErrors:h}},je=()=>{const{errors:a,email:t,password:n,handleChange:l,login:s,load:r,mailErrors:c,passErrors:x}=Te(),{renderSpinner:i}=_();return m("div",{className:"flex flex-col bg-transparent w-full items-center",children:[e("p",{className:"text-[1.6rem] text-green-80 font-semibold mb-[6rem]",children:"GIST SHOP"}),m("form",{className:"flex flex-col gap-y-[0.5rem] pt-[3rem] w-[75vw] md:w-[50vw] lg:w-[30vw]",onSubmit:s,children:[e("input",{onChange:l,type:"text",id:"email",name:"email",value:t,placeholder:"Email",className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:c||(a==null?void 0:a.emailErr)}),e("input",{onChange:l,type:"password",id:"pass",name:"pass",placeholder:"password",value:n,className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:x||(a==null?void 0:a.passErr)}),i(r),m("div",{className:"flex flex-col  mt-[4rem] md:gap-y-[2rem] ",children:[e("button",{disabled:x.length>1||c.length>1,type:"submit",className:"w-full btn bg-red-20  hover:bg-red-20 text-[1.2rem]\r text-white h-[2.8125rem] ",children:"Sign in"}),m("p",{className:"text-[1.2rem] text-center self-center font-semibold tracking-[0.02rem]\r mt-[2rem] md:mt-[0rem]",children:["Need an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(le,{to:"/register",children:"Signup"})})]})]})]})]})},He=()=>{const[a,t]=o.exports.useState(""),[n,l]=o.exports.useState(""),[s,r]=o.exports.useState(""),[c,x]=o.exports.useState(""),[i,h]=o.exports.useState(""),[d,u]=o.exports.useState(""),[f,b]=o.exports.useState(""),[w,y]=o.exports.useState(""),[p,N]=o.exports.useState(""),[g,P]=o.exports.useState(!1),[z,R]=o.exports.useState(""),[j,v]=o.exports.useState({}),S=L(q);return{mailError:a,passError:n,email:s,password:c,fname:i,lname:d,bio:f,userName:w,handleChange:I=>{switch(v(""),I.target.id){case"email":r(I.target.value),I.target.value.toLowerCase().match(V)?t(""):t("Invalid email");break;case"pass":x(I.target.value),I.target.value.match(ue)?l(""):l("Password should be atleast six characters long");break;case"fname":h(I.target.value);break;case"lname":u(I.target.value);break;case"userName":y(I.target.value);break;case"bio":b(I.target.value);break}},register:async I=>{var C,M;I.preventDefault(),P(!0),v({});let H={email:s,password:c,firstName:i,lastName:d,userName:w,bio:f,phonenumber:p};try{const{data:D}=await O.post("/register",H);S(D),P(!1),v("")}catch(D){((C=D.response.data)==null?void 0:C.code)===11e3&&t("This email is already registered"),v((M=D==null?void 0:D.response)==null?void 0:M.data),P(!1)}},load:g,errors:j,phone:p,phoneErr:z,handlePhoneChange:I=>{N(I),I.length<5?R("please enter a valid phone number"):R("")}}};const Ge=()=>{var p,N;const{mailError:a,passError:t,email:n,password:l,fname:s,lname:r,bio:c,userName:x,handleChange:i,register:h,load:d,errors:u,phone:f,phoneErr:b,handlePhoneChange:w}=He(),{renderSpinner:y}=_();return m("div",{className:"flex flex-col md:flex-row gap-x-[2.5rem]",children:[e("div",{className:"hidden lg:flex lg:min-w-[25%] bg-green-60 lg:min-h-screen"}),m("form",{className:"flex flex-col gap-y-[0.1rem] w-full lg:w-[50%] py-[3rem] px-[1rem]",onSubmit:h,children:[e("p",{className:"text-[2.2rem] text-blue-20 font-semibold mb-[1.5rem] justify-center",children:"GIST SHOP"}),e("p",{className:"text-[1rem] font-medium",children:"Create your account"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Email Address"}),e("input",{onChange:i,value:n,required:!0,type:"text",id:"email",name:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:a||((p=u==null?void 0:u.email)==null?void 0:p.message)||u.length>1&&u}),e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"First Name"}),e("input",{onChange:i,value:s,required:!0,type:"text",id:"fname",name:"fname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Last Name"}),e("input",{onChange:i,value:r,required:!0,type:"text",id:"lname",name:"lname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"userName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"userName"}),e("input",{onChange:i,value:x,required:!0,type:"text",id:"userName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Bio"}),e("input",{onChange:i,value:c,required:!0,id:"bio",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Phone Number"}),e(J,{country:"us",value:f,onChange:w,inputProps:{required:!0}}),e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Password"}),e("input",{onChange:i,value:l,required:!0,type:"password",id:"pass",name:"pass",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:t||((N=u==null?void 0:u.password)==null?void 0:N.message)}),e("div",{className:"mt-[1rem]",children:y(d)}),e("button",{disabled:t.length>1||a.length>1||d||b.length>0||f.length<4,type:"submit",className:"btn py-[0.5rem] mt-[3rem] md:max-w-[7rem] text-white text-[1.2rem]\r font-bold ",children:"Submit"}),m("p",{className:"text-[1rem] text-center md:text-left  font-semibold mt-[2rem]\r tracking-[0.02rem]",children:["Already have an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(le,{to:"/",children:"Login"})})]})]})]})},Ve=()=>m("div",{className:"flex flex-col md:flex-row py-[2.5rem] px-[2rem] md:gap-x-[2rem]",children:[m("div",{className:"flex flex-col order-2 md:order-1 self-center",children:[m("p",{className:"uppercase text-blue-20 font-[900] text-[2rem]",children:["Welcome to GIST-SHOP.",e("br",{}),e("span",{className:"text-black-40",children:"Social Shopping Platform."})]}),e("p",{className:"text-[1.2rem] mt-[1.5rem]",children:"An always live social shopping network, with your favorite brands and shops."}),e("button",{className:"bg-red-20 w-[9rem] rounded-md py-[1rem] px-[1rem] text-white\r font-[900] self-center mt-[1.4rem] hover:bg-red-600 hover:scale-110 trasition ease-in-out\r duration-300",children:"Join For Free"})]}),e("div",{className:"flex  bg-hero w-[80vw] h-[30vh] bg-center bg-cover bg-no-repeat order-1\r md:order-2 md:min-w-[55vw] md:h-[45vh] lg:h-[55vh] self-center rounded-xl"})]}),X=()=>{const[a,t]=o.exports.useState([]),[n,l]=o.exports.useState({}),[s,r]=o.exports.useState(""),[c,x]=o.exports.useState(!1);return{getProducts:async()=>{x(!0);try{let{data:d}=await O.get("/products");t(d),x(!1)}catch(d){x(!1),r(d)}},products:a,errors:s,load:c,getProductById:async d=>{x(!0);try{let{data:u}=await O.get(`/products/products/${d}`);l(u),x(!1)}catch(u){x(!1),r(u)}},product:n}},he=({name:a,price:t,img:n,userName:l,id:s})=>{let r=U();return m("div",{className:"flex flex-col p-[1rem] bg-white hover:border-[0.2rem] hover:border-gray-200\r border-[0.2rem] rounded-2xl border-white hover:shadow-2xl relative",onClick:()=>r(`/product/${s}`),children:[m("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:[a,e("br",{}),e(k,{icon:ne,size:"1x",color:"blue"}),"\xA0\xA0\xA0",e("span",{className:"",children:l})]}),e("div",{className:"flex relative w-[70vw] h-[40vh] md:w-[25rem] bg-no-repeat bg-center bg-cover rounded-xl\r border-[0.1rem]",style:{backgroundImage:`url(/img/${n})`},children:m("p",{className:"absolute bottom-[4%] right-[10%] text-white font-[600] text-[1.2rem]\r bg-black-80 px-[1rem]",children:["$ ",t]})})]})},Je=()=>{const{getProducts:a,products:t,errors:n,load:l}=X();return o.exports.useEffect(()=>{a()},[]),m("div",{className:"flex flex-col py-[3rem] px-[2rem] h-full w-screen",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Recommended products"}),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto w-screen",children:t.map((s,r)=>{var c;return e(he,{name:s==null?void 0:s.name,userName:(c=s==null?void 0:s.ownerId)==null?void 0:c.userName,img:s==null?void 0:s.images[0],price:s==null?void 0:s.price,id:s==null?void 0:s._id},r)})})]})},xe=()=>{const[a,t]=o.exports.useState([]),[n,l]=o.exports.useState(""),[s,r]=o.exports.useState(!1);return{shops:a,getShops:async()=>{r(!0);try{let{data:x}=await O.get("/shop");t(x),r(!1)}catch(x){r(!1),l(x)}},errors:n,load:s}},Ye=({name:a,userName:t,img:n,id:l})=>{let s=U();return m("div",{className:"flex relative w-[25rem] h-[40vh] bg-no-repeat bg-center bg-cover flex-shrink-0\r border-2 rounded-2xl hover:shadow-2xl",style:{backgroundImage:`url(/img/${n})`},onClick:()=>s(`/shop/${l}`),children:[m("p",{className:"absolute top-[4%] left-[10%] text-black-20 font-[600] text-[1.2rem]",children:[e("span",{className:"text-black-40",children:"by"}),"\xA0\xA0",t]}),e("p",{className:"absolute bottom-[4%] right-[40%] text-blue-20 font-[900] text-[1.4rem]",children:a})]})};const Ze=()=>{const{shops:a,getShops:t,errors:n,load:l}=xe();return o.exports.useEffect(()=>{t()},[]),m("div",{className:"flex flex-col py-[3rem] px-[2rem] bg-teal-50",children:[e("p",{className:"text-black-40 text-[2.2rem] font-[600] mb-[2rem]",children:"Popular shops"}),e("div",{className:"scroller flex flex-row gap-x-8 overflow-x-auto ",children:a.length>0&&a.map((s,r)=>e(Ye,{name:s.name,userName:s.userId.userName,img:s.image,id:s._id},r))})]})},Qe=()=>m(ie,{children:[e(Ve,{}),e(Ze,{}),e(Je,{})]}),Ke=a=>({setSelf:t,onSet:n})=>{const l=localStorage.getItem(a);l!==null&&t(JSON.parse(l)),n((s,r,c)=>{c?localStorage.removeItem(a):localStorage.setItem(a,JSON.stringify(s))})},Z=G({key:"cartAtom",default:[],effects_UNSTABLE:[Ke("gist-cart"),({onSet:a})=>a(t=>console.log("cart",t))]}),Q=G({key:"cartOpen",default:!1}),We=fe({key:"cartSelector",get:({get:a})=>{const t=a(Z);let n=0;return t.length>0&&t.forEach(l=>n+=l.price*l.quantity),n}}),ee=G({key:"menuOpen",default:!1}),re=G({key:"search",default:""}),Xe=()=>{const[a,t]=o.exports.useState(""),n=L(re);let l=U();return{handleChange:r=>{t(r.target.value),n(r.target.value),r.target.value.length>0&&l("/searching")},input:a,setInput:t}},er=()=>{const[a,t]=o.exports.useState(!1);let n=U();const l=L(re),s=L(Q),r=L(ee),{handleChange:c,input:x,setInput:i}=Xe();return m("div",{className:"flex flex-row flex-nowrap  py-[1rem] px-[0.5rem] md:px-[2rem] \r gap-x-[1rem]",children:[e("p",{className:"hidden md:flex text-blue-20 text-[1.6rem] font-semibold",children:"Gist-Shop"}),m("div",{className:"relative",children:[e("input",{onFocus:()=>{t(!0),n("/searching")},onBlur:()=>{i("")},onChange:c,className:`${a?"w-[90vw] md:w-[35vw] lg:w-[45vw] xl:w-[55vw] border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none":"little:w-[25vw] border-2 relative shadow-lg rounded-md px-[2rem] h-[2.6rem] outline-none md:w-[35vw] lg:w-[45vw] xl:w-[55vw]"}`,placeholder:"Search Gist-Shop",value:x}),e(k,{icon:be,size:"1x",color:"red",className:`${a?"absolute right-[17%] top-[30%]":"hidden"}`,onClick:()=>{l(""),i(""),t(!1),n("/")}}),e(k,{icon:Ne,size:"1x",color:"blue",className:`${a?"absolute right-[5%] top-[30%]":"hidden md:absolute right-[5%] top-[30%]"}`,onClick:()=>{n("/searching")}})]}),e("button",{className:`${a?"hidden":"flex w-[8rem] ml-auto  py-[0.3rem] self-center border-2 border-blue-20 text-[1.2rem] hover:bg-blue-400 rounded-md text-center hover:text-white justify-around  font-[600] "}
             
             `,onClick:()=>n("/login"),children:"Sign in"}),e(k,{onClick:()=>{s(h=>!h),r(h=>h&&!h)},icon:we,color:"blue",className:`${a?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem]  fa-lg md:fa-3x"}`}),e(k,{onClick:()=>{r(h=>!h),s(h=>h&&!h)},icon:ve,color:"blue",className:`${a?"hidden md:flex md:ml-[2rem] self-center fa-lg md:fa-3x":"self-center md:ml-[2rem] fa-lg md:fa-3x"}`})]})},te=()=>{const a=L(Z),t=A(We);return{addToCart:(s,r,c,x,i,h,d)=>{a(u=>[{name:x,quantity:s,price:r,image:c,shopId:i,productId:h,id:d},...u]),B.fire({icon:"success",text:"successfully added to cart",timer:1e3})},removeItem:s=>{a(r=>r.filter(c=>c.id!==s))},totalValue:t}},rr=({image:a,name:t,amount:n,price:l,id:s})=>{const{removeItem:r}=te();return m("div",{className:"w-full bg-white flex flex-col border-[0.1rem] border-black-40 rounded-md \r px-[1rem] py-[0.6rem] gap-y-[1rem]",children:[m("div",{className:"flex flex-row flex-nowrap text-[1rem] text-black-40 font-[600] justify-between",children:[e("div",{style:{backgroundImage:`url(/img/${a})`},className:"border-[0.12rem]  border-black-40 h-[4rem] w-[4rem] bg-cover bg-center\r bg-no-repeat rounded-md"}),e("p",{className:"text-blue-20 text-left w-[6rem]",children:t})]}),m("div",{className:"flex flex-row flex-nowrap justify-between text-[1rem] text-black-40 \r font-[600]",children:[m("p",{className:"",children:["Items: ",e("span",{className:"text-blue-20 text-[1.3rem]",children:n})]}),m("p",{className:"text-blue-20",children:["$ ",l*n]})]}),e("div",{className:"flex flex-row justify-end",children:e(k,{onClick:()=>r(s),icon:oe,size:"1x",color:"red"})})]})},tr=()=>{const{addToCart:a,removeItem:t,totalValue:n}=te(),l=A(Z),s=L(Q);let r=U();return m("div",{className:"w-[90vw] md:w-[45vw] flex flex-col px-[1rem] py-[2rem] gap-y-[2rem]",children:[m("div",{className:"flex flex-row justify-between text-[1.2rem] tracking-wider font-[600]",children:[e("p",{className:"",children:"Estimated total"}),m("p",{className:"text-blue-20",children:["$",n]})]}),e("div",{className:"flex border-[0.12rem]  border-black-40 rounded-2xl px-[0.5rem] py-[0.5rem] \r bg-white",children:e("p",{className:"text-red-20 text-[1rem] font-[600] tracking-wide leading-relaxed",children:"Items in your cart will not be reserved. Complete checkout to secure your order"})}),e("button",{disabled:l.length===0,onClick:()=>{s(c=>!c),r("/orders")},type:"button",className:"bg-red-20 w-full md:w-[60%] py-[0.7rem] px-[1.4rem] rounded-xl hover:bg-red-400 \r md:hover:scale-105 text-white text-[1.3rem] font-[700] disabled:bg-gray-300 self-center",children:"Checkout"}),e("div",{className:"flex flex-col gap-[1.3rem]",children:l.length>0?l==null?void 0:l.map((c,x)=>e(rr,{image:c==null?void 0:c.image,name:c.name,price:c.price,amount:c.quantity,id:c.id},x)):m("div",{className:"flex flex-row self-center items-center py-[3rem] gap-x-[2rem]\r px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"Your cart is empty."})]})})]})},ar=({setMenuOpen:a})=>{let t=U();return m("div",{className:"w-[90vw] md:w-[40vw] min-h-screen flex flex-col gap-y-[2rem] bg-teal-50 \r px-[2rem] py-[3rem] rounded-xl",children:[m("div",{className:"flex flex-row cursor-pointer items-center gap-x-[1rem]",onClick:()=>{t("/myAccount"),a(!1)},children:[e(k,{icon:ne,size:"2x",color:"#1e90ff"}),e("p",{className:"text-[1.4rem] font-[700]",children:"My Account"})]}),m("div",{className:"flex flex-row cursor-pointer items-center gap-x-[1rem] pl-[0.5rem]",children:[e(k,{icon:ye,size:"2x",color:"red"}),e("p",{className:"text-[1.4rem] font-[700] text-red-20",children:"Logout"})]})]})},sr=()=>{const a=A(Q),t=L(Q),n=A(ee),l=L(ee),s=o.exports.useRef();return(c=>{o.exports.useEffect(()=>{const x=i=>{a&&c.current&&c.current.contains(i.target)?t(h=>h&&!h):n&&c.current&&c.current.contains(i.target)&&l(h=>h&&!h)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[a,n])})(s),m("div",{className:"flex flex-col flex-nowrap overflow-x-clip",children:[e("div",{children:e(er,{})}),m("div",{className:"relative",children:[e("div",{className:`${a?"absolute right-0 top-0 bg-teal-50 border-[0.1rem] border-black-40 min-h-screen rounded-l-xl z-50":"hidden"}`,children:e(tr,{})}),e("div",{onBlur:()=>l(c=>!c),className:`${n?"absolute right-0 top-0 bg-teal-50 border-[0.1rem] border-black-40 min-h-screen rounded-l-xl z-50":"hidden"}`,children:e(ar,{setMenuOpen:l})}),e("div",{ref:s,children:e(me,{})})]})]})},T=()=>{const a=A(q),t=a==null?void 0:a.token,n=se.create({baseURL:de});return n.interceptors.request.use(l=>(l.headers.Authorization=`Bearer ${t}`,l)),{Axios:n}},lr=()=>{const a=L(q),t=A(q),[n,l]=o.exports.useState(""),[s,r]=o.exports.useState(""),[c,x]=o.exports.useState(t==null?void 0:t.email),[i,h]=o.exports.useState(""),[d,u]=o.exports.useState(t==null?void 0:t.firstName),[f,b]=o.exports.useState(t==null?void 0:t.lastName),[w,y]=o.exports.useState(t==null?void 0:t.bio),[p,N]=o.exports.useState(t==null?void 0:t.userName),[g,P]=o.exports.useState(t==null?void 0:t.phoneNumber),[z,R]=o.exports.useState(!1),[j,v]=o.exports.useState(""),{Axios:S}=T(),[E,F]=o.exports.useState({});return{mailError:n,passError:s,email:c,password:i,fname:d,lname:f,bio:w,userName:p,handleChange:C=>{switch(F(""),C.target.id){case"email":x(C.target.value),C.target.value.toLowerCase().match(V)?l(""):l("Invalid email");break;case"pass":h(C.target.value),C.target.value.match(ue)?r(""):r("Password should be atleast six characters long");break;case"fname":u(C.target.value);break;case"lname":b(C.target.value);break;case"userName":N(C.target.value);break;case"bio":y(C.target.value);break}},load:z,errors:E,phone:g,phoneErr:j,handlePhoneChange:C=>{P(C),C.length<5?v("please enter a valid phone number"):v("")},handleSubmit:async C=>{C.preventDefault(),R(!0);try{let{data:M}=await S.put(`/users/${t==null?void 0:t._id}`,{firstName:d,lastName:f,email:c,bio:w,userName:p});B.fire({icon:"success",text:"Your profile has been updated",timer:1500}),a(M),R(!1)}catch(M){let D=M.response.data.split(":");R(!1),B.fire({icon:"error",text:D[2]})}}}},nr=()=>{var p;const{mailError:a,passError:t,email:n,password:l,fname:s,lname:r,bio:c,userName:x,handleChange:i,load:h,errors:d,phone:u,phoneErr:f,handlePhoneChange:b,handleSubmit:w}=lr(),{renderSpinner:y}=_();return m("form",{className:"flex flex-col md:flex-row gap-y-[0.1rem] w-full py-[3rem] px-[3rem] \r justify-around",onSubmit:w,children:[m("div",{className:"flex flex-col md:w-[40%]",children:[e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"First Name"}),e("input",{onChange:i,value:s,required:!0,type:"text",id:"fname",name:"fname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Last Name"}),e("input",{onChange:i,value:r,required:!0,type:"text",id:"lname",name:"lname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"userName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"userName"}),e("input",{onChange:i,value:x,required:!0,type:"text",id:"userName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Bio"}),e("input",{onChange:i,value:c,required:!0,id:"bio",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"})]}),m("div",{className:"flex flex-col md:w-[40%]",children:[e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Email Address"}),e("input",{onChange:i,value:n,required:!0,type:"text",id:"email",name:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Phone Number"}),e(J,{country:"ke",value:u,onChange:b,inputProps:{required:!0}}),e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Password"}),e("input",{onChange:i,value:l,type:"password",id:"pass",name:"pass",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:t||((p=d==null?void 0:d.password)==null?void 0:p.message)}),e("div",{className:"mt-[1rem]",children:y(h)}),e("button",{disabled:t.length>1||a.length>1||h||f.length>0||(u==null?void 0:u.length)<4,type:"submit",className:"bg-red-20 py-[0.5rem] mt-[3rem]  text-white text-[1.4rem] rounded-lg\r font-bold w-[12rem] hover:bg-red-600 self-center disabled:bg-gray-400",children:"Submit"})]})]})},pe=({name:a,img:t,userName:n,id:l})=>{let s=U();return m("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] p-[2rem]\r flex-shrink-0",onClick:()=>s(`/shop/${l}`),children:[e("div",{style:{backgroundImage:`url(/img/${t})`},className:"bg-contain bg-center bg-no-repeat w-[60vw] md:w-[30vw] lg:w-[24vw] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem]",children:a}),m("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",n]})]})},or=()=>{const{_id:a}=A(q),{Axios:t}=T(),[n,l]=o.exports.useState([]),[s,r]=o.exports.useState(!1);return{myShops:n,load:s,getShopsByUserId:async()=>{r(!0);try{let{data:x}=await t.get(`/shop/${a}`);l(x),r(!1)}catch{B.fire({icon:"error",text:"error"}),r(!1)}}}},ae=a=>new Promise(t=>{let n="",l=new FileReader;l.readAsDataURL(a),l.onload=()=>{n=l.result,t(n)}}),mr=()=>{const{_id:a}=A(q),[t,n]=o.exports.useState(""),[l,s]=o.exports.useState(""),[r,c]=o.exports.useState(""),[x,i]=o.exports.useState(""),[h,d]=o.exports.useState(""),[u,f]=o.exports.useState(""),[b,w]=o.exports.useState(""),[y,p]=o.exports.useState(""),[N,g]=o.exports.useState(!1),{Axios:P}=T();return{shopName:t,email:h,location:l,desc:x,img:r,phone:u,createShop:async S=>{g(!0),S.preventDefault();try{await P.post(`/shop/${a}`,{name:t,email:h,location:l,phoneNumber:u,description:x,image:r}),B.fire({icon:"success",text:"Your shop has been created",timer:1e3}),g(!1)}catch(E){let F=E.response.data.split(":");g(!1),B.fire({icon:"error",text:E.response.status===409?"Please choose a different shop name":F[2],timer:2e3})}},handleChange:S=>{switch(S.target.id){case"shopName":n(S.target.value);break;case"location":s(S.target.value);break;case"desc":i(S.target.value);break;case"img":ae(S.target.files[0]).then(F=>{c(F)}).catch(F=>console.log(F));break;case"email":d(S.target.value),S.target.value.toLowerCase().match(V)?w(""):w("Invalid email");break}},handlePhoneChange:S=>{f(S),S.length<5?p("please enter a valid phone number"):p("")},phoneErr:y,mailError:b,load:N,clearAttributes:()=>{i(""),d(""),c(""),s(""),w(""),f(""),p(""),n("")}}},cr=({openCreate:a,setOpenCreate:t})=>{const{shopName:n,email:l,location:s,desc:r,img:c,phone:x,createShop:i,handleChange:h,handlePhoneChange:d,phoneErr:u,mailError:f,load:b,clearAttributes:w}=mr(),{renderSpinner:y}=_();return m("div",{className:`${a?"flex flex-col w-[95vw]":"hidden"}`,children:[y(b),e("p",{className:"text-[1.6rem] text-black-80 text-center",children:"Create Your Shop"}),m("form",{action:"",onSubmit:p=>{i(p),w()},className:"py-[2rem] flex flex-col lg:flex-row px-[2rem] gap-y-[0.5rem]\r items-center md:px-[12rem] md:justify-around lg:px-0",children:[m("div",{className:" flex flex-col w-full lg:max-w-[20%] ",children:[e("label",{htmlFor:"shopName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r mt-[2rem] ",children:"Shop Name"}),e("input",{onChange:h,value:n,required:!0,type:"text",id:"shopName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"location",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Location"}),e("input",{onChange:h,required:!0,value:s,type:"text",id:"location",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop email"}),e("input",{onChange:h,value:l,required:!0,type:"text",id:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-20",children:f}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop Telephone"}),e(J,{country:"us",value:x,onChange:d,inputProps:{required:!0},inputStyle:{width:"15rem"}}),e("p",{className:"text-red-20",children:u})]}),m("div",{className:"flex flex-col w-full lg:max-w-[20%]",children:[e("img",{src:c,alt:"",className:"hidden md:flex w-[16rem]"}),e("label",{htmlFor:"img",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem]",children:"Profile Photo"}),e("input",{onChange:h,required:!0,type:"file",id:"img",accept:"image/png",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"})]}),m("div",{className:"flex flex-col w-full lg:max-w-[40%]",children:[e("label",{htmlFor:"desc",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:h,value:r,required:!0,rows:5,cols:50,id:"desc",className:"border-[0.0625rem] border-black-70 outline-none text-blue-20\r rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500 "}),m("div",{className:"flex flex-row justify-between",children:[e("button",{type:"submit",disabled:f.length>0||b||u.length>0||x.length<3,className:"bg-blue-20  p-[0.5rem] md:w-[12rem] rounded-lg\r self-center text-white text-[1.4rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Submit"}),e("button",{onClick:()=>{t(!1),w()},type:"button",className:"bg-red-20  p-[0.5rem] md:w-[12rem] rounded-lg\r self-center text-white text-[1.4rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Close"})]})]})]})]})},ir=()=>{A(q);const[a,t]=o.exports.useState(""),[n,l]=o.exports.useState(""),[s,r]=o.exports.useState(""),[c,x]=o.exports.useState(""),[i,h]=o.exports.useState(""),[d,u]=o.exports.useState(""),[f,b]=o.exports.useState(""),[w,y]=o.exports.useState(""),[p,N]=o.exports.useState(!1),{Axios:g}=T();return{shopName:a,email:i,location:n,desc:c,img:s,phone:d,handleChange:v=>{switch(v.target.id){case"shopName":t(v.target.value);break;case"location":l(v.target.value);break;case"desc":x(v.target.value);break;case"img":ae(v.target.files[0]).then(E=>{r(E)}).catch(E=>console.log(E));break;case"email":h(v.target.value),v.target.value.toLowerCase().match(V)?b(""):b("Invalid email");break}},handlePhoneChange:v=>{u(v),v.length<5?y("please enter a valid phone number"):y("")},phoneErr:w,mailError:f,load:p,updateShop:async(v,S)=>{N(!0),v.preventDefault();try{await g.put(`/shop/shop/${S}`,{name:a,email:i,location:n,phoneNumber:d,description:c}),B.fire({icon:"success",text:"Your shop has been updated",timer:1e3}),N(!1)}catch(E){let F=E.response.data.split(":");N(!1),B.fire({icon:"error",text:E.response.status===409?"Please choose a different shop name":F[2],timer:2e3})}},getShopById:async v=>{N(!0);try{let{data:{name:S,email:E,location:F,phoneNumber:K,image:I,description:H}}=await g.get(`/shop/shop/${v}`);t(S),l(F),x(H),u(K),h(E),N(!1)}catch{N(!1)}}}},dr=()=>{const{_id:a}=A(q),[t,n]=o.exports.useState(""),[l,s]=o.exports.useState(0),[r,c]=o.exports.useState(""),[x,i]=o.exports.useState([]),[h,d]=o.exports.useState(!1),{Axios:u}=T(),f=()=>{n(""),s(0),c(""),i([""])};return{name:t,price:l,quantity:r,handleChange:p=>{switch(p.target.id){case"name":n(p.target.value);break;case"price":s(p.target.value);break;case"quantity":c(p.target.value);break;case"images":ae(p.target.files[0]).then(N=>{i(g=>[...g,N])}).catch(N=>console.log(N));break}},clearAttributes:f,addProduct:async(p,N)=>{d(!0),p.preventDefault();try{await u.post(`/products/${N}`,{name:t,price:l,quantity:r,images:x,ownerId:a}),B.fire({icon:"success",text:"A product has been added to your shop",timer:1e3}),f(),d(!1)}catch(g){let P=g.response.data.split(":");d(!1),B.fire({icon:"error",text:g.response.status===409?"Please choose a different shop name":P[2],timer:2e3})}},load:h,images:x,setImages:i,removeImg:p=>{p>-1&&i(N=>N.filter(g=>N.indexOf(g)!==p))}}},ur=({openProduct:a,setOpenProduct:t,shopId:n})=>{const{name:l,price:s,quantity:r,handleChange:c,clearAttributes:x,addProduct:i,load:h,images:d,setImages:u,removeImg:f}=dr();return o.exports.useState([]),e("div",{className:`${a?"flex flex-col items-center mb-[4rem]":"hidden"}`,children:m("form",{className:"flex flex-col md:flex-row md:justify-around gap-x-[8rem]",onSubmit:b=>{i(b,n)},children:[m("div",{className:"flex flex-col  w-[80vw] md:w-[30vw]",children:[e("label",{htmlFor:"name",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Product name"}),e("input",{onChange:c,required:!0,value:l,type:"text",id:"name",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"price",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Price"}),e("input",{onChange:c,required:!0,value:s,type:"number",id:"price",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"quantity",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Quantity"}),e("input",{onChange:c,required:!0,value:r,type:"number",id:"quantity",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"})]}),m("div",{className:"flex flex-col w-[80vw] md:w-[30vw]",children:[e("div",{className:"hidden md:flex md:flex-row",children:d==null?void 0:d.map((b,w)=>m("div",{className:"relative",children:[e("img",{src:b,alt:"",className:"h-[5rem] rounded-md"},w),e(k,{icon:oe,size:"2x",color:"black",onClick:()=>{f(w)},className:"absolute bottom-0 right-0"})]},w))}),e("label",{htmlFor:"images",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Add Images"}),e("input",{onChange:c,required:!0,type:"file",id:"images",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),m("div",{className:"flex flex-row justify-around my-[4rem] text-white",children:[e("button",{type:"submit",className:"p-[1rem] bg-blue-20 rounded-md",children:"Submit"}),e("button",{type:"button",onClick:()=>t(!1),className:"p-[1rem] bg-red-20 rounded-md",children:"Close"})]})]})]})})},hr=({open:a,shopId:t,setOpen:n})=>{const{shopName:l,email:s,location:r,desc:c,img:x,phone:i,handleChange:h,handlePhoneChange:d,phoneErr:u,mailError:f,load:b,updateShop:w,getShopById:y}=ir(),[p,N]=o.exports.useState(!0),{renderSpinner:g}=_();return o.exports.useEffect(()=>{y(t)},[a]),m("div",{className:`${a?"flex flex-col z-50 bg-gray-300 rounded-2xl justify-center w-[100vw] min-h-[100%]":"hidden"}`,children:[e("div",{className:"",children:g(b)}),m("form",{action:"",onSubmit:P=>{w(P,t),n(!1)},className:"py-[2rem] flex flex-col lg:flex-row px-[2rem] gap-y-[0.5rem]  items-center \r md:px-[12rem] md:justify-around lg:px-0",children:[m("div",{className:" flex flex-col w-full lg:max-w-[20%] ",children:[e("label",{htmlFor:"shopName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r mt-[2rem] ",children:"Shop Name"}),e("input",{onChange:h,value:l,required:!0,type:"text",id:"shopName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"location",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Location"}),e("input",{onChange:h,required:!0,value:r,type:"text",id:"location",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none \r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop email"}),e("input",{onChange:h,value:s,required:!0,type:"text",id:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none\r text-blue-20 rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-20",children:f}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Shop Telephone"}),e(J,{country:"us",value:i,onChange:d,inputProps:{required:!0},inputStyle:{width:"14rem"}}),e("p",{className:"text-red-20",children:u})]}),m("div",{className:"flex flex-col w-full lg:max-w-[40%]",children:[e("label",{htmlFor:"desc",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[1.2rem] mb-[0.5rem]\r pt-[2rem] ",children:"Description"}),e("textarea",{onChange:h,value:c,required:!0,rows:5,cols:50,id:"desc",className:"border-[0.0625rem] border-black-70 outline-none text-blue-20\r rounded-[0.25rem] font-[600] text-[1.3rem] tracking-wide px-[1rem] \r focus:ring-2 focus:ring-blue-500 "}),m("div",{className:"flex flex-row justify-between gap-x-[3rem]",children:[e("button",{type:"submit",disabled:f.length>0||b||u.length>0||i.length<3,className:"bg-blue-20 px-[1rem] py-[0.5rem] w-[6rem] rounded-lg\r self-center text-white text-[1rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Submit"}),e("button",{type:"button",onClick:()=>n(!1),className:"bg-red-20 px-[1rem] py-[0.5rem] w-[6rem] rounded-lg\r self-center text-white text-[1rem] font-[700] mt-[4rem] disabled:bg-gray-400",children:"Close"})]})]})]}),m("button",{onClick:()=>N(P=>!P),className:"bg-blue-20 text-white p-[1rem] w-[10rem] self-center rounded-md\r my-[4rem]",children:[e(k,{icon:Se,size:"2x",className:"mr-[1rem]"}),"Add Product"]}),e(ur,{openProduct:p,setOpenProduct:N,shopId:t})]})},xr=()=>{const{myShops:a,load:t,getShopsByUserId:n}=or(),{renderSpinner:l}=_(),[s,r]=o.exports.useState(!1),[c,x]=o.exports.useState(""),[i,h]=o.exports.useState(!1);return o.exports.useEffect(()=>{n()},[]),m("div",{className:"flex flex-col flex-nowrap items-center gap-[2rem] px-[2rem] py-[3rem] \r relative",children:[m("button",{onClick:()=>h(d=>!d),className:`${i?"hidden":"flex p-[1rem] bg-blue-20 rounded-md text-white text-center text-[1.4rem]"}`,children:[e(k,{icon:ke,size:"2x",className:"self-center mr-[1rem]"}),"Create Shop"]}),e(cr,{openCreate:i,setOpenCreate:h}),l(t),m("div",{className:`${i?"hidden":"flex flex-col md:flex-row justify-betweeen gap-[2rem] md:gap-[2rem] md:px-[2rem] md:flex-wrap"}`,children:[a.map((d,u)=>m("div",{className:"relative",children:[e(pe,{img:d.image,name:d.name,userName:d.userId.userName,id:d._id},u),e("button",{onClick:()=>{x(d._id),r(!0)},className:"bg-red-20 px-[2rem] py-[1rem] rounded-lg absolute top-[5%]\r right-[5%] text-white text-[1.4rem]",children:"Edit"})]},u)),e("div",{className:"absolute left-0 ",children:e(hr,{open:s,shopId:c,setOpen:r})})]})]})},pr=()=>m("div",{className:"flex flex-row flex-nowrap justify-around py-[3rem] border-b-2 border-black-40",children:[m(Y,{to:"/",className:"flex flex-row flex-nowrap items-center \r gap-x-[0.2rem]",children:[e(k,{icon:Ce,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] text-blue-20",children:"Home"})]}),m(Y,{to:"/myAccount",className:"flex flex-row flex-nowrap items-center \r gap-x-[0.2rem]",children:[e(k,{icon:Pe,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] text-blue-20",children:"User"})]}),m(Y,{to:"/myAccount/shops",className:"flex flex-row flex-nowrap items-center \r gap-x-[0.2rem]",children:[e(k,{icon:Ie,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] text-blue-20",children:"Shop"})]}),m(Y,{to:"/myAccount/orders",className:"flex flex-row flex-nowrap items-center \r gap-x-[0.2rem]",children:[e(k,{icon:Ee,size:"1x",color:"#00FFFF"}),e("p",{className:"text-[0.9rem] md:text-[1.4rem] font-[700] text-blue-20",children:"Orders"})]})]}),gr=()=>m("div",{className:"flex flex-col overflow-x-clip",children:[e(pr,{}),e(me,{})]}),fr=()=>{const[a,t]=o.exports.useState(""),[n,l]=o.exports.useState(""),[s,r]=o.exports.useState(!1),[c,x]=o.exports.useState([]),[i,h]=o.exports.useState([]);A(Z);const{_id:d}=A(q),{Axios:u}=T();return{billing:a,shipping:n,handleChange:p=>{switch(p.target.id){case"billing":t(p.target.value);break;case"shipping":l(p.target.value);break}},getBillingByUserId:async()=>{r(!0);try{let{data:p}=await u.get(`/billing/all/${d}`);x(p),r(!1)}catch{r(!1)}},getShippingByUserId:async()=>{r(!0);try{let{data:p}=await u.get(`/address/all/${d}`);h(p),r(!1)}catch{r(!1)}},userShippings:i,userBillings:c,load:s,handleSubmit:async p=>{p.preventDefault()}}},br=()=>{const{renderSpinner:a}=_(),{billing:t,shipping:n,handleChange:l,getBillingByUserId:s,getShippingByUserId:r,userShippings:c,userBillings:x,load:i,handleSubmit:h}=fr();return o.exports.useEffect(()=>{s(),r()},[]),e("div",{className:"flex flex-col",children:m("form",{onSubmit:h,action:"",className:"flex flex-col gap-y-[0.1rem] w-full lg:w-[50%] py-[3rem] px-[1rem] self-center",children:[e("label",{htmlFor:"billing",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Billing Address"}),e("select",{onChange:l,value:t,required:!0,id:"billing",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500",children:x==null?void 0:x.map((d,u)=>e("option",{value:d==null?void 0:d.name,children:d==null?void 0:d.name},u))}),e("label",{htmlFor:"shipping",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Shipping Address"}),e("select",{onChange:l,value:n,required:!0,id:"shipping",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500",children:c==null?void 0:c.map((d,u)=>e("option",{value:d==null?void 0:d.name,children:d==null?void 0:d.name},u))}),e("div",{className:"mt-[1rem]",children:a(i)}),e("button",{type:"submit",className:"bg-red-20 px-[2rem] py-[1rem] w-[16rem] self-center \r mt-[2rem] text-[1.4rem] text-white font-[700] rounded-xl hover:bg-red-600",children:"Submit order"})]})})},Nr=()=>{var u,f;const[a,t]=o.exports.useState(0),[n,l]=o.exports.useState(0),{getProductById:s,product:r,errors:c,load:x}=X(),{renderSpinner:i}=_(),{productId:h}=ce(),{addToCart:d}=te();return o.exports.useEffect(()=>{s(h)},[]),m("div",{className:"flex flex-col items-center px-[1rem] py-[1rem] md:px-[2rem] gap-[5rem]",children:[m("div",{className:"flex flex-col md:flex-row flex-wrap \r justify-around md:justify-center gap-y-[2.2rem] md:gap-[2rem] items-center",children:[i(x),m("div",{className:"flex flex-col gap-y-[2rem] self-center",children:[e("p",{className:"text-center text-black-40 font-[600] text-[2rem]",children:r==null?void 0:r.name}),((u=r==null?void 0:r.images)==null?void 0:u.length)>0?e("div",{style:{backgroundImage:`url(/img/${r.images[a]})`},className:"bg-cover bg-center bg-no-repeat w-[60vw] h-[20vh] self-center\r md:w-[20vw]  border-[0.12rem] border-black-40 rounded-2xl"}):null,e("p",{className:"text-center text-red-20 font-[600] text-[1.4rem]",children:(r==null?void 0:r.quantity)===0?"Out of stock":r.price===void 0?"":"$"+(r==null?void 0:r.price)})]}),m("div",{className:"flex flex-row gap-x-[1rem]",children:[m("div",{className:"inline-flex rounded-md shadow-sm border-[0.1rem] border-black-40",children:[e("button",{onClick:()=>l(b=>b===0?0:b-1),disabled:r.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] rounded-l-lg text-black-40 \r text-center",children:"-"}),e("button",{disabled:r.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] text-black-40 border-black-40\r border-x-[0.1rem]",children:n}),e("button",{onClick:()=>l(b=>b===(r==null?void 0:r.quantity)?b:b+1),disabled:r.quantity===0,type:"button",className:"px-[1rem] py-[0.2rem] font-[600] text-black-40 rounded-r-lg \r ",children:"+"})]}),e("button",{disabled:n===0,onClick:()=>{d(n,r==null?void 0:r.price,r==null?void 0:r.images[0],r==null?void 0:r.name,r==null?void 0:r.shopId,r==null?void 0:r._id,Ae())},className:"bg-red-20 px-[1rem] py-[0.1rem] text-white font-[600] text-[1rem]\r w-[8rem] rounded-lg disabled:bg-gray-400",children:"Add to Cart"})]})]}),e("div",{className:"hidden md:flex flex-row gap-[2rem]",children:(f=r==null?void 0:r.images)==null?void 0:f.map((b,w)=>e("div",{style:{backgroundImage:`url(/img/${b})`},className:"w-[12rem] h-[6rem] rounded-2xl bg-cover bg-center bg-no-repeat\r border-[0.12rem] border-black-40",onClick:()=>t(w)},w))})]})},wr=({name:a,img:t,price:n,userName:l,id:s})=>{let r=U();return m("div",{className:"flex flex-col rounded-2xl shadow-lg  border-[0.2rem] px-[0.3rem] py-[0.4rem]",onClick:()=>r(`/product/${s}`),children:[e("div",{style:{backgroundImage:`url(/img/${t})`},className:"bg-cover bg-center bg-no-repeat w-[14rem] h-[12rem] rounded-2xl"}),e("p",{className:"text-blue-20 font-[900] text-[1.4rem] mb-[1rem] max-w-[10rem]",children:a}),m("p",{className:"text-black-40 font-[900] text-[1.4rem] mb-[1rem]",children:["by:\xA0\xA0\xA0",l]}),m("p",{className:"text-red-20 font-[900] text-[1.4rem] mb-[1rem]",children:["$:\xA0\xA0\xA0",n]})]})};const vr=()=>{const[a,t]=o.exports.useState([]),[n,l]=o.exports.useState([]),s=A(re),{getProducts:r,products:c,load:x}=X(),{renderSpinner:i}=_(),{shops:h,getShops:d}=xe();return o.exports.useEffect(()=>{r(),d()},[]),o.exports.useEffect(()=>{c.length>0&&t(c.filter(u=>u.name.toLowerCase().includes(s.toLowerCase()))),h.length>0&&l(h.filter(u=>u.name.toLowerCase().includes(s.toLowerCase())))},[s]),m("div",{className:"flex flex-col px-[2rem] md:px-[3rem]",children:[i(x),a.length>0?e("p",{className:"text-black-40 font-[800] text-[1.6rem] md:text-[2rem] my-[2rem]",children:"Products"}):null,e("div",{className:"scroller flex flex-row overflow-x-auto gap-x-[2rem]",children:a.length>0&&a.map((u,f)=>e(wr,{price:u.price,img:u.images[0],userName:u.ownerId.userName,name:u.name,id:u._id},f))}),n.length>0?e("p",{className:"text-black-40 font-[800] text-[1.6rem] md:text-[2rem] my-[2rem]",children:"Shops"}):null,e("div",{className:"flex flex-row flex-wrap items-center gap-[2rem]\r ",children:n.length>0&&n.map((u,f)=>e(pe,{img:u.image,name:u.name,userName:u.userId.userName,id:u._id},f))})]})},yr=()=>{const[a,t]=o.exports.useState([]),[n,l]=o.exports.useState(""),[s,r]=o.exports.useState(!1);return{shopDetails:a,getShopDetails:async x=>{r(!0);try{let{data:i}=await O.get(`/products/${x}`);t(i),r(!1)}catch(i){l(i),r(!1)}},load:s,errors:n}},Sr=()=>{var c,x,i,h,d,u,f,b,w,y,p,N;const{shopDetails:a,getShopDetails:t,load:n,errors:l}=yr();let{shopId:s}=ce();const{renderSpinner:r}=_();return o.exports.useEffect(()=>{t(s)},[]),e(ie,{children:n||a.length>0?m("div",{className:"flex flex-col px-[2rem] pb-[2rem]",children:[r(n),m("div",{className:"flex flex-col",children:[e("div",{className:"w-full py-[1rem] bg-white sticky top-0 z-50 border-b-4",children:e("p",{className:"text-[2rem] md:text-[2.5rem] text-black-40 font-[700]\r text-center ",children:(x=(c=a[0])==null?void 0:c.shopId)==null?void 0:x.name})}),m("div",{className:"flex flex-row flex-nowrap justify-around py-[2rem]",children:[a.length>0?e("div",{style:{backgroundImage:`url(/img/${(h=(i=a[0])==null?void 0:i.shopId)==null?void 0:h.image})`},className:"h-[6rem] w-[6rem] rounded-full bg-contain bg-center \r bg-no-repeat self-center bg-teal-100"}):null,m("div",{className:"flex flex-col gap-0 self-center items-center",children:[e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600]",children:a.length}),e("p",{className:"text-black-40 text-[1rem] md:text-[1.4rem] font-[600]",children:"Products"})]})]}),m("div",{className:"flex flex-row flex-nowrap gap-x-[1.4rem] py-[2rem] justify-around",children:[m("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:Fe,size:"1x",color:"blue"}),e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[700]",children:(u=(d=a[0])==null?void 0:d.shopId)==null?void 0:u.email})]}),m("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:Le,size:"1x",color:"blue"}),e("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600]\r text-center",children:(b=(f=a[0])==null?void 0:f.shopId)==null?void 0:b.phoneNumber})]}),m("div",{className:"flex flex-col gap-0 items-center",children:[e(k,{icon:$e,size:"1x",color:"blue"}),m("p",{className:"text-blue-20 text-[1rem] md:text-[1.4rem] font-[600] \r text-center",children:["\xA0\xA0",(y=(w=a[0])==null?void 0:w.shopId)==null?void 0:y.location]})]})]}),e("div",{className:"flex py-[2rem]",children:e("p",{className:"text-left text-[1.3rem] tracking-wide leading-relaxed text-blue-40",children:(N=(p=a[0])==null?void 0:p.shopId)==null?void 0:N.description})}),e("p",{className:"text-black-40 text-[1.6rem] md:text-[2.5rem] font-[700] py-[2rem]",children:"Products"}),e("div",{className:"flex flex-row flex-wrap gap-[2rem] justify-around",children:a==null?void 0:a.map((g,P)=>{var z;return e(he,{name:g==null?void 0:g.name,price:g==null?void 0:g.price,img:g==null?void 0:g.images[0],id:g==null?void 0:g._id,userName:(z=g==null?void 0:g.ownerId)==null?void 0:z.userName},P)})})]})]}):m("div",{className:"flex flex-row self-center items-center py-[10rem] gap-x-[2rem] px-[2rem]",children:[e("div",{style:{backgroundImage:"url(/img/wallet.png)"},className:"bg-contain bg-center  bg-no-repeat h-[10rem] w-[10rem]"}),e("p",{className:"text-red-20 font-[700] text-[1rem] md:text-[1.7rem]",children:"This shop is empty right now."})]})})},ge=({children:a})=>{const{token:t}=A(q);let n=qe();return(t==null?void 0:t.length)<1||t===void 0?e(Be,{to:"/login",state:{from:n},replace:!0}):a},kr=()=>m(_e,{children:[m($,{path:"/",element:e(sr,{}),children:[e($,{path:"/",element:e(Qe,{})}),e($,{path:"/searching",element:e(vr,{})}),e($,{path:"/product/:productId",element:e(Nr,{})}),e($,{path:"/shop/:shopId",element:e(Sr,{})}),e($,{path:"/orders",element:e(ge,{children:e(br,{})})})]}),m($,{path:"/myAccount",element:e(ge,{children:e(gr,{})}),children:[e($,{path:"/myAccount",element:e(nr,{})}),e($,{path:"/myAccount/shops",element:e(xr,{})})]}),e($,{path:"/login",element:e(je,{})}),e($,{path:"/register",element:e(Ge,{})})]});Ue.render(e(ze.StrictMode,{children:e(Re,{children:e(De,{children:e(kr,{})})})}),document.getElementById("root"));
