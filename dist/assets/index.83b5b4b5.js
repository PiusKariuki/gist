import{j as R,a as Z,R as J,b as _,r as m,u as K,L as j,F as w,f as V,c as Q,d as W,e as X,g as Y,h as ee,N as v,i as re,k as te,l as se,m as $,n as g,o as ae,p as le,q as ne,B as oe}from"./vendor.432b1aed.js";const me=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const t of a)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function c(a){const t={};return a.integrity&&(t.integrity=a.integrity),a.referrerpolicy&&(t.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?t.credentials="include":a.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(a){if(a.ep)return;a.ep=!0;const t=c(a);fetch(a.href,t)}};me();const e=R.exports.jsx,l=R.exports.jsxs,q=R.exports.Fragment,L=()=>({renderSpinner:s=>e("div",{className:`${s?"flex justify-center items-center":"hidden"}`,children:e("div",{className:"animate-spin rounded-full h-[4rem] w-[4rem] border-b-[0.2rem] \r border-green-40"})})}),ce="http://localhost:5000",P=Z.create({baseURL:ce}),ie=r=>({setSelf:s,onSet:c})=>{const n=localStorage.getItem(r);n!==null&&s(JSON.parse(n)),c((a,t,o)=>{o?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(a))})},F=J({key:"user",default:{},effects_UNSTABLE:[ie("gist_user"),({onSet:r})=>r(s=>console.log("current user",s))]}),M=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,de=/^[a-zA-Z0-9]{6,}$/,ue=()=>{const r=_(F),[s,c]=m.exports.useState(""),[n,a]=m.exports.useState(""),[t,o]=m.exports.useState(!1),[d,i]=m.exports.useState({}),[b,f]=m.exports.useState(""),[u,x]=m.exports.useState("");let k=K();return{errors:d,email:s,password:n,handleChange:h=>{switch(i(""),h.target.name){case"email":c(h.target.value),h.target.value.toLowerCase().match(M)?x(""):x("Invalid email");break;case"pass":a(h.target.value);break}},login:async h=>{var C;h.preventDefault(),o(!0),i({});try{const{data:N}=await P.post("/login",{email:s,password:n});r(N),o(!1),i(""),k("/")}catch(N){i((C=N==null?void 0:N.response)==null?void 0:C.data),o(!1)}},load:t,mailErrors:u,passErrors:b}},T=()=>{const{errors:r,email:s,password:c,handleChange:n,login:a,load:t,mailErrors:o,passErrors:d}=ue(),{renderSpinner:i}=L();return l("div",{className:"flex flex-col bg-transparent w-full items-center",children:[e("p",{className:"text-[1.6rem] text-green-80 font-semibold mb-[6rem]",children:"GIST SHOP"}),l("form",{className:"flex flex-col gap-y-[0.5rem] pt-[3rem] w-[75vw] md:w-[50vw] lg:w-[30vw]",onSubmit:a,children:[e("input",{onChange:n,type:"text",id:"email",name:"email",value:s,placeholder:"Email",className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:o||(r==null?void 0:r.emailErr)}),e("input",{onChange:n,type:"password",id:"pass",name:"pass",placeholder:"password",value:c,className:"w-full border-[0.0625rem]  \r border-black-70 h-[3.25rem] outline-none rounded-[0.25rem]\r font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:d||(r==null?void 0:r.passErr)}),i(t),l("div",{className:"flex flex-col  mt-[4rem] md:gap-y-[2rem] ",children:[e("button",{disabled:d.length>1||o.length>1,type:"submit",className:"w-full btn bg-red-20  hover:bg-red-20 text-[1.2rem]\r text-white h-[2.8125rem] ",children:"Sign in"}),l("p",{className:"text-[1.2rem] text-center self-center font-semibold tracking-[0.02rem]\r mt-[2rem] md:mt-[0rem]",children:["Need an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(j,{to:"/register",children:"Signup"})})]})]})]})]})},pe=()=>{const[r,s]=m.exports.useState(""),[c,n]=m.exports.useState(""),[a,t]=m.exports.useState(""),[o,d]=m.exports.useState(""),[i,b]=m.exports.useState(""),[f,u]=m.exports.useState(""),[x,k]=m.exports.useState(""),[y,E]=m.exports.useState(""),[h,C]=m.exports.useState(""),[N,A]=m.exports.useState(!1),[H,I]=m.exports.useState({}),G=_(F);return{mailError:r,passError:c,email:a,password:o,fname:i,lname:f,bio:x,userName:y,handleChange:p=>{switch(I(""),p.target.id){case"email":t(p.target.value),p.target.value.toLowerCase().match(M)?s(""):s("Invalid email");break;case"pass":d(p.target.value),p.target.value.match(de)?n(""):n("Password should be atleast six characters long");break;case"fname":b(p.target.value);break;case"lname":u(p.target.value);break;case"userName":E(p.target.value);break;case"bio":k(p.target.value);break;case"phone":C(p.target.value);break}},register:async p=>{var z,O;p.preventDefault(),A(!0),I({});let D={email:a,password:o,firstName:i,lastName:f,userName:y,bio:x,phonenumber:h};try{const{data:S}=await P.post("/register",D);G(S),A(!1),I("")}catch(S){((z=S.response.data)==null?void 0:z.code)===11e3&&s("This email is already registered"),I((O=S==null?void 0:S.response)==null?void 0:O.data),A(!1)}},load:N,errors:H,phone:h}},U=()=>{var y,E;const{mailError:r,passError:s,email:c,password:n,fname:a,lname:t,bio:o,userName:d,handleChange:i,register:b,load:f,errors:u,phone:x}=pe(),{renderSpinner:k}=L();return l("div",{className:"flex flex-col md:flex-row gap-x-[2.5rem]",children:[e("div",{className:"hidden lg:flex lg:min-w-[25%] bg-green-60 lg:min-h-screen"}),l("form",{className:"flex flex-col gap-y-[0.1rem] w-full lg:w-[50%] py-[3rem] px-[1rem]",onSubmit:b,children:[e("p",{className:"text-[2.2rem] text-blue-20 font-semibold mb-[1.5rem] justify-center",children:"GIST SHOP"}),e("p",{className:"text-[1rem] font-medium",children:"Create your account"}),e("label",{htmlFor:"email",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Email Address"}),e("input",{onChange:i,value:c,required:!0,type:"text",id:"email",name:"email",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem]  font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:r||((y=u==null?void 0:u.email)==null?void 0:y.message)||u.length>1&&u}),e("label",{htmlFor:"fname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"First Name"}),e("input",{onChange:i,value:a,required:!0,type:"text",id:"fname",name:"fname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"lname",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Last Name"}),e("input",{onChange:i,value:t,required:!0,type:"text",id:"lname",name:"lname",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"userName",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"userName"}),e("input",{onChange:i,value:d,required:!0,type:"text",id:"userName",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"bio",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Bio"}),e("input",{onChange:i,value:o,required:!0,id:"bio",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"phone",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Phone Number"}),e("input",{onChange:i,value:x,required:!0,id:"phone",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("label",{htmlFor:"pass",className:"font-bold leading-[1rem] tracking-[0.02rem] text-[0.9rem] mt-[3rem] \r mb-[0.5rem]",children:"Password"}),e("input",{onChange:i,value:n,required:!0,type:"password",id:"pass",name:"pass",className:"border-[0.0625rem] border-black-70 h-[2.25rem] outline-none text-blue-20\r rounded-[0.25rem] font-bold px-[1rem] focus:ring-2 focus:ring-blue-500"}),e("p",{className:"text-red-600 font-bold text-[1rem] text-center",children:s||((E=u==null?void 0:u.password)==null?void 0:E.message)}),e("div",{className:"mt-[1rem]",children:k(f)}),e("button",{disabled:s.length>1||r.length>1||f,type:"submit",className:"btn py-[0.5rem] mt-[3rem] md:max-w-[7rem] text-white text-[1.2rem]\r font-bold ",children:"Submit"}),l("p",{className:"text-[1rem] text-center md:text-left  font-semibold mt-[2rem]\r tracking-[0.02rem]",children:["Already have an account?",e("span",{className:"text-blue-600 px-[1rem]",children:e(j,{to:"/",children:"Login"})})]})]})]})},B=({images:r,name:s,price:c,quantity:n})=>{const[a,t]=m.exports.useState(0);return l("div",{className:"flex flex-col relative md:w-[40%] lg:w-[28%] shadow-2xl border-2 rounded-3xl \r py-[1.2rem] max-h-[65vh] md:max-h-[80vh] lg:max-h-[80vh] z-20 overflow-clip",children:[e("div",{style:{backgroundImage:`url(/img/${r[a]})`},className:" bg-contain bg-no-repeat bg-center w-[80%] h-[18rem] md:h-[24rem] relative\r hover:scale-125 lg:hover:scale-[1.25] z-0 transition ease-in-out  duration-500\r self-center max-h-[50%]"}),l("div",{className:"flex flex-col text-[1.2rem] md:text-[1.35rem] font-[800] bg-white text-center \r py-[1rem]  items-center gap-y-[0.8rem] z-20 text-black-40",children:[e("p",{children:s}),l("p",{className:"text-red-600 font-[800]",children:["$",c]}),l("p",{children:["In Stock: ",e("span",{className:"text-red-600",children:n})]}),l("button",{className:"btn h-[4rem] bg-green-80 w-[12rem] text-white",children:[e("img",{src:"/img/cart.png",className:"h-[2rem] inline mr-auto"}),e("span",{children:"Add to cart"})]})]}),e(w,{icon:V,color:"green",size:"2x",onClick:()=>t(o=>o===0?r.length-1:o-1),className:"absolute  top-[25%] left-[2%]"}),e(w,{icon:Q,color:"green",size:"2x",className:"absolute  top-[25%] right-[2%] ",onClick:()=>t(o=>o===r.length-1?0:o+1)})]})},xe=()=>{const[r,s]=m.exports.useState([]),[c,n]=m.exports.useState(""),[a,t]=m.exports.useState(!1);return{getProducts:async()=>{t(!0);try{let{data:d}=await P.get("/products");s(d),t(!1)}catch(d){t(!1),n(d)}},products:r,errors:c,load:a}},he=()=>{const{getProducts:r,products:s,errors:c,load:n}=xe(),{renderSpinner:a}=L();return m.exports.useEffect(()=>{r()},[]),l("div",{className:"flex flex-col md:flex-row flex-wrap px-[2rem] py-[3rem] w-screen \r justify-around gap-y-[2.2rem]",children:[a(n),s.length>0&&s.map((t,o)=>e(B,{images:t.images,name:t.name,price:t.price,quantity:t.quantity},o))]})},fe=()=>{const[r,s]=m.exports.useState([]),[c,n]=m.exports.useState(""),[a,t]=m.exports.useState(!1);return{shopDetails:r,getShopDetails:async d=>{t(!0);try{let{data:i}=await P.get(`/products/${d}`);s(i),t(!1)}catch(i){n(i),t(!0)}},load:a,errors:c}},ge=()=>{const{renderSpinner:r}=L(),{shopDetails:s,getShopDetails:c,load:n,errors:a}=fe(),t=W();m.exports.useEffect(()=>{c(t.shopId)},[]);let{name:o,email:d,location:i,phoneNumber:b,description:f}=s.length>0&&s[0].shopId;return e(q,{children:n||s.length>0?l("div",{className:"flex flex-col px-[2rem] py-[2.5rem]",children:[r(n),l("div",{className:"flex flex-col md:flex-row  md:min-h-[45vh] border-2 rounded-3xl \r shadow-2xl  font-[500]  w-full  justify-around",children:[l("div",{className:"px-[2rem] py-[2rem] flex flex-col md:max-w-[40%]",children:[e("p",{className:"text-left text-[2.2rem] text-blue-20 \r tracking-wide",children:o}),e("p",{className:"text-left text-[1rem] md:text-[1.2rem] tracking-wider\r leading-loose",children:f})]}),l("div",{className:"h-full px-[2rem] py-[2rem] flex flex-col",children:[e("p",{className:"text-left text-[1rem] md:text-[1.5rem] underline mb-[1rem]",children:"Contact Information:"}),l("p",{className:"text-left self-start text-blue-20 font-[600] text-[1rem]\r md:text-[1.5rem] tracking-wider",children:[e(w,{icon:X,size:"2x",color:"purple",className:"pt-[1rem] mr-[1rem]"}),d]}),l("p",{className:"text-left self-start text-blue-20 font-[600] text-[1rem]\r md:text-[1.5rem] tracking-wider ",children:[e(w,{icon:Y,size:"2x",color:"purple",className:"pt-[1rem] mr-[1rem]"}),b]}),l("p",{className:"text-left self-start text-blue-20 font-[600] text-[1rem]\r md:text-[1.5rem] tracking-wider",children:[e(w,{icon:ee,size:"2x",color:"purple",className:"pt-[1rem] mr-[1rem]"}),i]})]})]}),e("p",{className:"text-blue-20 text-[1.5rem] md:text-[4.2rem] text-center w-screen \r self-center justify-center mt-[2rem] md:mt-[4rem] font-[900]",children:"Here are our products."}),e("div",{className:"flex flex-col md:flex-row flex-wrap px-[2rem] py-[3rem] w-screen \r justify-around gap-y-[4.2rem]",children:s.length>0&&s.map((u,x)=>e(B,{images:u.images,name:u.name,price:u.price,quantity:u.quantity},x))})]}):l("div",{className:"flex flex-row flex-nowrap  w-screen py-[4rem] md:py-[5rem] px-[2rem] \r md:px-[2rem] items-center justify-center gap-x-[1rem]",children:[e("img",{src:"/img/wallet.png",alt:"",className:"max-w-[30vw]   md:max-w-[80vw] md:max-h-[40vh]"}),l("p",{className:"text-left text-[2rem] text-black-40 font-[500]",children:["This shop is empty.",e("img",{src:"/img/",alt:""})]})]})})},be=({name:r,location:s,image:c,shopId:n})=>l("div",{className:"flex flex-col relative md:w-[40%] lg:w-[28%] shadow-2xl border-2 rounded-3xl \r py-[1.2rem] max-h-[65vh] md:max-h-[80vh] lg:max-h-[80vh] overflow-clip",children:[e("div",{style:{backgroundImage:`url(/img/${c})`},className:" bg-contain bg-no-repeat bg-center w-[80%] h-[18rem] md:h-[24rem] relative\r hover:scale-125 lg:hover:scale-[1.25] z-0 transition ease-in-out  duration-500\r self-center"}),l("div",{className:"flex flex-col text-[1.2rem] md:text-[1.35rem] font-[800] bg-white text-center\r py-[1rem]  items-center gap-y-[1rem]",children:[e("p",{className:"text-red-600",children:r}),l("p",{className:" font-[800]",children:[e("img",{src:"/img/location.svg",alt:"Location",className:"h-[1.4rem] w-[1.4rem]\r inline self-center"}),"\xA0\xA0",e("span",{className:"text-red-600",children:s})]}),e(j,{to:`/shops/${n}`,children:e("button",{className:"btn h-[2.5rem] bg-green-80 w-[10rem] text-white",children:"Learn More"})})]})]}),Ne=()=>{const[r,s]=m.exports.useState([]),[c,n]=m.exports.useState(""),[a,t]=m.exports.useState(!1);return{shops:r,getShops:async()=>{t(!0);try{let{data:d}=await P.get("/shop");s(d),t(!1)}catch(d){t(!1),n(d)}},errors:c,load:a}},we=()=>{const{shops:r,getShops:s,errors:c,load:n}=Ne(),{renderSpinner:a}=L();return m.exports.useEffect(()=>{s()},[]),l("div",{className:"flex flex-col md:flex-row flex-wrap px-[2rem] py-[3rem] w-screen \r justify-around gap-y-[2.2rem]",children:[a(n),r.length>1&&r.map((t,o)=>e(be,{name:t.name,image:t.image,location:t.location,shopId:t._id},o))]})},ve=()=>l("div",{className:"flex flex-row  px-[3rem] gap-x-[2rem] py-[1rem] items-center\r justify-around font-[900] text-[0.8rem] md:text-[1.2rem] uppercase text-black-40\r ",children:[e(v,{to:"/",className:({isActive:r})=>`${r?"border-b-[0.2rem] border-blue-20 pb-[0.5rem] md:pb-[1rem] md:px-[1.2rem]":"border-0 pb-[0.5rem] md:pb-[1rem] md:px-[1.2rem]"} }`,children:"PRODUCTS"}),e(v,{to:"/shops",className:({isActive:r})=>`${r?"border-b-[0.2rem] border-blue-20 pb-[0.5rem] md:pb-[1rem] md:px-[1.2rem]":"border-0 pb-[0.5rem] md:pb-[1rem] md:px-[1.2rem]"} }`,children:"Shops"}),e(v,{to:"/",className:({isActive:r})=>`${r?"border-b-[0rem] border-blue-20 pb-[0.5rem] md:pb-[1rem] md:px-[1.2rem]":"border-0 pb-[0.5rem] md:pb-[1rem] md:px-[1.2rem]"} }`,children:"Orders"}),e(v,{to:"/",className:({isActive:r})=>`${r?"border-b-[0rem] border-blue-20 pb-[0.5rem] md:pb-[1rem] md:px-[1.2rem]":"border-0 pb-[0.5rem] md:pb-[1rem] md:px-[1.2rem]"} }`,children:"Cart"})]}),ye=()=>(re(F),l("div",{className:"flex flex-row bg-transparent px-[1.2rem] md:px-[3rem] py-[1.3rem] text-black\r text-[1.2rem] front-[400] md:text-[1.8rem] md:font-[600] items-center",children:[e(v,{to:"/",className:"flex md:flex  text-[1.1rem] font-[500] md:text-[4rem] md:font-[900] \r text-blue-20",children:"GIST SHOP"}),e("div",{className:"flex flex-row ml-auto gap-x-[2rem] items-center font-light text-blue-20",children:l(q,{children:[l(v,{to:"/login",className:"",children:[e(w,{icon:te,className:"mr-[0.6rem]"}),"login"]}),l(v,{to:"/register",className:"",children:[e(w,{icon:se,className:"mr-[0.6rem]"}),"register"]})]})})]})),Se=()=>l("div",{className:"flex flex-col overflow-x-clip",children:[e(ye,{}),e(ve,{}),l($,{children:[e(g,{index:!0,element:e(he,{})}),e(g,{path:"/shops",element:e(we,{})}),e(g,{path:"/shops/:shopId",element:e(ge,{})}),e(g,{path:"/login",element:e(T,{})}),e(g,{path:"/register",element:e(U,{})})]})]}),ke=()=>e(q,{children:l($,{children:[e(g,{path:"/*",element:e(Se,{})}),e(g,{path:"/login",element:e(T,{})}),e(g,{path:"/register",element:e(U,{})})]})});ae.render(e(le.StrictMode,{children:e(ne,{children:e(oe,{children:e(ke,{})})})}),document.getElementById("root"));
